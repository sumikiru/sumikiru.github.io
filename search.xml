<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>7.1è´ªå¿ƒç®—æ³•ç¯‡(2)</title>
      <link href="/posts/5846fa02.html"/>
      <url>/posts/5846fa02.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> leetcodeåˆ·é¢˜ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> leetcode </tag>
            
            <tag> è´ªå¿ƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>7.è´ªå¿ƒç®—æ³•ç¯‡</title>
      <link href="/posts/dc2082d.html"/>
      <url>/posts/dc2082d.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> leetcodeåˆ·é¢˜ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> leetcode </tag>
            
            <tag> è´ªå¿ƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6.1å“ˆå¸Œè¡¨ç¯‡(2)</title>
      <link href="/posts/6f36f465.html"/>
      <url>/posts/6f36f465.html</url>
      
        <content type="html"><![CDATA[<h1 id="3-å“ˆå¸Œè¡¨ä¸ç»Ÿè®¡"><a href="#3-å“ˆå¸Œè¡¨ä¸ç»Ÿè®¡" class="headerlink" title="3.å“ˆå¸Œè¡¨ä¸ç»Ÿè®¡"></a>3.å“ˆå¸Œè¡¨ä¸ç»Ÿè®¡</h1><h2 id="3-1-æœ€é•¿å’Œè°å­åºåˆ—ï¼š594"><a href="#3-1-æœ€é•¿å’Œè°å­åºåˆ—ï¼š594" class="headerlink" title="3-1.æœ€é•¿å’Œè°å­åºåˆ—ï¼š594"></a>3-1.æœ€é•¿å’Œè°å­åºåˆ—ï¼š594</h2><p>æ³•ä¸€ï¼šæ’åº+æ»‘åŠ¨çª—å£</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">findLHS</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right &amp;&amp; right &lt;= nums.<span class="built_in">size</span>() - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">abs</span>(nums[right] - nums[left]) == <span class="number">1</span>) &#123;</span><br><span class="line">                ans = <span class="built_in">max</span>(right - left + <span class="number">1</span>, ans);</span><br><span class="line">                right++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">abs</span>(nums[right] - nums[left]) &lt; <span class="number">1</span>) &#123;</span><br><span class="line">                right++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šå“ˆå¸Œè¡¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">findLHS</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; cnt;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            cnt[num]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> [key, val] : cnt) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cnt.<span class="built_in">count</span>(key + <span class="number">1</span>)) &#123;</span><br><span class="line">                ans = <span class="built_in">max</span>(ans, val + cnt[key + <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="3-2-ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†IIï¼š350"><a href="#3-2-ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†IIï¼š350" class="headerlink" title="3-2.ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†IIï¼š350"></a>3-2.ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†IIï¼š350</h2><p>ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†:349ï¼Œè¯¦è§ã€Š6.0å“ˆå¸Œè¡¨ç¯‡1-2ã€‹</p><p>æ³•ä¸€ï¼šå“ˆå¸Œè¡¨(æœ€ä¼˜è§£)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">intersect</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums1, vector&lt;<span class="type">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums1) &#123;</span><br><span class="line">            mp[num]++;</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums2) &#123;</span><br><span class="line">            <span class="keyword">if</span> (mp.<span class="built_in">count</span>(num) &amp;&amp; mp[num]) &#123;</span><br><span class="line">                mp[num]--;</span><br><span class="line">                res.<span class="built_in">emplace_back</span>(num);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šæ’åº+åŒæŒ‡é’ˆ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">intersect</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums1, vector&lt;<span class="type">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums1.<span class="built_in">begin</span>(), nums1.<span class="built_in">end</span>());</span><br><span class="line">        <span class="built_in">sort</span>(nums2.<span class="built_in">begin</span>(), nums2.<span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> index1 = <span class="number">0</span>, index2 = <span class="number">0</span>;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">        <span class="keyword">while</span> (index1 &lt; nums1.<span class="built_in">size</span>() &amp;&amp; index2 &lt; nums2.<span class="built_in">size</span>()) &#123;</span><br><span class="line">            <span class="type">int</span> num1 = nums1[index1], num2 = nums2[index2];</span><br><span class="line">            <span class="keyword">if</span> (num1 == num2) &#123;</span><br><span class="line">                res.<span class="built_in">emplace_back</span>(num1);</span><br><span class="line">                index1++;</span><br><span class="line">                index2++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num1 &lt; num2) &#123;</span><br><span class="line">                index1++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                index2++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><pre><code>å¦‚æœ$&#123;nums&#125;_2$çš„å…ƒç´ å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œç£ç›˜å†…å­˜æ˜¯æœ‰é™çš„ï¼Œå¹¶ä¸”ä½ **ä¸èƒ½ä¸€æ¬¡åŠ è½½æ‰€æœ‰çš„å…ƒç´ åˆ°å†…å­˜ä¸­**ã€‚é‚£ä¹ˆå°±æ— æ³•é«˜æ•ˆåœ°å¯¹$&#123;nums&#125;_2$è¿›è¡Œæ’åºï¼Œå› æ­¤æ¨èä½¿ç”¨æ–¹æ³•ä¸€è€Œä¸æ˜¯æ–¹æ³•äºŒã€‚åœ¨æ–¹æ³•ä¸€ä¸­ï¼Œ$&#123;nums&#125;_2$åªå…³ç³»åˆ°æŸ¥è¯¢æ“ä½œï¼Œå› æ­¤æ¯æ¬¡è¯»å–$&#123;nums&#125;_2$ä¸­çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼Œå¹¶è¿›è¡Œå¤„ç†å³å¯ã€‚</code></pre><h2 id="3-3-ç –å¢™ï¼š554"><a href="#3-3-ç –å¢™ï¼š554" class="headerlink" title="3-3.ç –å¢™ï¼š554"></a>3-3.ç –å¢™ï¼š554</h2><p>å“ˆå¸Œè¡¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">leastBricks</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; wall)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; widths : wall) &#123;</span><br><span class="line">            <span class="type">int</span> n = widths.<span class="built_in">size</span>();</span><br><span class="line">            <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">                sum += widths[i];</span><br><span class="line">                mp[sum]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> maxCnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; [_, value] : mp) &#123;</span><br><span class="line">            maxCnt = <span class="built_in">max</span>(maxCnt, value);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> wall.<span class="built_in">size</span>() - maxCnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="3-4-åœ¨ç³»ç»Ÿä¸­æŸ¥æ‰¾é‡å¤æ–‡ä»¶ï¼š609"><a href="#3-4-åœ¨ç³»ç»Ÿä¸­æŸ¥æ‰¾é‡å¤æ–‡ä»¶ï¼š609" class="headerlink" title="3-4.åœ¨ç³»ç»Ÿä¸­æŸ¥æ‰¾é‡å¤æ–‡ä»¶ï¼š609"></a>3-4.åœ¨ç³»ç»Ÿä¸­æŸ¥æ‰¾é‡å¤æ–‡ä»¶ï¼š609</h2><p>æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</p><pre><code>éº»çƒ¦ä¹‹å¤„åœ¨äºï¼Œä¸åªæ˜¯`&quot;root/a 1.txt(abcd)&quot;`ä¸€ç§æ ¼å¼ï¼Œè¿˜å¯èƒ½æ˜¯`&quot;root/a 1.txt(abcd) 2.txt(efgh)&quot;`ã€‚æ€è·¯ç®€å•ï¼Œä½†æ˜¯å†™èµ·æ¥å¤æ‚ã€‚</code></pre><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;string&gt;&gt; <span class="built_in">findDuplicate</span>(vector&lt;string&gt;&amp; paths) &#123;</span><br><span class="line">        unordered_map&lt;string, vector&lt;string&gt;&gt; t;</span><br><span class="line">        <span class="keyword">auto</span> help = [](string s) -&gt; pair&lt;string, string&gt; &#123;</span><br><span class="line">            string name, content;</span><br><span class="line">            <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(; i&lt;s.<span class="built_in">size</span>() &amp;&amp; s[i] != <span class="string">&#x27;(&#x27;</span>; i++)&#123;</span><br><span class="line">                name += s[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(i++; i&lt;s.<span class="built_in">size</span>() &amp;&amp; s[i] != <span class="string">&#x27;)&#x27;</span>; i++)&#123;</span><br><span class="line">                content += s[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> &#123;name, content&#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> path : paths)&#123;</span><br><span class="line">            string p;</span><br><span class="line">            <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(path[i] != <span class="string">&#x27; &#x27;</span>)&#123;</span><br><span class="line">                p += path[i];</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            string tmp;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> l=i, r=i+<span class="number">1</span>; r &lt; path.<span class="built_in">size</span>(); r++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(path[r] == <span class="string">&#x27; &#x27;</span> || r == path.<span class="built_in">size</span>() - <span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="keyword">auto</span> [name, content] = <span class="built_in">help</span>(path.<span class="built_in">substr</span>(l+<span class="number">1</span>, r-l));</span><br><span class="line">                    t[content].<span class="built_in">push_back</span>(p+<span class="string">&#x27;/&#x27;</span>+name);</span><br><span class="line">                    l = r;</span><br><span class="line">                    tmp.<span class="built_in">clear</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;vector&lt;string&gt;&gt; ans;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;[_, names] : t)&#123;</span><br><span class="line">            <span class="keyword">if</span>(names.<span class="built_in">size</span>() &gt; <span class="number">1</span>)</span><br><span class="line">                ans.<span class="built_in">emplace_back</span>(names);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šistringstream</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;string&gt;&gt; <span class="built_in">findDuplicate</span>(vector&lt;string&gt;&amp; paths) &#123;</span><br><span class="line">        vector&lt;vector&lt;string&gt;&gt; ans;</span><br><span class="line">        unordered_map&lt;string, vector&lt;string&gt;&gt; um;   <span class="comment">//æ–‡ä»¶å†…å®¹-&gt;æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> string&amp; path: paths) &#123;</span><br><span class="line">            <span class="function">istringstream <span class="title">iss</span><span class="params">(path)</span></span>;</span><br><span class="line">            string dir, tmp;</span><br><span class="line">            iss &gt;&gt; dir;</span><br><span class="line">            <span class="keyword">while</span> (iss &gt;&gt; tmp) &#123;</span><br><span class="line">                string key, val;</span><br><span class="line">                <span class="built_in">getKeyAndVal</span>(key, val, tmp, dir);</span><br><span class="line">                um[key].<span class="built_in">push_back</span>(val);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; p: um) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p.second.<span class="built_in">size</span>() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                ans.<span class="built_in">push_back</span>(p.second);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">getKeyAndVal</span><span class="params">(string&amp; key, string&amp; val, <span class="type">const</span> string&amp; tmp, <span class="type">const</span> string&amp; dir)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (tmp[i] != <span class="string">&#x27;(&#x27;</span>) ++i;</span><br><span class="line">        val = dir + <span class="string">&quot;/&quot;</span> + tmp.<span class="built_in">substr</span>(<span class="number">0</span>, i);</span><br><span class="line">        <span class="type">int</span> j = i + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (tmp[j] != <span class="string">&#x27;)&#x27;</span>) ++j;</span><br><span class="line">        key = tmp.<span class="built_in">substr</span>(i + <span class="number">1</span>, j - i - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å…³äºstringstream"><a href="#å…³äºstringstream" class="headerlink" title="å…³äºstringstream"></a>å…³äºstringstream</h2><pre><code>istringstreamæ˜¯ç»§æ‰¿äºistreamï¼Œostringstreamæ˜¯ç»§æ‰¿äºostreamï¼Œè€Œä»–ä»¬ä½¿ç”¨çš„ç¼“å†²åŒºç±»æ˜¯stringbufã€‚äºŒè€…è¯¦ç»†è¯´æ˜ï¼š[istringstreamåŠostringstreamè¶…è¯¦ç»†è¯´æ˜--çŸ¥ä¹](https://zhuanlan.zhihu.com/p/367869633)</code></pre><p><img src="https://s2.loli.net/2024/04/07/eMHJ6g4Wcxmld8u.png" alt=""></p><pre><code>stringstreamæ ·ä¾‹ï¼š[C++ä¸­stringstreamæ ·ä¾‹-åšå®¢å›­](https://www.cnblogs.com/zhang-qc/p/9048977.html)åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ`istringstream` ç”¨äºä»å­—ç¬¦ä¸²ä¸­æå–æ•°æ®ã€‚é’ˆå¯¹æ¯ä¸ª `path`ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ª `istringstream` å¯¹è±¡ï¼Œç„¶åä½¿ç”¨ `iss &gt;&gt; dir` è¯­å¥æå–ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆç›®å½•ä¿¡æ¯ï¼‰ï¼Œä¹‹åä½¿ç”¨ `iss &gt;&gt; tmp` å¾ªç¯æå–åç»­çš„å­—ç¬¦ä¸²ã€‚</code></pre><p>ä¼˜åŠ¿ï¼š</p><ol><li><p><strong>æ–¹ä¾¿çš„è¾“å…¥æµæ“ä½œ</strong>ï¼š<code>istringstream</code> æä¾›äº†ä¸æ ‡å‡†è¾“å…¥è¾“å‡ºæµ <code>cin</code> å’Œ <code>cout</code> ç›¸ä¼¼çš„æ¥å£æ¥å¤„ç†å­—ç¬¦ä¸²ã€‚</p></li><li><p><strong>è½»é‡çº§</strong>ï¼š<code>istringstream</code> æ˜¯åŸºäºå†…å­˜çš„è¾“å…¥æµï¼Œå› æ­¤æ“ä½œé€Ÿåº¦å¿«ã€‚</p></li><li><p><strong>å¯é‡å¤ä½¿ç”¨</strong>ï¼šå¯ä»¥é‡å¤ä½¿ç”¨ <code>istringstream</code> å¯¹ä¸åŒçš„å­—ç¬¦ä¸²è¿›è¡Œè§£æï¼Œè€Œæ— éœ€é‡æ–°åˆå§‹åŒ–ã€‚</p></li><li><p><strong>æ•°æ®ç±»å‹è½¬æ¢</strong>ï¼š<code>istringstream</code> æä¾›äº†å¯ä»¥è½»æ¾å°†ä¸åŒç±»å‹æ•°æ®ä»å­—ç¬¦ä¸²ä¸­æå–å‡ºæ¥çš„æ–¹æ³•ã€‚</p></li><li><p><strong>é€‚ç”¨äºåˆ†è¯</strong>ï¼šé€‚ç”¨äºä»è¾“å…¥çš„å­—ç¬¦ä¸²ä¸­æå–å•è¯æˆ–æ•°æ®ã€‚å¯ä»¥ä½¿ç”¨ <code>&gt;&gt;</code> æ“ä½œç¬¦æ¥<u>æŒ‰ç©ºæ ¼ç­‰åˆ†éš”ç¬¦å°†å­—ç¬¦ä¸²åˆ†è¯</u>ã€‚</p><p> æ€»ä¹‹ï¼Œ<code>istringstream</code> æä¾›äº†ä¸€ç§æ–¹ä¾¿ã€é«˜æ•ˆçš„æ–¹å¼æ¥å¤„ç†ä»å­—ç¬¦ä¸²ä¸­æå–æ•°æ®ï¼Œä½¿å¾—å¯¹æ–‡æœ¬è¿›è¡Œè§£æå’Œå¤„ç†å˜å¾—æ›´åŠ å®¹æ˜“ã€‚åœ¨éœ€è¦å°†å­—ç¬¦ä¸²æŒ‰ç…§ç©ºæ ¼åˆ†å‰²ä¸ºå„ä¸ªéƒ¨åˆ†å¹¶è®°å½•ä¸‹å¯¹åº”å€¼æ—¶ï¼Œå¯ä»¥èµ·åˆ°ç±»ä¼¼å…¶ä»–è¯­è¨€ä¸­<code>split(&#39; &#39;)</code>çš„ä½œç”¨ã€‚</p></li></ol><h2 id="3-5-å››æ•°ç›¸åŠ IIï¼š454"><a href="#3-5-å››æ•°ç›¸åŠ IIï¼š454" class="headerlink" title="3-5.å››æ•°ç›¸åŠ IIï¼š454"></a>3-5.å››æ•°ç›¸åŠ IIï¼š454</h2><p>ğŸ’¬éš¾åœ¨æ€è·¯: åˆ†æ²»+å“ˆå¸Œè¡¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">fourSumCount</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums1, vector&lt;<span class="type">int</span>&gt;&amp; nums2, vector&lt;<span class="type">int</span>&gt;&amp; nums3, vector&lt;<span class="type">int</span>&gt;&amp; nums4)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp; <span class="comment">//ç´¯åŠ å’Œ-&gt;ç»„åˆæ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>&amp; a : nums1) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span>&amp; b : nums2) &#123;</span><br><span class="line">                mp[a + b]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>&amp; c : nums3) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span>&amp; d : nums4) &#123;</span><br><span class="line">                <span class="keyword">if</span> (mp.<span class="built_in">count</span>(-c - d)) &#123;</span><br><span class="line">                    ans += mp[-c - d]; <span class="comment">// ä¸èƒ½åªåŠ ä¸€æ¬¡ï¼Œå¯èƒ½å¤šç§æƒ…å†µ</span></span><br><span class="line">                    <span class="comment">// åŒæ—¶ä¸åº”å†æ”¹å˜mp[-c-d]çš„å€¼</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><pre><code>ä¸‰æ•°ä¹‹å’Œï¼š15,å››æ•°ä¹‹å’Œï¼š18ã€‚è¿™ä¸¤é¢˜æœ€ä¼˜è§£ä¸ºåŒæŒ‡é’ˆï¼Œè€Œä¸æ˜¯å“ˆå¸Œè¡¨ã€‚æœ‰æ—¶å€™å“ˆå¸Œè¡¨æ—¶ç©ºå¼€é”€å¤ªå¤§æ—¶ï¼ŒåŒæŒ‡é’ˆå¾€å¾€èƒ½å¾ˆå¥½åœ°è§£å†³ã€‚</code></pre><h2 id="3-6-å¤šæ•°å…ƒç´ ï¼š169"><a href="#3-6-å¤šæ•°å…ƒç´ ï¼š169" class="headerlink" title="3-6.å¤šæ•°å…ƒç´ ï¼š169"></a>3-6.å¤šæ•°å…ƒç´ ï¼š169</h2><p>æ³•ä¸€ï¼šå“ˆå¸Œè¡¨(27ms,27.3MB)âœ…</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">majorityElement</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; counts;</span><br><span class="line">        <span class="type">int</span> majority = <span class="number">0</span>, cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            ++counts[num];</span><br><span class="line">            <span class="keyword">if</span> (counts[num] &gt; cnt) &#123;</span><br><span class="line">                majority = num;</span><br><span class="line">                cnt = counts[num];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> majority;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šæ’åº+å–ä¼—æ•°(20ms,27.2MB)</p><blockquote><p>è¿™é‡Œçš„â€å¤šæ•°å…ƒç´ â€å‡ºç°æ¬¡æ•°è¶…è¿‡æ€»æ¬¡æ•°çš„ä¸€åŠï¼Œæ‰€ä»¥å¿…å®šæ˜¯ä¼—æ•°ï¼Œå¹¶ä¸”æ’åºåä½äºä¸­é—´çš„æ•°ä¸€å®šæ˜¯ä¼—æ•°ï¼ˆæ•°å­¦æ€ç»´ï¼‰ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">majorityElement</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">return</span> nums[nums.<span class="built_in">size</span>() / <span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è™½ç„¶æ—¶é—´å¤æ‚åº¦æ¯”æ³•ä¸€é«˜ï¼Œä½†å®é™…è¿è¡Œæ—¶é—´ä¼šæ›´å°ã€‚ä½¿ç”¨å †æ’åºå¯ä»¥è¿›ä¸€æ­¥å‡å°ç©ºé—´å¼€é”€ã€‚</p><p>æ³•ä¸‰ï¼šéšæœºæ•°(äº†è§£)</p><p>æœ€åæ—¶é—´å¤æ‚åº¦ä¸º$O(\infty)$ï¼Œå¯èƒ½ä¸€ç›´æ‰¾ä¸åˆ°ä¼—æ•°ã€‚ç”¨<code>rand()</code>ç”Ÿæˆéšæœºæ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">majorityElement</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="type">int</span> candidate = nums[<span class="built_in">rand</span>() % nums.<span class="built_in">size</span>()];</span><br><span class="line">            <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> num : nums)</span><br><span class="line">                <span class="keyword">if</span> (num == candidate)</span><br><span class="line">                    ++count;</span><br><span class="line">            <span class="keyword">if</span> (count &gt; nums.<span class="built_in">size</span>() / <span class="number">2</span>)</span><br><span class="line">                <span class="keyword">return</span> candidate;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•å››ï¼šåˆ†æ²»(24ms,26MB)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">count_in_range</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target, <span class="type">int</span> lo, <span class="type">int</span> hi)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = lo; i &lt;= hi; ++i)</span><br><span class="line">            <span class="keyword">if</span> (nums[i] == target)</span><br><span class="line">                ++count;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">majority_element_rec</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> lo, <span class="type">int</span> hi)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (lo == hi)</span><br><span class="line">            <span class="keyword">return</span> nums[lo];</span><br><span class="line">        <span class="type">int</span> mid = (lo + hi) / <span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span> left_majority = <span class="built_in">majority_element_rec</span>(nums, lo, mid);</span><br><span class="line">        <span class="type">int</span> right_majority = <span class="built_in">majority_element_rec</span>(nums, mid + <span class="number">1</span>, hi);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">count_in_range</span>(nums, left_majority, lo, hi) &gt; (hi - lo + <span class="number">1</span>) / <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> left_majority;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">count_in_range</span>(nums, right_majority, lo, hi) &gt; (hi - lo + <span class="number">1</span>) / <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> right_majority;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">majorityElement</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">majority_element_rec</span>(nums, <span class="number">0</span>, nums.<span class="built_in">size</span>() - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äº”ï¼šBoyer-MooreæŠ•ç¥¨ç®—æ³•(17ms,26.1MB)âœ…</p><p>è¯¦è§<a href="https://leetcode.cn/problems/majority-element/solutions/1/169-duo-shu-yuan-su-mo-er-tou-piao-qing-ledrh/">æœ¬é¢˜æ‘©å°”æŠ•ç¥¨æ¸…æ™°å›¾è§£</a>ã€‚æ ¸å¿ƒæ€æƒ³ä¸ºå¯¹æ‹¼æ¶ˆè€—ï¼Œå¦‚æœå…ƒç´ å‡ºç°æ¬¡æ•°ä¸è¶…è¿‡ä¸€åŠï¼Œåˆ™è¯¥æ–¹æ³•å¤±æ•ˆï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°å…¶æ³›åŒ–ç‰ˆâ€”â€”â€”Misra-Griesç®—æ³•ã€‚</p><p><a href="https://www.zhihu.com/question/49973163/answer/3202021480">å¦‚ä½•ç†è§£æ‘©å°”æŠ•ç¥¨ç®—æ³•ï¼Ÿâ€”åŠ›æ‰£</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">majorityElement</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> x = <span class="number">0</span>, votes = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums)&#123;</span><br><span class="line">            <span class="keyword">if</span> (votes == <span class="number">0</span>) x = num;</span><br><span class="line">            votes += num == x ? <span class="number">1</span> : <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ‹“å±•-å¤šæ•°å…ƒç´ IIï¼š229"><a href="#æ‹“å±•-å¤šæ•°å…ƒç´ IIï¼š229" class="headerlink" title="æ‹“å±•.å¤šæ•°å…ƒç´ IIï¼š229"></a>æ‹“å±•.å¤šæ•°å…ƒç´ IIï¼š229</h3><p>æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">majorityElement</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; counts;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; ans;</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; num : nums) &#123;</span><br><span class="line">            counts[num]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; cnt : counts) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cnt.second &gt; n / <span class="number">3</span>) &#123;</span><br><span class="line">                ans.<span class="built_in">push_back</span>(cnt.first);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šæ‘©å°”æŠ•ç¥¨æ³•âœ…</p><blockquote><p>å‡ºç°æ¬¡æ•°è¶…è¿‡$\lfloor\frac{n}{2}\rfloor$çš„æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªï¼Œå‡ºç°æ¬¡æ•°è¶…è¿‡$\lfloor\frac{n}{3}\rfloor$çš„æœ€å¤šåªèƒ½æœ‰ä¸¤ä¸ªã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">majorityElement</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; ans;</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="comment">// ä¸´æ—¶å…ƒç´ 1å’Œ2ï¼Œå¯¹åº”æŠ•ç¥¨votes1å’Œvotes2</span></span><br><span class="line">        <span class="type">int</span> element1 = <span class="number">0</span>, element2 = <span class="number">0</span>, votes1 = <span class="number">0</span>, votes2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; num : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (votes1 &gt; <span class="number">0</span> &amp;&amp; num == element1) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœè¯¥å…ƒç´ ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™è®¡æ•°åŠ 1</span></span><br><span class="line">                votes1++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (votes2 &amp;&amp; num == element2) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœè¯¥å…ƒç´ ä¸ºç¬¬äºŒä¸ªå…ƒç´ ï¼Œåˆ™è®¡æ•°åŠ 1</span></span><br><span class="line">                votes2++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (votes1 == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// é€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">                element1 = num;</span><br><span class="line">                votes1++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (votes2 == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// é€‰æ‹©ç¬¬äºŒä¸ªå…ƒç´ </span></span><br><span class="line">                element2 = num;</span><br><span class="line">                votes2++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœä¸‰ä¸ªå…ƒç´ å‡ä¸ç›¸åŒï¼Œåˆ™ç›¸äº’æŠµæ¶ˆ1æ¬¡</span></span><br><span class="line">                votes1--;</span><br><span class="line">                votes2--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> cnt1 = <span class="number">0</span>, cnt2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; num : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (votes1 &gt; <span class="number">0</span> &amp;&amp; num == element1) &#123;</span><br><span class="line">                cnt1++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (votes2 &gt; <span class="number">0</span> &amp;&amp; num == element2) &#123;</span><br><span class="line">                cnt2++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ£€æµ‹å…ƒç´ å‡ºç°çš„æ¬¡æ•°æ˜¯å¦æ»¡è¶³è¦æ±‚,å› ä¸ºä¸ä¸€å®šæ˜¯å­˜åœ¨ä¸¤ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">if</span> (votes1 &gt; <span class="number">0</span> &amp;&amp; cnt1 &gt; n / <span class="number">3</span>) &#123;</span><br><span class="line">            ans.<span class="built_in">push_back</span>(element1);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (votes2 &gt; <span class="number">0</span> &amp;&amp; cnt2 &gt; n / <span class="number">3</span>) &#123;</span><br><span class="line">            ans.<span class="built_in">push_back</span>(element2);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åŒç†ï¼Œå¯ä»¥ä½¿ç”¨è¯¥ä»£ç è§£å†³$\lfloor\frac{n}{m}\rfloor$çš„æƒ…å†µï¼Œåªéœ€è¦è®©å¤‡é€‰elementå’Œvotesçš„æ•°ç›®ä¸º$m-1$å³å¯ã€‚</p><hr><h1 id="4-å“ˆå¸Œè¡¨ä¸å‰ç¼€å’Œ-éš¾ç†è§£"><a href="#4-å“ˆå¸Œè¡¨ä¸å‰ç¼€å’Œ-éš¾ç†è§£" class="headerlink" title="4.å“ˆå¸Œè¡¨ä¸å‰ç¼€å’Œ(éš¾ç†è§£)"></a>4.å“ˆå¸Œè¡¨ä¸å‰ç¼€å’Œ(éš¾ç†è§£)</h1><p>å‰ç¼€æ€æƒ³æ¨èæ–‡ç« <a href="https://leetcode.cn/problems/continuous-subarray-sum/solutions/562196/de-liao-wo-ba-qian-zhui-he-miao-de-gan-g-c8kp/">ã€åŠ¨ç”»æ¨¡æ‹Ÿã€‘ä¸€æ–‡ç§’æ€ä¸ƒé“é¢˜â€”åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a>,åŒ…æ‹¬å‰ç¼€å’Œ/å¥‡æ•°/ç§¯â€¦</p><p><img src="https://s2.loli.net/2024/04/13/3PrTOI5fg9Czw6J.png" alt=""></p><h2 id="4-1-å’Œä¸ºKçš„å­æ•°ç»„ï¼š560"><a href="#4-1-å’Œä¸ºKçš„å­æ•°ç»„ï¼š560" class="headerlink" title="4-1.å’Œä¸ºKçš„å­æ•°ç»„ï¼š560"></a>4-1.å’Œä¸ºKçš„å­æ•°ç»„ï¼š560</h2><p>æ³•ä¸€ï¼šæšä¸¾(è¶…æ—¶)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">subarraySum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> right = <span class="number">0</span>; right &lt; nums.<span class="built_in">size</span>(); right++) &#123;</span><br><span class="line">            <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> left = right; left &gt;= <span class="number">0</span>; left--) &#123;</span><br><span class="line">                sum += nums[left];</span><br><span class="line">                <span class="keyword">if</span> (sum == k) &#123;</span><br><span class="line">                    ans++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>è¯¥é¢˜ç”¨æ»‘åŠ¨çª—å£éš¾ä»¥å®ç°ï¼Œå› ä¸ºå­˜åœ¨è´Ÿæ•°ã€‚æ¯”å¦‚[-2,-1,0,1,2]ï¼Œk=0ã€‚å•çº¯çš„æ»‘åŠ¨çª—å£ä¼šä½¿å¾—æ¼æ‰[-1,0,1]ã€‚è½¬è€Œç”¨åŠ¨æ€è§„åˆ’ï¼Œåˆå®¹æ˜“å¯¼è‡´å†…å­˜æº¢å‡ºã€‚</p></blockquote><p>æ³•äºŒï¼šå‰ç¼€å’Œ+å“ˆå¸Œè¡¨ä¼˜åŒ–</p><p><img src="https://s2.loli.net/2024/04/13/m1bqx9fNwlX4Ku8.png" alt=""></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">subarraySum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;<span class="comment">//å‰ç¼€å’Œï¼Œå‡ºç°æ¬¡æ•°</span></span><br><span class="line">        mp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> pre = <span class="number">0</span>, ans = <span class="number">0</span>; <span class="comment">// preè®°å½•å‰ç¼€å’Œ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; num : nums) &#123;</span><br><span class="line">            pre += num;</span><br><span class="line">            <span class="keyword">if</span> (mp.<span class="built_in">find</span>(pre - k) != mp.<span class="built_in">end</span>()) &#123;</span><br><span class="line">                ans += mp[pre - k];</span><br><span class="line">            &#125;</span><br><span class="line">            mp[pre]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ¨å¯¼å’Œå›¾è§£è¯¦è§å®˜æ–¹é¢˜è§£ã€‚</p><h2 id="4-2-è¿ç»­çš„å­æ•°ç»„å’Œï¼š523"><a href="#4-2-è¿ç»­çš„å­æ•°ç»„å’Œï¼š523" class="headerlink" title="4-2.è¿ç»­çš„å­æ•°ç»„å’Œï¼š523"></a>4-2.è¿ç»­çš„å­æ•°ç»„å’Œï¼š523</h2><p>å‰ç¼€å’Œï¼‹å“ˆå¸Œè¡¨,æœ¬é¢˜ç»¼åˆæ€§è¾ƒå¼ºã€‚</p><p>è¯¦ç»†è§£ç­”<a href="https://leetcode.cn/problems/continuous-subarray-sum/solutions/808246/gong-shui-san-xie-tuo-zhan-wei-qiu-fang-1juse/">ã€å®«æ°´ä¸‰å¶ã€‘æ‹“å±•åˆ°æ±‚æ–¹æ¡ˆæ•°é—®é¢˜â€”LeetCode</a></p><p><img src="https://s2.loli.net/2024/04/13/8kMtUX4nupvZQ6z.png" alt=""></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">checkSubarraySum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;<span class="comment">//&lt;å‰ç¼€å’Œ%k,ç´¢å¼•&gt;</span></span><br><span class="line">        mp[<span class="number">0</span>] = <span class="number">-1</span>;<span class="comment">//å› ä¸ºå…ƒç´ å‡ä¸ºéè´Ÿæ•°ï¼Œæ‰€ä»¥å‰ç¼€å’Œä¸å¯èƒ½ä¸º0ï¼Œå³å¯¹åº”ç´¢å¼•ä¸º-1æ— æ•ˆå€¼</span></span><br><span class="line">        <span class="type">int</span> presum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            presum = (presum + nums[i]) % k;</span><br><span class="line">            <span class="keyword">if</span> (mp.<span class="built_in">count</span>(presum)) &#123;</span><br><span class="line">                <span class="type">int</span> preIdx = mp[presum];</span><br><span class="line">                <span class="keyword">if</span> (i - preIdx &gt;= <span class="number">2</span>) &#123;<span class="comment">//å­æ•°ç»„é•¿åº¦è‡³å°‘ä¸º2</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                mp[presum] = i;<span class="comment">//æ³¨æ„è®°å½•çš„æ˜¯ç´¢å¼•è€Œä¸æ˜¯æ¬¡æ•°ï¼Œå› ä¸ºéœ€è¦æ¯”è¾ƒi-preIdxæ˜¯å¦&gt;=2</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ‹“å±•ï¼šå¦‚æœè¯´è¿˜è¦è®°å½•ä¸‹å­æ•°ç»„é•¿åº¦ï¼Œå¯ä»¥ä½¿ç”¨<code>unordered_map&lt;int,pair&lt;int,int&gt;&gt;mp;//&lt;å‰ç¼€å’Œ%k,pair&lt;ç´¢å¼•ï¼Œé•¿åº¦&gt;&gt;</code>ã€‚</p><h2 id="4-3-è¿ç»­æ•°ç»„ï¼š525"><a href="#4-3-è¿ç»­æ•°ç»„ï¼š525" class="headerlink" title="4-3.è¿ç»­æ•°ç»„ï¼š525"></a>4-3.è¿ç»­æ•°ç»„ï¼š525</h2><p>å‰ç¼€å’Œ+å“ˆå¸Œè¡¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">findMaxLength</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line">        mp[<span class="number">0</span>] = <span class="number">-1</span>;                 <span class="comment">// è®°å½•ç´¢å¼•è€Œéæ¬¡æ•°</span></span><br><span class="line">        <span class="type">int</span> presum = <span class="number">0</span>, maxLen = <span class="number">0</span>; <span class="comment">// presumè®°å½•0/1äº¤æ›¿çš„é•¿åº¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="comment">// åœ¨è¿™é‡Œå¯ä»¥å°†1è§†ä½œ1,0è§†ä½œ-1ï¼Œäº¤æ›¿çš„å’Œå°±æ˜¯presumå‰ç¼€å’Œ</span></span><br><span class="line">            <span class="keyword">if</span> (nums[i]) &#123;</span><br><span class="line">                presum++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                presum--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// é—®é¢˜è½¬åŒ–ä¸ºï¼šå¦‚ä½•æ±‚å¾—æœ€é•¿ä¸€æ®µåŒºé—´å’Œä¸º0çš„å­æ•°ç»„,æ‰€ä»¥è¿™é‡Œçš„k==0</span></span><br><span class="line">            <span class="keyword">if</span> (mp.<span class="built_in">count</span>(presum)) &#123;</span><br><span class="line">                <span class="type">int</span> preIdx = mp[presum];</span><br><span class="line">                maxLen = <span class="built_in">max</span>(maxLen, i - preIdx);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                mp[presum] = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxLen;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> leetcodeåˆ·é¢˜ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> leetcode </tag>
            
            <tag> å“ˆå¸Œè¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6.0å“ˆå¸Œè¡¨ç¯‡</title>
      <link href="/posts/5d437c4b.html"/>
      <url>/posts/5d437c4b.html</url>
      
        <content type="html"><![CDATA[<h1 id="å…³äºå“ˆå¸Œè¡¨"><a href="#å…³äºå“ˆå¸Œè¡¨" class="headerlink" title="å…³äºå“ˆå¸Œè¡¨"></a>å…³äºå“ˆå¸Œè¡¨</h1><p><a href="https://zhuanlan.zhihu.com/p/535427115">ä¸€æ–‡çœ‹æ‡‚ä½¿ç”¨C++ STL ä¸­çš„å“ˆå¸Œè¡¨â€”çŸ¥ä¹</a></p><h1 id="1-å“ˆå¸Œè¡¨çš„æŸ¥æ‰¾ã€æ’å…¥åŠåˆ é™¤"><a href="#1-å“ˆå¸Œè¡¨çš„æŸ¥æ‰¾ã€æ’å…¥åŠåˆ é™¤" class="headerlink" title="1.å“ˆå¸Œè¡¨çš„æŸ¥æ‰¾ã€æ’å…¥åŠåˆ é™¤"></a>1.å“ˆå¸Œè¡¨çš„æŸ¥æ‰¾ã€æ’å…¥åŠåˆ é™¤</h1><h2 id="1-1-å­˜åœ¨é‡å¤å…ƒç´ ï¼š217"><a href="#1-1-å­˜åœ¨é‡å¤å…ƒç´ ï¼š217" class="headerlink" title="1-1.å­˜åœ¨é‡å¤å…ƒç´ ï¼š217"></a>1-1.å­˜åœ¨é‡å¤å…ƒç´ ï¼š217</h2><p>æ³•ä¸€ï¼šæ’åº</p><p><code>sort()</code>çš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(NlogN)$,ç©ºé—´å¤æ‚åº¦ä¸º$O(logN)$ï¼Œå› ä¸ºæ’åºè¿‡ç¨‹ä¸­éœ€è¦é€’å½’è°ƒç”¨æ ˆç©ºé—´ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">containsDuplicate</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] == nums[i + <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šå“ˆå¸Œè¡¨</p><p>æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦å‡ä¸º$O(N)$ï¼Œsetçš„find()æ—¶é—´å¤æ‚åº¦æ˜¯$O(1)$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">containsDuplicate</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        unordered_set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.<span class="built_in">find</span>(x) != s.<span class="built_in">end</span>()) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            s.<span class="built_in">insert</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>â€‹    ä½†è¯¥é¢˜å®é™…ä¸Šæ’åºæ¯”å“ˆå¸Œè¡¨çš„æ‰§è¡Œç”¨æ—¶å’Œæ¶ˆè€—å†…å­˜æ›´å°ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸æ˜¯å”¯ä¸€ã€‚å“ˆå¸Œè¡¨è¦è®¡ç®—å“ˆå¸Œå€¼ç­‰ï¼Œå¯ä»¥ç†è§£å“ˆå¸Œè¡¨æ—¶é—´å¤æ‚åº¦å¸¸æ•°é¡¹æ¯”è¾ƒå¤§ã€‚å¸¸æ•°ä¸ä¸€æ ·ï¼Œhashsetçš„å¸¸æ•°å¼€é”€å¤§ï¼Œæ‰€ä»¥å¯¹äºéå¤§é‡çš„æ•°æ®æ¥è¯´ï¼Œå¸¸æ•°æ•ˆåº”è¦†ç›–äº†æ—¶é—´å¤æ‚åº¦çš„å·®è·ã€‚å¦‚æœæŠŠæ•°æ®é‡æ”¾å¤§ï¼Œé‚£ä¹ˆéšç€æ•°æ®é‡çš„å¢åŠ ï¼Œhashsetæ–¹å¼çš„æ—¶é—´æ˜¯çº¿æ€§å¢åŠ ï¼Œsortæ˜¯éçº¿æ€§å¢åŠ ï¼Œåˆ°ä¸€ä¸ªé˜ˆå€¼ï¼Œåˆ™hashsetçš„ä½æ—¶é—´å¤æ‚åº¦çš„ä¼˜åŠ¿æ‰èƒ½å‘æŒ¥å‡ºæ¥ã€‚</p><h2 id="1-2-ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ï¼š349"><a href="#1-2-ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ï¼š349" class="headerlink" title="1-2.ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ï¼š349"></a>1-2.ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ï¼š349</h2><p>æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</p><blockquote><p>å¦‚æœä½¿ç”¨å“ˆå¸Œé›†åˆå­˜å‚¨å…ƒç´ ï¼Œåˆ™å¯ä»¥åœ¨ $O(1)$ çš„æ—¶é—´å†…åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­ï¼Œä»è€Œé™ä½æ—¶é—´å¤æ‚åº¦ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">getSets</span><span class="params">(unordered_set&lt;<span class="type">int</span>&gt;&amp; set1, unordered_set&lt;<span class="type">int</span>&gt;&amp; set2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (set1.<span class="built_in">size</span>() &lt; set2.<span class="built_in">size</span>()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">getSets</span>(set2, set1);</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; ans;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; num : set1) &#123;</span><br><span class="line">            <span class="keyword">if</span> (set2.<span class="built_in">count</span>(num)) &#123; <span class="comment">// set1ä¸­çš„numï¼Œset2ä¹Ÿæœ‰</span></span><br><span class="line">                ans.<span class="built_in">push_back</span>(num);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">intersection</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums1, vector&lt;<span class="type">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        unordered_set&lt;<span class="type">int</span>&gt; set1, set2;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>&amp; x : nums1) &#123;</span><br><span class="line">            set1.<span class="built_in">insert</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>&amp; x : nums2) &#123;</span><br><span class="line">            set2.<span class="built_in">insert</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">getSets</span>(set1, set2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šæ’åº+åŒæŒ‡é’ˆ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">intersection</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums1, vector&lt;<span class="type">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums1.<span class="built_in">begin</span>(), nums1.<span class="built_in">end</span>());</span><br><span class="line">        <span class="built_in">sort</span>(nums2.<span class="built_in">begin</span>(), nums2.<span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> index1 = <span class="number">0</span>, index2 = <span class="number">0</span>;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; ans;</span><br><span class="line">        <span class="keyword">while</span> (index1 &lt; nums1.<span class="built_in">size</span>() &amp;&amp; index2 &lt; nums2.<span class="built_in">size</span>()) &#123;</span><br><span class="line">            <span class="type">int</span> num1 = nums1[index1], num2 = nums2[index2];</span><br><span class="line">            <span class="keyword">if</span> (num1 == num2) &#123;</span><br><span class="line">                <span class="comment">// ç¡®ä¿åŠ å…¥çš„å…ƒç´ æ˜¯å”¯ä¸€çš„</span></span><br><span class="line">                <span class="keyword">if</span> (!ans.<span class="built_in">size</span>() || num1 != ans.<span class="built_in">back</span>()) &#123;</span><br><span class="line">                    ans.<span class="built_in">emplace_back</span>(num1);</span><br><span class="line">                &#125;</span><br><span class="line">                ++index1;</span><br><span class="line">                ++index2;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num1 &lt; num2) &#123;</span><br><span class="line">                ++index1;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                ++index2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•ä¸‰ï¼šç›´æ¥ä½¿ç”¨set,çœå»æ’åºçš„æ­¥éª¤ã€‚æ•ˆç‡å’Œæ³•ä¸€å·®ä¸å¤š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">intersection</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums1, vector&lt;<span class="type">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; num : nums1) &#123;</span><br><span class="line">            s.<span class="built_in">insert</span>(num);</span><br><span class="line">        &#125;</span><br><span class="line">        set&lt;<span class="type">int</span>&gt; intersectionSet;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; num : nums2) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.<span class="built_in">find</span>(num) != s.<span class="built_in">end</span>()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (intersectionSet.<span class="built_in">find</span>(num) == intersectionSet.<span class="built_in">end</span>()) &#123; </span><br><span class="line">                    intersectionSet.<span class="built_in">insert</span>(num);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; ans;</span><br><span class="line">        <span class="keyword">for</span> (set&lt;<span class="type">int</span>&gt;::iterator it = intersectionSet.<span class="built_in">begin</span>();</span><br><span class="line">             it != intersectionSet.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">            ans.<span class="built_in">push_back</span>(*it);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="1-3-æœ€é•¿è¿ç»­åºåˆ—ï¼š128"><a href="#1-3-æœ€é•¿è¿ç»­åºåˆ—ï¼š128" class="headerlink" title="1-3.æœ€é•¿è¿ç»­åºåˆ—ï¼š128"></a>1-3.æœ€é•¿è¿ç»­åºåˆ—ï¼š128</h2><p>æ³•ä¸€ï¼šå“ˆå¸Œè¡¨(è¯¥é¢˜ä¹Ÿå¯ä»¥ç›´æ¥ç”¨set)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">longestConsecutive</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        unordered_set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>&amp; num : nums) &#123;</span><br><span class="line">            s.<span class="built_in">insert</span>(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; num : s) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!s.<span class="built_in">count</span>(num - <span class="number">1</span>)) &#123; <span class="comment">// ä¸å­˜åœ¨numçš„å‰ä¸€ä¸ªæ•°å­—ï¼Œé‡ç½®</span></span><br><span class="line">                <span class="type">int</span> currentNum = num, currentCount = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">while</span> (s.<span class="built_in">count</span>(currentNum + <span class="number">1</span>)) &#123;</span><br><span class="line">                    currentCount++;</span><br><span class="line">                    currentNum++;</span><br><span class="line">                &#125;</span><br><span class="line">                count = <span class="built_in">max</span>(count, currentCount);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><pre><code>æ³¨æ„ç¬¬9è¡Œï¼Œå¦‚æœå†™ä½œ`int&amp; num:s`åˆ™ä¼šæŠ¥é”™ï¼Œè€Œä½¿ç”¨`const int&amp; num:s`/`auto&amp; num:s`/`const auto&amp; num:s`/`auto&amp;&amp; num:s`åˆ™ä¸ä¼šæŠ¥é”™ã€‚å› ä¸ºå‰è€…å°†å°è¯•ä»¥éconstå¼•ç”¨çš„æ–¹å¼è®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œè€Œunordered_setä¸­çš„å…ƒç´ æ˜¯&lt;mark&gt;åªè¯»&lt;/mark&gt;çš„ã€‚Q:ä½†æ˜¯ä¸ºä»€ä¹ˆ`int&amp; num:s`ä¸æ­£ç¡®ï¼Œè€Œ`auto&amp; num:s`å°±å¯ä»¥å‘¢ï¼ŸA:å¯å‚è§[C++ä¸­çš„autoå…³é”®å­—](https://zhuanlan.zhihu.com/p/390608866)ï¼Œè¿™é‡Œautoå°±ç›¸å½“äºTï¼Œè€Œè¿™é‡ŒTç›¸å½“äºæ˜¯const int.</code></pre><h2 id="1-4-å¿«ä¹æ•°ï¼š202"><a href="#1-4-å¿«ä¹æ•°ï¼š202" class="headerlink" title="1-4.å¿«ä¹æ•°ï¼š202"></a>1-4.å¿«ä¹æ•°ï¼š202</h2><p>æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</p><p>éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼šå¦‚ä½•è§£å†³æ— é™å¾ªç¯è¿™ä¸€é—®é¢˜ã€‚è®°å½•ä¸‹æ¯æ¬¡çš„å¹³æ–¹å’Œï¼Œå½“å‡ºç°é‡å¤åˆ™è¯´æ˜è¿›å…¥æ— é™å¾ªç¯ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isHappy</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        unordered_set&lt;<span class="type">int</span>&gt; numbers;</span><br><span class="line">        <span class="keyword">while</span> (!numbers.<span class="built_in">count</span>(n)) &#123; <span class="comment">// næ²¡æœ‰å‡ºç°åœ¨å¹³æ–¹å’Œè®°å½•ä¸­è¿‡</span></span><br><span class="line">            <span class="type">int</span> num = n;</span><br><span class="line">            numbers.<span class="built_in">insert</span>(num);</span><br><span class="line">            n = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (num) &#123;</span><br><span class="line">                <span class="type">int</span> i = num % <span class="number">10</span>;</span><br><span class="line">                num /= <span class="number">10</span>;</span><br><span class="line">                n += i * i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šå¿«æ…¢æŒ‡é’ˆï¼ˆç©ºé—´å¤æ‚åº¦æ›´ä½ï¼Œæ—¶é—´å¤æ‚åº¦ç›¸åŒï¼Œä½†æ˜¯å®é™…é€Ÿåº¦æ›´æ…¢ä¸€ç‚¹ï¼‰</p><blockquote><p>æ¯æ¬¡è·å–ä¸‹ä¸€ä¸ªå¹³æ–¹å’Œçš„æ“ä½œï¼Œå¯ä»¥è®¤ä¸ºæ˜¯åœ¨æ„é€ ä¸€ä¸ªéšå¼é“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚æ£€æµ‹æ˜¯å¦è¿›å…¥å¾ªç¯ï¼Œç›¸å½“äºæ£€æµ‹ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æœ‰ç¯ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨Floydå¾ªç¯æŸ¥æ‰¾ç®—æ³•ã€‚</p></blockquote><p>slowæ¯æ¬¡å‰è¿›ä¸€ä¸ªèŠ‚ç‚¹ï¼Œfastæ¯æ¬¡å‰è¿›ä¸¤æ¬¡ï¼Œè¿™æ ·å®ƒä»¬æœ€ç»ˆå°†åœ¨å¾ªç¯ä¸­ç›¸é‡ï¼Œwhileå¾ªç¯ä¸­æ­¢æ¡ä»¶å…¶ä¸€å³ä¸º<code>slow==fast</code>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getNext</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n) &#123;</span><br><span class="line">            <span class="type">int</span> i = n % <span class="number">10</span>;</span><br><span class="line">            n /= <span class="number">10</span>;</span><br><span class="line">            sum += i * i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isHappy</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> slow = n, fast = <span class="built_in">getNext</span>(n);</span><br><span class="line">        <span class="keyword">while</span> (fast != <span class="number">1</span> &amp;&amp; slow != fast) &#123;</span><br><span class="line">            slow = <span class="built_in">getNext</span>(slow);</span><br><span class="line">            fast = <span class="built_in">getNext</span>(<span class="built_in">getNext</span>(fast));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fast == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="1-5-é”®ç›˜è¡Œï¼š500"><a href="#1-5-é”®ç›˜è¡Œï¼š500" class="headerlink" title="1-5.é”®ç›˜è¡Œï¼š500"></a>1-5.é”®ç›˜è¡Œï¼š500</h2><p>æ³•ä¸€ï¼šéå†</p><p>é”®ç›˜å­—æ¯è½¬æ¢ä¸ºè¡Œå·ã€‚2ms,7.82MBã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">findWords</span><span class="params">(vector&lt;string&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        vector&lt;string&gt; ans;</span><br><span class="line">        string rowIdx = <span class="string">&quot;12210111011122000010020202&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> &amp; word : words) &#123;</span><br><span class="line">            <span class="type">bool</span> isValid = <span class="literal">true</span>;</span><br><span class="line">            <span class="type">char</span> idx = rowIdx[<span class="built_in">tolower</span>(word[<span class="number">0</span>]) - <span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; word.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span>(rowIdx[<span class="built_in">tolower</span>(word[i]) - <span class="string">&#x27;a&#x27;</span>] != idx) &#123;</span><br><span class="line">                    isValid = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (isValid) &#123;</span><br><span class="line">                ans.<span class="built_in">emplace_back</span>(word);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šå“ˆå¸Œè¡¨</p><p>4ms,8MB</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">findWords</span><span class="params">(vector&lt;string&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        unordered_set&lt;<span class="type">char</span>&gt; s&#123;<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;s&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;f&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;j&#x27;</span>, <span class="string">&#x27;k&#x27;</span>, <span class="string">&#x27;l&#x27;</span>&#125;;</span><br><span class="line">        unordered_set&lt;<span class="type">char</span>&gt; s2&#123;<span class="string">&#x27;q&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;t&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;u&#x27;</span>, <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;p&#x27;</span>&#125;;</span><br><span class="line">        unordered_set&lt;<span class="type">char</span>&gt; s3&#123;<span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;v&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;m&#x27;</span>&#125;;</span><br><span class="line">        <span class="type">int</span> n = words.<span class="built_in">size</span>();</span><br><span class="line">        vector&lt;string&gt; ans;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; word : words) &#123;</span><br><span class="line">            <span class="type">bool</span> inS1 = <span class="literal">true</span>, inS2 = <span class="literal">true</span>, inS3 = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; c : word) &#123;</span><br><span class="line">                <span class="type">char</span> ch = <span class="built_in">tolower</span>(c); <span class="comment">// è®°å¾—è½¬æ¢æˆå°å†™,æ³¨æ„tolower()è¿”å›çš„æ˜¯intå€¼</span></span><br><span class="line">                <span class="comment">// æˆ–è€…å†™ä½œauto ch = char(tolower(c));</span></span><br><span class="line">                <span class="keyword">if</span> (inS1 &amp;&amp; (s.<span class="built_in">find</span>(ch) == s.<span class="built_in">end</span>())) &#123;</span><br><span class="line">                    inS1 = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (inS2 &amp;&amp; (s2.<span class="built_in">find</span>(ch) == s2.<span class="built_in">end</span>())) &#123;</span><br><span class="line">                    inS2 = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (inS3 &amp;&amp; (s3.<span class="built_in">find</span>(ch) == s3.<span class="built_in">end</span>())) &#123;</span><br><span class="line">                    inS3 = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (inS1 || inS2 || inS3) &#123;</span><br><span class="line">                ans.<span class="built_in">push_back</span>(word);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•ä¸‰ï¼šæ­£åˆ™</p><p>41ms,20.8MB</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isValid</span><span class="params">(string&amp; word)</span> </span>&#123;</span><br><span class="line">        <span class="function">std::regex <span class="title">pattern</span><span class="params">(<span class="string">&quot;^[QqWwEeRrTtYyUuIiOoPp]*$|^[AaSsDdFfGgHhJjKkLl]*$|^[ZzXxCcVvBbNnMm]*$&quot;</span>)</span></span>;</span><br><span class="line">        <span class="keyword">if</span> (std::<span class="built_in">regex_match</span>(word, pattern)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">findWords</span><span class="params">(vector&lt;string&gt;&amp; words)</span> </span>&#123;</span><br><span class="line">        vector&lt;string&gt; ans;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; word : words) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">isValid</span>(word)) &#123;</span><br><span class="line">                ans.<span class="built_in">emplace_back</span>(word);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/03/28/86NXqkOvRoCaFux.png" alt="chrome_oAb79KjUWh"></p><h2 id="1-6-å•è¯è§„å¾‹ï¼š290"><a href="#1-6-å•è¯è§„å¾‹ï¼š290" class="headerlink" title="1-6.å•è¯è§„å¾‹ï¼š290"></a>1-6.å•è¯è§„å¾‹ï¼š290</h2><p>ç”±äºè¦è®°å½•stringå’Œcharï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨mapè€Œä¸æ˜¯set.</p><p>æ³¨æ„ï¼špattern=â€abbaâ€,s=â€dog dog dog dogâ€æ—¶ï¼Œåº”è¯¥è¾“å‡ºfalse.æ‰€ä»¥ä¸æ­¢è¦è®°å½•char-&gt;string,è¿˜è¦è®°å½•string-&gt;char.</p><p>pattern=â€aaaâ€,s=â€aa aa aa aaâ€æ—¶ï¼Œåº”è¯¥è¾“å‡ºfalse.æ‰€ä»¥æœ€ç»ˆä¸èƒ½å•çº¯è¿”å›true,è€Œæ˜¯è¿”å›é•¿åº¦æ¯”è¾ƒã€‚</p><p>å®˜æ–¹è§£ç­”ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">wordPattern</span><span class="params">(string pattern, string str)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;string, <span class="type">char</span>&gt; str2ch;</span><br><span class="line">        unordered_map&lt;<span class="type">char</span>, string&gt; ch2str;</span><br><span class="line">        <span class="type">int</span> m = str.<span class="built_in">length</span>();</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> ch : pattern) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= m) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> j = i;</span><br><span class="line">            <span class="keyword">while</span> (j &lt; m &amp;&amp; str[j] != <span class="string">&#x27; &#x27;</span>) j++;</span><br><span class="line">            <span class="type">const</span> string &amp;tmp = str.<span class="built_in">substr</span>(i, j - i);</span><br><span class="line">            <span class="keyword">if</span> (str2ch.<span class="built_in">count</span>(tmp) &amp;&amp; str2ch[tmp] != ch) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (ch2str.<span class="built_in">count</span>(ch) &amp;&amp; ch2str[ch] != tmp) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            str2ch[tmp] = ch;</span><br><span class="line">            ch2str[ch] = tmp;</span><br><span class="line">            i = j + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i &gt;= m;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç±»ä¼¼é¢˜ï¼šåŒæ„å­—ç¬¦ä¸²205ï¼ˆæ›´ç®€å•ï¼Œå› ä¸ºéƒ½æ˜¯ä¸€å¯¹ä¸€å­—ç¬¦ä¸”æ— ç©ºæ ¼ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isIsomorphic</span><span class="params">(string s, string t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s.<span class="built_in">length</span>() != t.<span class="built_in">length</span>()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        unordered_map&lt;<span class="type">char</span>, <span class="type">char</span>&gt; s2t;</span><br><span class="line">        unordered_map&lt;<span class="type">char</span>, <span class="type">char</span>&gt; t2s;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">length</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="type">char</span> ch = s[i], ch2 = t[i];</span><br><span class="line">            <span class="keyword">if</span> (s2t.<span class="built_in">count</span>(ch) &amp;&amp; s2t[ch] != ch2) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (t2s.<span class="built_in">count</span>(ch2) &amp;&amp; t2s[ch2] != ch) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            s2t[ch] = ch2;</span><br><span class="line">            t2s[ch2] = ch;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="1-7-æ•°ç»„ä¸­çš„k-diffæ•°å¯¹ï¼š532"><a href="#1-7-æ•°ç»„ä¸­çš„k-diffæ•°å¯¹ï¼š532" class="headerlink" title="1-7.æ•°ç»„ä¸­çš„k-diffæ•°å¯¹ï¼š532"></a>1-7.æ•°ç»„ä¸­çš„k-diffæ•°å¯¹ï¼š532</h2><p>æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</p><p>resæ”¾å…¥çš„æ˜¯æ¯æ¬¡æ•°å¯¹ä¸­è¾ƒå°çš„é‚£ä¸ªæ•°ï¼Œunordered_setå¯ä»¥èµ·åˆ°å»é‡çš„ä¸€ä¸ªä½œç”¨ï¼Œè¿™æ ·å¯ä»¥å¾ˆå®¹æ˜“åœ°å¤„ç†k=0æ—¶çš„æƒ…å†µã€‚multisetè®°å½•nums/å¸¸æ•°resè®°å½•æœ€ç»ˆç­”æ¡ˆï¼Œéƒ½åœ¨å¤„ç†k=0æ—¶æ¯”è¾ƒå¤æ‚ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">findPairs</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        unordered_set&lt;<span class="type">int</span>&gt; visited;</span><br><span class="line">        unordered_set&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited.<span class="built_in">count</span>(num - k)) &#123;</span><br><span class="line">                res.<span class="built_in">emplace</span>(num - k);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (visited.<span class="built_in">count</span>(num + k)) &#123;</span><br><span class="line">                res.<span class="built_in">emplace</span>(num);</span><br><span class="line">            &#125;</span><br><span class="line">            visited.<span class="built_in">emplace</span>(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.<span class="built_in">size</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šæ•°ç»„æ’åº+åŒæŒ‡é’ˆ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">findPairs</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>(), res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; n &amp;&amp; j &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span> || nums[i - <span class="number">1</span>] != nums[i]) &#123;</span><br><span class="line">                <span class="keyword">while</span> (j &lt; n &amp;&amp; (nums[j] &lt; nums[i] + k || j &lt;= i)) &#123;</span><br><span class="line">                    j++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (j &lt; n &amp;&amp; nums[j] == nums[i] + k) &#123;</span><br><span class="line">                    res++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="1-8-ç»Ÿè®¡é‡å¤ä¸ªæ•°ï¼š466ï¼ˆå›°éš¾ï¼‰"><a href="#1-8-ç»Ÿè®¡é‡å¤ä¸ªæ•°ï¼š466ï¼ˆå›°éš¾ï¼‰" class="headerlink" title="1-8.ç»Ÿè®¡é‡å¤ä¸ªæ•°ï¼š466ï¼ˆå›°éš¾ï¼‰"></a>1-8.ç»Ÿè®¡é‡å¤ä¸ªæ•°ï¼š466ï¼ˆå›°éš¾ï¼‰</h2><p>æ³•ä¸€ï¼šæš´åŠ›æ³•ï¼ˆè¶…æ—¶ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getMaxRepetitions</span><span class="params">(string s1, <span class="type">int</span> n1, string s2, <span class="type">int</span> n2)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> index = <span class="number">0</span>, repeat_count = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> s1_size = s1.<span class="built_in">size</span>(), s2_size = s2.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n1; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; s1_size; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (s1[j] == s2[index]) &#123;</span><br><span class="line">                    index++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (index == s2_size) &#123;</span><br><span class="line">                    index = <span class="number">0</span>;</span><br><span class="line">                    repeat_count++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> repeat_count / n2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šæ‰¾å‡ºå¾ªç¯èŠ‚</p><p>è¯¦è§å®˜æ–¹è§†é¢‘è®²è§£ã€‚ä½¿ç”¨<code>unordered_map&lt;int,pair&lt;int,int&gt;&gt;&gt;</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getMaxRepetitions</span><span class="params">(string s1, <span class="type">int</span> n1, string s2, <span class="type">int</span> n2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n1 == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> s1cnt = <span class="number">0</span>, index = <span class="number">0</span>, s2cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// recall æ˜¯æˆ‘ä»¬ç”¨æ¥æ‰¾å¾ªç¯èŠ‚çš„å˜é‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªå“ˆå¸Œæ˜ å°„</span></span><br><span class="line">        <span class="comment">// æˆ‘ä»¬å¦‚ä½•æ‰¾å¾ªç¯èŠ‚ï¼Ÿå‡è®¾æˆ‘ä»¬éå†äº† s1cnt ä¸ª s1ï¼Œæ­¤æ—¶åŒ¹é…åˆ°äº†ç¬¬ s2cnt ä¸ª s2 ä¸­çš„ç¬¬ index ä¸ªå­—ç¬¦</span></span><br><span class="line">        <span class="comment">// å¦‚æœæˆ‘ä»¬ä¹‹å‰éå†äº† s1cnt&#x27; ä¸ª s1 æ—¶ï¼ŒåŒ¹é…åˆ°çš„æ˜¯ç¬¬ s2cnt&#x27; ä¸ª s2 ä¸­åŒæ ·çš„ç¬¬ index ä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆå°±æœ‰å¾ªç¯èŠ‚äº†</span></span><br><span class="line">        <span class="comment">// æˆ‘ä»¬ç”¨ (s1cnt&#x27;, s2cnt&#x27;, index) å’Œ (s1cnt, s2cnt, index) è¡¨ç¤ºä¸¤æ¬¡åŒ…å«ç›¸åŒ index çš„åŒ¹é…ç»“æœ</span></span><br><span class="line">        <span class="comment">// é‚£ä¹ˆå“ˆå¸Œæ˜ å°„ä¸­çš„é”®å°±æ˜¯ indexï¼Œå€¼å°±æ˜¯ (s1cnt&#x27;, s2cnt&#x27;) è¿™ä¸ªäºŒå…ƒç»„</span></span><br><span class="line">        <span class="comment">// å¾ªç¯èŠ‚å°±æ˜¯ï¼›</span></span><br><span class="line">        <span class="comment">//    - å‰ s1cnt&#x27; ä¸ª s1 åŒ…å«äº† s2cnt&#x27; ä¸ª s2</span></span><br><span class="line">        <span class="comment">//    - ä»¥åçš„æ¯ (s1cnt - s1cnt&#x27;) ä¸ª s1 åŒ…å«äº† (s2cnt - s2cnt&#x27;) ä¸ª s2</span></span><br><span class="line">        <span class="comment">// é‚£ä¹ˆè¿˜ä¼šå‰©ä¸‹ (n1 - s1cnt&#x27;) % (s1cnt - s1cnt&#x27;) ä¸ª s1, æˆ‘ä»¬å¯¹è¿™äº›ä¸ s2 è¿›è¡Œæš´åŠ›åŒ¹é…</span></span><br><span class="line">        <span class="comment">// æ³¨æ„ s2 è¦ä»ç¬¬ index ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…</span></span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; recall;</span><br><span class="line">        pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pre_loop, in_loop;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">// æˆ‘ä»¬å¤šéå†ä¸€ä¸ª s1ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ‰¾åˆ°å¾ªç¯èŠ‚</span></span><br><span class="line">            ++s1cnt;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">char</span> ch: s1) &#123;</span><br><span class="line">                <span class="keyword">if</span> (ch == s2[index]) &#123;</span><br><span class="line">                    index += <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">if</span> (index == s2.<span class="built_in">size</span>()) &#123;</span><br><span class="line">                        ++s2cnt;</span><br><span class="line">                        index = <span class="number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// è¿˜æ²¡æœ‰æ‰¾åˆ°å¾ªç¯èŠ‚ï¼Œæ‰€æœ‰çš„ s1 å°±ç”¨å®Œäº†</span></span><br><span class="line">            <span class="keyword">if</span> (s1cnt == n1) &#123;</span><br><span class="line">                <span class="keyword">return</span> s2cnt / n2;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å‡ºç°äº†ä¹‹å‰çš„ indexï¼Œè¡¨ç¤ºæ‰¾åˆ°äº†å¾ªç¯èŠ‚</span></span><br><span class="line">            <span class="keyword">if</span> (recall.<span class="built_in">count</span>(index)) &#123;</span><br><span class="line">                <span class="keyword">auto</span> [s1cnt_prime, s2cnt_prime] = recall[index];</span><br><span class="line">                <span class="comment">// å‰ s1cnt&#x27; ä¸ª s1 åŒ…å«äº† s2cnt&#x27; ä¸ª s2</span></span><br><span class="line">                pre_loop = &#123;s1cnt_prime, s2cnt_prime&#125;;</span><br><span class="line">                <span class="comment">// ä»¥åçš„æ¯ (s1cnt - s1cnt&#x27;) ä¸ª s1 åŒ…å«äº† (s2cnt - s2cnt&#x27;) ä¸ª s2</span></span><br><span class="line">                in_loop = &#123;s1cnt - s1cnt_prime, s2cnt - s2cnt_prime&#125;;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                recall[index] = &#123;s1cnt, s2cnt&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ans å­˜å‚¨çš„æ˜¯ S1 åŒ…å«çš„ s2 çš„æ•°é‡ï¼Œè€ƒè™‘çš„ä¹‹å‰çš„ pre_loop å’Œ in_loop</span></span><br><span class="line">        <span class="type">int</span> ans = pre_loop.second + (n1 - pre_loop.first) / in_loop.first * in_loop.second;</span><br><span class="line">        <span class="comment">// S1 çš„æœ«å°¾è¿˜å‰©ä¸‹ä¸€äº› s1ï¼Œæˆ‘ä»¬æš´åŠ›è¿›è¡ŒåŒ¹é…</span></span><br><span class="line">        <span class="type">int</span> rest = (n1 - pre_loop.first) % in_loop.first;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; rest; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">char</span> ch: s1) &#123;</span><br><span class="line">                <span class="keyword">if</span> (ch == s2[index]) &#123;</span><br><span class="line">                    ++index;</span><br><span class="line">                    <span class="keyword">if</span> (index == s2.<span class="built_in">size</span>()) &#123;</span><br><span class="line">                        ++ans;</span><br><span class="line">                        index = <span class="number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// S1 åŒ…å« ans ä¸ª s2ï¼Œé‚£ä¹ˆå°±åŒ…å« ans / n2 ä¸ª S2</span></span><br><span class="line">        <span class="keyword">return</span> ans / n2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="1-9-éšæœºé“¾è¡¨çš„å¤åˆ¶ï¼š138"><a href="#1-9-éšæœºé“¾è¡¨çš„å¤åˆ¶ï¼š138" class="headerlink" title="1-9.éšæœºé“¾è¡¨çš„å¤åˆ¶ï¼š138"></a>1-9.éšæœºé“¾è¡¨çš„å¤åˆ¶ï¼š138</h2><p>æ³¨æ„é¢˜å¹²è¦æ±‚ï¼Œè¿”å›çš„æ˜¯åŸé“¾è¡¨çš„æ·±æ‹·è´ï¼Œä¸èƒ½ç›´æ¥<code>return head;</code></p><blockquote><p>æ·±æ‹·è´ä¸æµ…æ‹·è´çš„åŒºåˆ«ï¼š</p><pre><code>å½“å‡ºç°ç±»çš„ç­‰å·èµ‹å€¼æ—¶ï¼Œä¼šè°ƒç”¨æ‹·è´å‡½æ•°ï¼Œåœ¨æœªå®šä¹‰æ˜¾ç¤ºæ‹·è´æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¼šè°ƒç”¨**é»˜è®¤çš„æ‹·è´å‡½æ•°ï¼å³æµ…æ‹·è´**ï¼Œå®ƒèƒ½å¤Ÿå®Œæˆæˆå‘˜çš„ä¸€ä¸€å¤åˆ¶ã€‚å½“æ•°æ®æˆå‘˜ä¸­&lt;u&gt;æ²¡æœ‰æŒ‡é’ˆ&lt;/u&gt;æ—¶ï¼Œæµ…æ‹·è´æ˜¯å¯è¡Œçš„ã€‚ä½†å½“æ•°æ®æˆå‘˜ä¸­æœ‰æŒ‡é’ˆæ—¶ï¼Œå¦‚æœé‡‡ç”¨ç®€å•çš„æµ…æ‹·è´ï¼Œåˆ™ä¸¤ç±»ä¸­çš„ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Œå½“å¯¹è±¡å¿«è¦ç»“æŸæ—¶ï¼Œä¼šè°ƒç”¨ä¸¤æ¬¡ææ„å‡½æ•°ï¼Œè€Œå¯¼è‡´**é‡æŒ‡é’ˆ**çš„é—®é¢˜ã€‚æ‰€ä»¥ï¼Œè¿™æ—¶å¿…éœ€é‡‡ç”¨æ·±æ‹·è´ã€‚æ·±æ‹·è´ä¸æµ…æ‹·è´ä¹‹é—´çš„åŒºåˆ«å°±åœ¨äºæ·±æ‹·è´ä¼šåœ¨å †å†…å­˜ä¸­**å¦å¤–ç”³è¯·ç©ºé—´æ¥å­˜å‚¨æ•°æ®**ï¼Œä»è€Œä¹Ÿå°±è§£å†³æ¥é‡æŒ‡é’ˆçš„é—®é¢˜ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå½“æ•°æ®æˆå‘˜ä¸­**æœ‰æŒ‡é’ˆ**æ—¶ï¼Œå¿…é¡»è¦ç”¨æ·±æ‹·è´æ›´åŠ å®‰å…¨ã€‚</code></pre></blockquote><p>æ³•ä¸€ï¼šå›æº¯+å“ˆå¸Œè¡¨+é€’å½’</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// Definition for a Node.</span></span><br><span class="line"><span class="comment">class Node &#123;</span></span><br><span class="line"><span class="comment">public:</span></span><br><span class="line"><span class="comment">    int val;</span></span><br><span class="line"><span class="comment">    Node* next;</span></span><br><span class="line"><span class="comment">    Node* random;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Node(int _val) &#123;</span></span><br><span class="line"><span class="comment">        val = _val;</span></span><br><span class="line"><span class="comment">        next = NULL;</span></span><br><span class="line"><span class="comment">        random = NULL;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    unordered_map&lt;Node*, Node*&gt; cachedNode;</span><br><span class="line">    <span class="function">Node* <span class="title">copyRandomList</span><span class="params">(Node* head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!cachedNode.<span class="built_in">count</span>(head)) &#123;</span><br><span class="line">            Node* temp = <span class="keyword">new</span> <span class="built_in">Node</span>(head-&gt;val);</span><br><span class="line">            cachedNode[head] = temp;</span><br><span class="line">            temp-&gt;next = <span class="built_in">copyRandomList</span>(head-&gt;next);</span><br><span class="line">            temp-&gt;random = <span class="built_in">copyRandomList</span>(head-&gt;random);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cachedNode[head];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šè¿­ä»£+èŠ‚ç‚¹æ‹†åˆ†</p><p>è¯¦è§å®˜æ–¹å›¾è§£ã€‚ç®€è€Œè¨€ä¹‹æ˜¯å°†A-&gt;B-&gt;Cæ‹†åˆ†ä¸ºA-&gt;Aâ€™-&gt;B-&gt;Bâ€™-&gt;C-&gt;Câ€™ï¼Œå†å˜æˆAâ€™-&gt;Bâ€™-&gt;Câ€™ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">Node* <span class="title">copyRandomList</span><span class="params">(Node* head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (Node* node = head; node != <span class="literal">nullptr</span>; node = node-&gt;next-&gt;next) &#123;</span><br><span class="line">            Node* temp = <span class="keyword">new</span> <span class="built_in">Node</span>(node-&gt;val);</span><br><span class="line">            temp-&gt;next = node-&gt;next;</span><br><span class="line">            node-&gt;next = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (Node* node = head; node != <span class="literal">nullptr</span>; node = node-&gt;next-&gt;next) &#123;</span><br><span class="line">            Node* temp = node-&gt;next;</span><br><span class="line">            temp-&gt;random = node-&gt;random ? node-&gt;random-&gt;next : <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Node* headNew = head-&gt;next;</span><br><span class="line">        <span class="keyword">for</span> (Node* node = head; node; node = node-&gt;next) &#123;</span><br><span class="line">            Node* temp = node-&gt;next;</span><br><span class="line">            node-&gt;next = node-&gt;next-&gt;next;</span><br><span class="line">            temp-&gt;next = temp-&gt;next ? temp-&gt;next-&gt;next : <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> headNew;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="1-10-åˆ†æ•°åˆ°å°æ•°ï¼š166"><a href="#1-10-åˆ†æ•°åˆ°å°æ•°ï¼š166" class="headerlink" title="1-10.åˆ†æ•°åˆ°å°æ•°ï¼š166"></a>1-10.åˆ†æ•°åˆ°å°æ•°ï¼š166</h2><p>å‚è€ƒã€Š2.1å­—ç¬¦ä¸²ç¯‡(2)ã€‹ã€‚è¿›é˜¶ï¼š<a href="https://leetcode.cn/problems/fraction-to-recurring-decimal/solutions/2486619/wu-xu-ha-xi-gua-yong-yu-ren-yi-jin-zhi-d-0cv7/">æ— éœ€å“ˆå¸Œ + é€‚ç”¨äºä»»æ„è¿›åˆ¶çš„åˆ†æ•°åˆ°å°æ•°â€”leetcode</a></p><hr><h1 id="2-å“ˆå¸Œè¡¨ä¸ç´¢å¼•"><a href="#2-å“ˆå¸Œè¡¨ä¸ç´¢å¼•" class="headerlink" title="2.å“ˆå¸Œè¡¨ä¸ç´¢å¼•"></a>2.å“ˆå¸Œè¡¨ä¸ç´¢å¼•</h1><h2 id="2-1-ä¸¤æ•°ä¹‹å’Œï¼š1"><a href="#2-1-ä¸¤æ•°ä¹‹å’Œï¼š1" class="headerlink" title="2-1.ä¸¤æ•°ä¹‹å’Œï¼š1"></a>2-1.ä¸¤æ•°ä¹‹å’Œï¼š1</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">twoSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; hashtable;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">auto</span> it = hashtable.<span class="built_in">find</span>(target - nums[i]);</span><br><span class="line">            <span class="keyword">if</span> (it != hashtable.<span class="built_in">end</span>()) &#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;it-&gt;second, i&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™æ’å…¥è¯¥æ•°å­—</span></span><br><span class="line">            hashtable[nums[i]] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;&#125;; <span class="comment">// å¿…é¡»è¦æœ‰ä¸€ä¸ªè¿”å›å†…å®¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å“ˆå¸Œè¡¨çš„find()å‡½æ•°è¿”å›çš„æ˜¯è¿­ä»£å™¨ç±»å‹ã€‚</p></blockquote><h2 id="2-2-ä¸¤æ•°ä¹‹å’ŒIIâ€”è¾“å…¥æœ‰åºæ•°ç»„ï¼š167"><a href="#2-2-ä¸¤æ•°ä¹‹å’ŒIIâ€”è¾“å…¥æœ‰åºæ•°ç»„ï¼š167" class="headerlink" title="2-2.ä¸¤æ•°ä¹‹å’ŒIIâ€”è¾“å…¥æœ‰åºæ•°ç»„ï¼š167"></a>2-2.ä¸¤æ•°ä¹‹å’ŒIIâ€”è¾“å…¥æœ‰åºæ•°ç»„ï¼š167</h2><p>è¯¥é¢˜è¦æ±‚ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨å“ˆå¸Œè¡¨ã€‚</p><p>æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">twoSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; numbers, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; numbers.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">            <span class="type">int</span> low = i + <span class="number">1</span>, high = numbers.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">                <span class="type">int</span> mid = (high - low) / <span class="number">2</span> + low;</span><br><span class="line">                <span class="keyword">if</span> (numbers[mid] == target - numbers[i]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> &#123;i + <span class="number">1</span>, mid + <span class="number">1</span>&#125;;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (numbers[mid] &gt; target - numbers[i]) &#123;</span><br><span class="line">                    high = mid - <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    low = mid + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="number">-1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šåŒæŒ‡é’ˆï¼ˆæœ€ä¼˜ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">twoSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; numbers, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> low = <span class="number">0</span>, high = numbers.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (numbers[low] + numbers[high] != target &amp;&amp; low &lt; high) &#123;</span><br><span class="line">            <span class="keyword">if</span> (numbers[low] + numbers[high] &lt; target) &#123;</span><br><span class="line">                low++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                high--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;low + <span class="number">1</span>, high + <span class="number">1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="2-3-å­˜åœ¨é‡å¤å…ƒç´ IIï¼š219"><a href="#2-3-å­˜åœ¨é‡å¤å…ƒç´ IIï¼š219" class="headerlink" title="2-3.å­˜åœ¨é‡å¤å…ƒç´ IIï¼š219"></a>2-3.å­˜åœ¨é‡å¤å…ƒç´ IIï¼š219</h2><p>æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">containsNearbyDuplicate</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; index; <span class="comment">//&lt;å€¼numï¼Œç´¢å¼•i&gt;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (index.<span class="built_in">count</span>(nums[i]) &amp;&amp; i - index[nums[i]] &lt;= k) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            index[nums[i]] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šæ»‘åŠ¨çª—å£</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">containsNearbyDuplicate</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        unordered_set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; k) &#123;</span><br><span class="line">                s.<span class="built_in">erase</span>(nums[i - k - <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s.<span class="built_in">count</span>(nums[i])) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            s.<span class="built_in">emplace</span>(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="2-4-å­˜åœ¨é‡å¤å…ƒç´ IIIï¼š220ï¼ˆå›°éš¾ï¼‰"><a href="#2-4-å­˜åœ¨é‡å¤å…ƒç´ IIIï¼š220ï¼ˆå›°éš¾ï¼‰" class="headerlink" title="2-4.å­˜åœ¨é‡å¤å…ƒç´ IIIï¼š220ï¼ˆå›°éš¾ï¼‰"></a>2-4.å­˜åœ¨é‡å¤å…ƒç´ IIIï¼š220ï¼ˆå›°éš¾ï¼‰</h2><p>æ³•ä¸€ï¼šæ»‘åŠ¨çª—å£+æœ‰åºé›†åˆ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">containsNearbyAlmostDuplicate</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> indexDiff, <span class="type">int</span> valueDiff)</span> </span>&#123;</span><br><span class="line">        set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="type">int</span> leftBoundary = <span class="built_in">max</span>(nums[i], INT_MIN + valueDiff) - valueDiff;</span><br><span class="line">            <span class="type">int</span> rightBoundary = <span class="built_in">min</span>(nums[i], INT_MAX - valueDiff) + valueDiff;</span><br><span class="line">            <span class="keyword">auto</span> it = s.<span class="built_in">lower_bound</span>(leftBoundary);</span><br><span class="line">            <span class="keyword">if</span> (it != s.<span class="built_in">end</span>() &amp;&amp; *it &lt;= rightBoundary) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            s.<span class="built_in">insert</span>(nums[i]);</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= indexDiff) &#123;</span><br><span class="line">                s.<span class="built_in">erase</span>(nums[i - indexDiff]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><pre><code>`s.lower_bound(leftBoundary)`å°†è¿”å›ç¬¬ä¸€ä¸ª&gt;=leftBoundaryçš„å…ƒç´ çš„è¿­ä»£å™¨ï¼Œå¦‚æœæœªæ‰¾åˆ°ï¼Œåˆ™è¿”å›ä¸€ä¸ªæŒ‡å‘æœ«å°¾çš„è¿­ä»£å™¨ã€‚</code></pre><p>æ³•äºŒï¼šæ»‘åŠ¨çª—å£+å“ˆå¸Œè¡¨+æ¡¶æ’åºï¼ˆæœ€ä¼˜è§£ï¼‰</p><pre><code>ä½¿ç”¨setæ—¶ï¼Œæ’å…¥æˆ–è€…åˆ é™¤ä¸€æ¬¡å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(log(min(n,IndexDiff)))$ï¼Œå“ˆå¸Œè¡¨ï¼‹æ¡¶æ’åºåˆ™ä¸º$O(1)$ã€‚</code></pre><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getIndex</span><span class="params">(<span class="type">int</span> x, <span class="type">long</span> w)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> x &lt; <span class="number">0</span> ? (x + <span class="number">1ll</span>) / w - <span class="number">1</span> : x / w; </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">containsNearbyAlmostDuplicate</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> indexDiff, <span class="type">int</span> valueDiff)</span> </span>&#123;</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="type">long</span> x = nums[i]; <span class="comment">// longå­˜å‚¨é¿å…æº¢å‡º</span></span><br><span class="line">            <span class="type">int</span> index = <span class="built_in">getIndex</span>(x, valueDiff + <span class="number">1ll</span>);</span><br><span class="line">            <span class="keyword">if</span> (mp.<span class="built_in">count</span>(index) ||</span><br><span class="line">                mp.<span class="built_in">count</span>(index - <span class="number">1</span>) &amp;&amp; <span class="built_in">abs</span>(x - mp[index - <span class="number">1</span>]) &lt;= valueDiff ||</span><br><span class="line">                mp.<span class="built_in">count</span>(index + <span class="number">1</span>) &amp;&amp; <span class="built_in">abs</span>(x - mp[index + <span class="number">1</span>]) &lt;= valueDiff) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mp[index] = x;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= indexDiff) &#123;</span><br><span class="line">                mp.<span class="built_in">erase</span>(<span class="built_in">getIndex</span>(nums[i - indexDiff], valueDiff + <span class="number">1ll</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> leetcodeåˆ·é¢˜ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> leetcode </tag>
            
            <tag> å“ˆå¸Œè¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5.é“¾è¡¨ç¯‡</title>
      <link href="/posts/f83528c7.html"/>
      <url>/posts/f83528c7.html</url>
      
        <content type="html"><![CDATA[<h1 id="å…³äºé“¾è¡¨"><a href="#å…³äºé“¾è¡¨" class="headerlink" title="å…³äºé“¾è¡¨"></a>å…³äºé“¾è¡¨</h1><p>å„ç§æ–¹æ³•çš„è¯¦ç»†å®ç°ï¼š<a href="https://zhuanlan.zhihu.com/p/136177205">é“¾è¡¨çš„åŸºæœ¬å®ç°â€”çŸ¥ä¹</a></p><p>ç†è®ºåŸºç¡€ï¼š<a href="https://programmercarl.com/%E9%93%BE%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html#%E9%93%BE%E8%A1%A8%E7%9A%84%E7%B1%BB%E5%9E%8B">é“¾è¡¨â€”ä»£ç éšæƒ³å½•</a></p><p>å•é“¾è¡¨ï¼š</p><h5 id="1-æ„å»ºå•é“¾è¡¨"><a href="#1-æ„å»ºå•é“¾è¡¨" class="headerlink" title="(1)æ„å»ºå•é“¾è¡¨"></a>(1)æ„å»ºå•é“¾è¡¨</h5><p><img src="https://s2.loli.net/2024/03/18/WMjm4zDaEThZYCe.png" alt="firefox_BIFDvSSmwv"></p><blockquote><p>æ³¨ï¼š<a href="https://zhuanlan.zhihu.com/p/360838187">å•é“¾è¡¨ã€å¾ªç¯é“¾è¡¨ã€åŒé“¾è¡¨çš„è¡¨ç¤ºä¸å®ç°â€”çŸ¥ä¹</a></p><p><img src="C:\Users\huangjiakun\Pictures\ShareX\Screenshots\2024-03\firefox_MoglKjc02n.png" alt="firefox_MoglKjc02n"></p><p>åŒé“¾è¡¨ï¼Œå¾ªç¯é“¾è¡¨åŸç†ï¼š</p><p><img src="https://s2.loli.net/2024/03/18/te68uaFDYIHikJK.png" alt="firefox_paniklnKLw"></p><p><img title="" src="https://s2.loli.net/2024/03/18/BHoimFhuCv2aPEf.png" alt="firefox_qID1ULZZiK" width="307"></p></blockquote><p>å®šä¹‰å¹¶å®ç°ä¸€ä¸ªå¸¦è¡¨å¤´ç»“ç‚¹çš„é€šç”¨å•é“¾è¡¨ç±»LinkList,è¯¥å•é“¾è¡¨ç±»å¯ä»¥é€‚ç”¨äºæ•´æ•°ã€å®æ•°å’Œå­—ç¬¦æ•°æ®ç­‰ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Node&lt;T&gt; *next;</span><br><span class="line">    Node&lt;T&gt; *prev;</span><br><span class="line">    T data;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">List</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">List</span>();<span class="comment">//é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">List</span>(<span class="type">const</span> List&amp; ln);<span class="comment">//æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">    ~<span class="built_in">List</span>();<span class="comment">//ææ„å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(T e)</span></span>;<span class="comment">//å‘é“¾è¡¨æ·»åŠ æ•°æ®</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ascSort</span><span class="params">()</span></span>;<span class="comment">//å‡åºæ’åº</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(T index)</span></span>;<span class="comment">//ç§»é™¤æŸä¸ªç»“ç‚¹</span></span><br><span class="line">    <span class="function">T <span class="title">find</span><span class="params">(<span class="type">int</span> index)</span></span>;<span class="comment">//æŸ¥æ‰¾ç»“ç‚¹</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isEmpty</span><span class="params">()</span></span>;<span class="comment">//åˆ¤æ–­æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">size</span><span class="params">()</span></span>;<span class="comment">//é“¾è¡¨é•¿åº¦</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span>;<span class="comment">//æ˜¾ç¤ºé“¾è¡¨</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">resShow</span><span class="params">()</span></span>;<span class="comment">//é“¾è¡¨åå‘æ˜¾ç¤º</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">removeAll</span><span class="params">()</span></span>;<span class="comment">//åˆ é™¤å…¨éƒ¨ç»“ç‚¹</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Node&lt;T&gt; *head;</span><br><span class="line">    Node&lt;T&gt; *tail;</span><br><span class="line">    <span class="type">int</span> length;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å®šä¹‰å•é“¾è¡¨ç»“æ„ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å•é“¾è¡¨</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode* next;</span><br><span class="line">    <span class="built_in">ListNode</span>() : <span class="built_in">val</span>(<span class="number">0</span>), <span class="built_in">next</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">ListNode</span>(<span class="type">int</span> x) : <span class="built_in">val</span>(x), <span class="built_in">next</span>(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">ListNode</span>(<span class="type">int</span> x, ListNode* next) : <span class="built_in">val</span>(x), <span class="built_in">next</span>(next) &#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/03/18/EhoWkd7a1cDKniT.png" alt="firefox_1qQZVGZHEf"></p><h5 id="2-æ„é€ å‡½æ•°"><a href="#2-æ„é€ å‡½æ•°" class="headerlink" title="(2)æ„é€ å‡½æ•°"></a>(2)æ„é€ å‡½æ•°</h5><p>é»˜è®¤æ„é€ å‡½æ•°</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">List&lt;T&gt;::<span class="built_in">List</span>()</span><br><span class="line">&#123;</span><br><span class="line">    head = <span class="keyword">new</span> Node&lt;T&gt;;</span><br><span class="line">    tail = <span class="keyword">new</span> Node&lt;T&gt;;</span><br><span class="line">    head-&gt;next = tail;</span><br><span class="line">    head-&gt;prev = <span class="literal">nullptr</span>;</span><br><span class="line">    tail-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">    tail-&gt;prev = head;</span><br><span class="line">    length = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‹·è´æ„é€ å‡½æ•°</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">List&lt;T&gt;::<span class="built_in">List</span>(<span class="type">const</span> List &amp;ln)</span><br><span class="line">&#123;</span><br><span class="line">    head = <span class="keyword">new</span> Node&lt;T&gt;;</span><br><span class="line">    head-&gt;prev = <span class="literal">nullptr</span>;</span><br><span class="line">    tail = <span class="keyword">new</span> Node&lt;T&gt;;</span><br><span class="line">    head-&gt;next = tail;</span><br><span class="line">    tail-&gt;prev = head;</span><br><span class="line">    length = <span class="number">0</span>;</span><br><span class="line">    Node&lt;T&gt;* temp = ln.head;</span><br><span class="line">    <span class="keyword">while</span> (temp-&gt;next != ln.tail)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">        tail-&gt;data = temp-&gt;data;</span><br><span class="line">        Node&lt;T&gt; *p = <span class="keyword">new</span> Node&lt;T&gt;;</span><br><span class="line">        p-&gt;prev = tail;</span><br><span class="line">        tail-&gt;next = p;</span><br><span class="line">        tail = p;</span><br><span class="line">        length++;</span><br><span class="line">    &#125;</span><br><span class="line">    tail-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-å¢ï¼šå‘é“¾è¡¨æ·»åŠ æ•°æ®-æ·»åŠ ç»“ç‚¹"><a href="#3-å¢ï¼šå‘é“¾è¡¨æ·»åŠ æ•°æ®-æ·»åŠ ç»“ç‚¹" class="headerlink" title="(3)å¢ï¼šå‘é“¾è¡¨æ·»åŠ æ•°æ®(æ·»åŠ ç»“ç‚¹)"></a>(3)å¢ï¼šå‘é“¾è¡¨æ·»åŠ æ•°æ®(æ·»åŠ ç»“ç‚¹)</h5><p><img src="https://s2.loli.net/2024/03/18/i8vzp4xsoSYVDQB.png" alt="firefox_DUiQ0BKvOa"></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="type">void</span> List&lt;T&gt;::<span class="built_in">add</span>(T e)</span><br><span class="line">&#123;</span><br><span class="line">    Node&lt;T&gt;* temp = <span class="keyword">this</span>-&gt;tail;</span><br><span class="line">    tail-&gt;data = e;</span><br><span class="line">    tail-&gt;next = <span class="keyword">new</span> Node&lt;T&gt;;</span><br><span class="line">    Node&lt;T&gt; *p = tail;</span><br><span class="line">    tail = tail-&gt;next;</span><br><span class="line">    tail-&gt;prev = p;</span><br><span class="line">    tail-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">    length++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="4-æŸ¥ï¼šæŸ¥æ‰¾ç»“ç‚¹"><a href="#4-æŸ¥ï¼šæŸ¥æ‰¾ç»“ç‚¹" class="headerlink" title="(4)æŸ¥ï¼šæŸ¥æ‰¾ç»“ç‚¹"></a>(4)æŸ¥ï¼šæŸ¥æ‰¾ç»“ç‚¹</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">T List&lt;T&gt;::<span class="built_in">find</span>(<span class="type">int</span> index)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (length == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;List is empty&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= length)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Out of bounds&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> x = <span class="number">0</span>;</span><br><span class="line">    T data;</span><br><span class="line">    Node&lt;T&gt; *p;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; length / <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        p = head-&gt;next;</span><br><span class="line">        <span class="keyword">while</span> (p-&gt;next != <span class="literal">nullptr</span> &amp;&amp; x++ != index)</span><br><span class="line">        &#123;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        p = tail-&gt;prev;</span><br><span class="line">        <span class="keyword">while</span> (p-&gt;prev != <span class="literal">nullptr</span> &amp;&amp; x++ != index)</span><br><span class="line">        &#123;</span><br><span class="line">            p = p-&gt;prev;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p-&gt;data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="5-åˆ ï¼šåˆ é™¤ç»“ç‚¹"><a href="#5-åˆ ï¼šåˆ é™¤ç»“ç‚¹" class="headerlink" title="(5)åˆ ï¼šåˆ é™¤ç»“ç‚¹"></a>(5)åˆ ï¼šåˆ é™¤ç»“ç‚¹</h5><p><img src="https://s2.loli.net/2024/03/18/r6Y9Jvz1OqPSHB8.png" alt="firefox_uXUFIzsll9"></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="type">void</span> List&lt;T&gt;::<span class="built_in">remove</span>(T index)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (length == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;List is empty&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Node&lt;T&gt; *p = head;</span><br><span class="line">    <span class="keyword">while</span> (p-&gt;next != <span class="literal">nullptr</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;data == index)</span><br><span class="line">        &#123;</span><br><span class="line">            Node&lt;T&gt; *temp = p-&gt;prev;</span><br><span class="line">            temp-&gt;next = p-&gt;next;</span><br><span class="line">            p-&gt;next-&gt;prev = temp;</span><br><span class="line">            <span class="keyword">delete</span> p;</span><br><span class="line">            length--;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-åˆ é™¤æ‰€æœ‰ç»“ç‚¹"><a href="#6-åˆ é™¤æ‰€æœ‰ç»“ç‚¹" class="headerlink" title="(6)åˆ é™¤æ‰€æœ‰ç»“ç‚¹"></a>(6)åˆ é™¤æ‰€æœ‰ç»“ç‚¹</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="type">void</span> List&lt;T&gt;::<span class="built_in">removeAll</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (length == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Node&lt;T&gt; *p = head-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (p != tail)</span><br><span class="line">    &#123;</span><br><span class="line">        Node&lt;T&gt;* temp = p;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> temp;</span><br><span class="line">    &#125;</span><br><span class="line">    head-&gt;next = tail;</span><br><span class="line">    tail-&gt;prev = head;</span><br><span class="line">    length = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="7-å‡åºæ’åº"><a href="#7-å‡åºæ’åº" class="headerlink" title="(7)å‡åºæ’åº"></a>(7)å‡åºæ’åº</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="type">void</span> List&lt;T&gt;::<span class="built_in">ascSort</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (length &lt;= <span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">    Node&lt;T&gt; *p = head-&gt;next;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; length - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        Node&lt;T&gt; *q = p-&gt;next;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; length; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;data &gt; q-&gt;data)</span><br><span class="line">            &#123;</span><br><span class="line">                T temp = q-&gt;data;</span><br><span class="line">                q-&gt;data = p-&gt;data;</span><br><span class="line">                p-&gt;data = temp;</span><br><span class="line">            &#125;</span><br><span class="line">            q = q-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="8-åˆ¤æ–­æ˜¯å¦ä¸ºç©º"><a href="#8-åˆ¤æ–­æ˜¯å¦ä¸ºç©º" class="headerlink" title="(8)åˆ¤æ–­æ˜¯å¦ä¸ºç©º"></a>(8)åˆ¤æ–­æ˜¯å¦ä¸ºç©º</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="type">bool</span> List&lt;T&gt;::<span class="built_in">isEmpty</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> length == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="9-è·å–é“¾è¡¨é•¿åº¦"><a href="#9-è·å–é“¾è¡¨é•¿åº¦" class="headerlink" title="(9)è·å–é“¾è¡¨é•¿åº¦"></a>(9)è·å–é“¾è¡¨é•¿åº¦</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="type">int</span> List&lt;T&gt;::<span class="built_in">size</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="10-è¾“å‡ºé“¾è¡¨"><a href="#10-è¾“å‡ºé“¾è¡¨" class="headerlink" title="(10)è¾“å‡ºé“¾è¡¨"></a>(10)è¾“å‡ºé“¾è¡¨</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="type">void</span> List&lt;T&gt;::<span class="built_in">show</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (length == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;List is empty&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Node&lt;T&gt; *p = head-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (p != tail)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; p-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="11-åå‘è¾“å‡ºé“¾è¡¨"><a href="#11-åå‘è¾“å‡ºé“¾è¡¨" class="headerlink" title="(11)åå‘è¾“å‡ºé“¾è¡¨"></a>(11)åå‘è¾“å‡ºé“¾è¡¨</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="type">void</span> List&lt;T&gt;::<span class="built_in">resShow</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (length == <span class="number">0</span>)<span class="keyword">return</span>;</span><br><span class="line">    Node&lt;T&gt; *p = tail-&gt;prev;</span><br><span class="line">    <span class="keyword">while</span> (p != head)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; p-&gt;data &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        p = p-&gt;prev;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="12-ææ„å‡½æ•°"><a href="#12-ææ„å‡½æ•°" class="headerlink" title="(12)ææ„å‡½æ•°"></a>(12)ææ„å‡½æ•°</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">List&lt;T&gt;::~<span class="built_in">List</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (length == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> head;</span><br><span class="line">        <span class="keyword">delete</span> tail;</span><br><span class="line">        head = <span class="literal">nullptr</span>;</span><br><span class="line">        tail = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (head-&gt;next != <span class="literal">nullptr</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Node&lt;T&gt; *temp = head;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">delete</span> head;</span><br><span class="line">    head = <span class="literal">nullptr</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="1-é“¾è¡¨çš„åˆ é™¤"><a href="#1-é“¾è¡¨çš„åˆ é™¤" class="headerlink" title="1.é“¾è¡¨çš„åˆ é™¤"></a>1.é“¾è¡¨çš„åˆ é™¤</h1><h4 id="1-1-ç§»é™¤é“¾è¡¨å…ƒç´ ï¼š203"><a href="#1-1-ç§»é™¤é“¾è¡¨å…ƒç´ ï¼š203" class="headerlink" title="1-1.ç§»é™¤é“¾è¡¨å…ƒç´ ï¼š203"></a>1-1.ç§»é™¤é“¾è¡¨å…ƒç´ ï¼š203</h4><p>æ³•ä¸€ï¼šé€’å½’</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">removeElements</span><span class="params">(ListNode* head, <span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">nullptr</span>) &#123;  <span class="comment">//é€’å½’ç»ˆæ­¢æ¡ä»¶:å½“å‰ç»“ç‚¹ä¸ºç©º</span></span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        head-&gt;next = <span class="built_in">removeElements</span>(head-&gt;next, val);</span><br><span class="line">        <span class="keyword">return</span> head-&gt;val == val ? head-&gt;next : head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šè¿­ä»£</p><p>å“‘èŠ‚ç‚¹dummyHeadï¼Œç”¨æ¥æ”¾ç½®åœ¨headçš„å‰é¢(<code>dummyHead-&gt;next = head</code>)ï¼Œç”¨æ¥è§£å†³å¤´èŠ‚ç‚¹headå¯èƒ½è¢«åˆ é™¤çš„æƒ…å†µã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">removeElements</span><span class="params">(ListNode* head, <span class="type">int</span> val)</span> </span>&#123;</span><br><span class="line">        ListNode* DummyHead = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>, head);</span><br><span class="line">        ListNode* temp = DummyHead; <span class="comment">// å¯¹åº”å½“å‰èŠ‚ç‚¹çš„ä¸´æ—¶èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">while</span> (temp-&gt;next) &#123;</span><br><span class="line">            <span class="keyword">if</span> (temp-&gt;next-&gt;val == val) &#123;</span><br><span class="line">                temp-&gt;next = temp-&gt;next-&gt;next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                temp = temp-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> DummyHead-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="1-2-åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ï¼š237"><a href="#1-2-åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ï¼š237" class="headerlink" title="1-2.åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ï¼š237"></a>1-2.åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ï¼š237</h4><pre><code>åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹çš„å¸¸è§çš„æ–¹æ³•æ˜¯å®šä½åˆ°å¾…åˆ é™¤èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¿®æ”¹ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„ next æŒ‡é’ˆï¼Œä½¿å…¶æŒ‡å‘å¾…åˆ é™¤èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³å¯å®Œæˆåˆ é™¤æ“ä½œã€‚è€Œè¿™é“é¢˜ä¸­ï¼Œæ— æ³•å®šä½åˆ°è¯¥èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤éœ€è¦æ¢ä¸€ç§æ–¹å¼ã€‚</code></pre><p>å’Œä¸‹ä¸€èŠ‚ç‚¹äº¤æ¢ï¼š(å°†è¦åˆ é™¤èŠ‚ç‚¹çš„å€¼å˜ä¸ºå…¶nextèŠ‚ç‚¹ï¼Œç„¶åå°†nextèŠ‚ç‚¹åˆ é™¤)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">deleteNode</span><span class="params">(ListNode* node)</span> </span>&#123;</span><br><span class="line">        node-&gt;val = node-&gt;next-&gt;val;</span><br><span class="line">        node-&gt;next = node-&gt;next-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="1-3-åˆ é™¤é“¾è¡¨çš„ç¬¬Nä¸ªèŠ‚ç‚¹ï¼š19"><a href="#1-3-åˆ é™¤é“¾è¡¨çš„ç¬¬Nä¸ªèŠ‚ç‚¹ï¼š19" class="headerlink" title="1-3.åˆ é™¤é“¾è¡¨çš„ç¬¬Nä¸ªèŠ‚ç‚¹ï¼š19"></a>1-3.åˆ é™¤é“¾è¡¨çš„ç¬¬Nä¸ªèŠ‚ç‚¹ï¼š19</h4><p>æ³•ä¸€ï¼šå…ˆè·å–é•¿åº¦ï¼Œç„¶åå®šä½åˆ°å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹ã€‚</p><p>é”™è§£ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">removeNthFromEnd</span><span class="params">(ListNode* head, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è·å–é“¾è¡¨é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span> length = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (head) &#123;</span><br><span class="line">            ++length;</span><br><span class="line">            head = head-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å®šä½èŠ‚ç‚¹å¹¶åˆ é™¤</span></span><br><span class="line">        ListNode* DummyHead = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>, head);</span><br><span class="line">        ListNode* temp = DummyHead; <span class="comment">// ç¬¬0ä¸ªèŠ‚ç‚¹i=0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; length + <span class="number">1</span> - n;</span><br><span class="line">             i++) &#123; <span class="comment">// éå†å€’æ•°ç¬¬N+1ä¸ªèŠ‚ç‚¹å‰é¢çš„æ‰€æœ‰èŠ‚ç‚¹,æ³¨æ„iåˆå§‹å€¼ä¸º1</span></span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        temp-&gt;next = temp-&gt;next-&gt;next;</span><br><span class="line">        ListNode* ans = DummyHead-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> DummyHead;</span><br><span class="line">        <span class="keyword">return</span> ans; <span class="comment">// ä¸èƒ½ç›´æ¥è¿”å›head,å› ä¸ºä¹‹å‰çš„headå¯èƒ½æ˜¯è¦åˆ é™¤çš„é‚£ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åŸå› ï¼šåœ¨è·å–é•¿åº¦æ—¶ï¼Œheadå·²ç»å‘ç”Ÿäº†æ”¹å˜ï¼Œå› æ­¤ä¹‹åçš„DummyHeadèŠ‚ç‚¹å°±å‡ºäº†é—®é¢˜ï¼Œæ­£ç¡®è§£æ³•åº”è¯¥æ˜¯å°†è·å–é“¾è¡¨é•¿åº¦å•ç‹¬å°è£…ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œæˆ–è€…æ˜¯æå‰å®šä¹‰å¥½DummyHeadã€‚</p><p>æ­£è§£ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">removeNthFromEnd</span><span class="params">(ListNode* head, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        ListNode* DummyHead = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>, head); <span class="comment">// æ”¹åŠ¨</span></span><br><span class="line">        <span class="comment">// è·å–é“¾è¡¨é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span> length = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (head) &#123;</span><br><span class="line">            ++length;</span><br><span class="line">            head = head-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å®šä½èŠ‚ç‚¹å¹¶åˆ é™¤</span></span><br><span class="line">        ListNode* temp = DummyHead; <span class="comment">// ç¬¬0ä¸ªèŠ‚ç‚¹i=0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; length + <span class="number">1</span> - n;</span><br><span class="line">             i++) &#123; <span class="comment">// éå†å€’æ•°ç¬¬N+1ä¸ªèŠ‚ç‚¹å‰é¢çš„æ‰€æœ‰èŠ‚ç‚¹,æ³¨æ„iåˆå§‹å€¼ä¸º1</span></span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        temp-&gt;next = temp-&gt;next-&gt;next;</span><br><span class="line">        ListNode* ans = DummyHead-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> DummyHead;</span><br><span class="line">        <span class="keyword">return</span> ans; <span class="comment">// ä¸èƒ½ç›´æ¥è¿”å›head,å› ä¸ºä¹‹å‰çš„headå¯èƒ½æ˜¯è¦åˆ é™¤çš„é‚£ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šæ ˆ(æ¬¡ä¼˜è§£ï¼Œéœ€è¦é¢å¤–ç©ºé—´)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">removeNthFromEnd</span><span class="params">(ListNode* head, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        ListNode* DummyHead = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>, head);</span><br><span class="line">        stack&lt;ListNode*&gt; stk;</span><br><span class="line">        ListNode* temp = DummyHead;</span><br><span class="line">        <span class="keyword">while</span> (temp) &#123;</span><br><span class="line">            stk.<span class="built_in">push</span>(temp);</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            stk.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode* prev = stk.<span class="built_in">top</span>();</span><br><span class="line">        prev-&gt;next = prev-&gt;next-&gt;next;</span><br><span class="line">        ListNode* ans = DummyHead-&gt;next; <span class="comment">// ä¸èƒ½ç›´æ¥ç”¨head</span></span><br><span class="line">        <span class="keyword">delete</span> DummyHead;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•ä¸‰ï¼šåŒæŒ‡é’ˆ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">removeNthFromEnd</span><span class="params">(ListNode* head, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        ListNode* DummyHead = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>, head);</span><br><span class="line">        ListNode* first = head;</span><br><span class="line">        ListNode* second = DummyHead;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            first = first-&gt;next; <span class="comment">// è®©firståˆ°è¾¾ç¬¬N+1ä¸ªèŠ‚ç‚¹ä½ç½®</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (first) &#123;</span><br><span class="line">            first = first-&gt;next;</span><br><span class="line">            second = second-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç°åœ¨secondå³ä¸ºå€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç°åœ¨æ›´æ”¹å…¶æŒ‡å‘</span></span><br><span class="line">        second-&gt;next = second-&gt;next-&gt;next;</span><br><span class="line">        ListNode* ans = DummyHead-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> DummyHead;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="2-é“¾è¡¨çš„éå†"><a href="#2-é“¾è¡¨çš„éå†" class="headerlink" title="2.é“¾è¡¨çš„éå†"></a>2.é“¾è¡¨çš„éå†</h1><h4 id="2-1-åŒé“¾è¡¨â€”æ‰å¹³åŒ–å¤šçº§åŒå‘é“¾è¡¨ï¼š430"><a href="#2-1-åŒé“¾è¡¨â€”æ‰å¹³åŒ–å¤šçº§åŒå‘é“¾è¡¨ï¼š430" class="headerlink" title="2-1.åŒé“¾è¡¨â€”æ‰å¹³åŒ–å¤šçº§åŒå‘é“¾è¡¨ï¼š430"></a>2-1.åŒé“¾è¡¨â€”æ‰å¹³åŒ–å¤šçº§åŒå‘é“¾è¡¨ï¼š430</h4><p>æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢(dfs)</p><p><img src="https://s2.loli.net/2024/03/20/pk6GJyB3iNE1ZfF.png" alt="firefox_iyrVl6hRKd"></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// Definition for a Node.</span></span><br><span class="line"><span class="comment">class Node &#123;</span></span><br><span class="line"><span class="comment">public:</span></span><br><span class="line"><span class="comment">    int val;</span></span><br><span class="line"><span class="comment">    Node* prev;</span></span><br><span class="line"><span class="comment">    Node* next;</span></span><br><span class="line"><span class="comment">    Node* child;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">Node* <span class="title">dfs</span><span class="params">(Node* node)</span> </span>&#123;</span><br><span class="line">        Node* last = <span class="literal">nullptr</span>; <span class="comment">// è®°å½•é“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">while</span> (node) &#123;</span><br><span class="line">            Node* next = node-&gt;next; <span class="comment">// è®°å½•ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸èƒ½ä¸€ç›´ç”¨node-&gt;nextä»£æ›¿</span></span><br><span class="line">            <span class="comment">// å¦‚æœé“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span> (node-&gt;child) &#123;</span><br><span class="line">                Node* child_last = <span class="built_in">dfs</span>(node-&gt;child);</span><br><span class="line">                <span class="comment">// å°†nodeä¸childç›¸è¿</span></span><br><span class="line">                node-&gt;next = node-&gt;child;</span><br><span class="line">                node-&gt;child-&gt;prev = node;</span><br><span class="line">                <span class="comment">// è‹¥node-&gt;nextä¸ä¸ºç©ºï¼Œå°±å°†lastä¸nextç›¸è¿</span></span><br><span class="line">                <span class="keyword">if</span> (next) &#123;</span><br><span class="line">                    child_last-&gt;next = next;</span><br><span class="line">                    next-&gt;prev = child_last;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// ç½®childä¸ºç©º</span></span><br><span class="line">                node-&gt;child = <span class="literal">nullptr</span>;</span><br><span class="line">                last = child_last;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                last = node;</span><br><span class="line">            &#125;</span><br><span class="line">            node = node-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> last;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">Node* <span class="title">flatten</span><span class="params">(Node* head)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">dfs</span>(head);</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="3-é“¾è¡¨çš„æ—‹è½¬ä¸åè½¬"><a href="#3-é“¾è¡¨çš„æ—‹è½¬ä¸åè½¬" class="headerlink" title="3.é“¾è¡¨çš„æ—‹è½¬ä¸åè½¬"></a>3.é“¾è¡¨çš„æ—‹è½¬ä¸åè½¬</h1><h4 id="3-1-æ—‹è½¬é“¾è¡¨ï¼š61"><a href="#3-1-æ—‹è½¬é“¾è¡¨ï¼š61" class="headerlink" title="3-1.æ—‹è½¬é“¾è¡¨ï¼š61"></a>3-1.æ—‹è½¬é“¾è¡¨ï¼š61</h4><p>æ³•ä¸€ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">rotateRight</span><span class="params">(ListNode* head, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (k == <span class="number">0</span> || head == <span class="literal">nullptr</span> || head-&gt;next == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> len = <span class="number">1</span>;</span><br><span class="line">        ListNode* it = head;</span><br><span class="line">        <span class="keyword">while</span> (it-&gt;next) &#123;</span><br><span class="line">            it = it-&gt;next;</span><br><span class="line">            len++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// lenè®°å½•é“¾è¡¨é•¿åº¦ï¼Œitç°åœ¨ä¸ºæœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="type">int</span> n = len - k % len; <span class="comment">// å®é™…ä¸Šåªéœ€è¦ç§»åŠ¨çš„è·ç¦»</span></span><br><span class="line">        <span class="keyword">if</span> (n == len) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        it-&gt;next = head;</span><br><span class="line">        <span class="keyword">while</span> (n--) &#123;</span><br><span class="line">            <span class="comment">// æ‰¾åˆ°å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹ï¼Œå¹¶è®©å…¶ä½œä¸ºå¤´èŠ‚ç‚¹</span></span><br><span class="line">            it = it-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç°åœ¨itä¸ºå€’æ•°ç¬¬n+1ä¸ªèŠ‚ç‚¹ï¼Œç”¨ansè®°å½•ä¸‹æœ€ç»ˆçš„å¤´èŠ‚ç‚¹</span></span><br><span class="line">        ListNode* ans = it-&gt;next;</span><br><span class="line">        it-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="3-2-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ï¼š24"><a href="#3-2-ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ï¼š24" class="headerlink" title="3-2.ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ï¼š24"></a>3-2.ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ï¼š24</h4><p>æ³•ä¸€ï¼šé€’å½’</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">swapPairs</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">nullptr</span> || head-&gt;next == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode* temp = head-&gt;next;</span><br><span class="line">        head-&gt;next = <span class="built_in">swapPairs</span>(temp-&gt;next);</span><br><span class="line">        temp-&gt;next = head;</span><br><span class="line">        <span class="keyword">return</span> temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šè¿­ä»£</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">swapPairs</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        ListNode* DummyHead = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>, head);</span><br><span class="line">        ListNode* temp = DummyHead;</span><br><span class="line">        <span class="keyword">while</span> (temp-&gt;next &amp;&amp; temp-&gt;next-&gt;next) &#123;</span><br><span class="line">            ListNode* node1 = temp-&gt;next;</span><br><span class="line">            ListNode* node2 = temp-&gt;next-&gt;next;</span><br><span class="line">            <span class="comment">// ä»¥tempä½œä¸ºä¸­ä»‹</span></span><br><span class="line">            temp-&gt;next = node2;</span><br><span class="line">            node1-&gt;next = node2-&gt;next;</span><br><span class="line">            node2-&gt;next = node1;</span><br><span class="line">            temp = node1; <span class="comment">// æ›´æ–°tempä¸ºä¸‹ä¸€ç»„çš„&quot;DummyHead&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        ListNode* ans = DummyHead-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> DummyHead;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="3-3-åè½¬é“¾è¡¨ï¼š206"><a href="#3-3-åè½¬é“¾è¡¨ï¼š206" class="headerlink" title="3-3.åè½¬é“¾è¡¨ï¼š206"></a>3-3.åè½¬é“¾è¡¨ï¼š206</h4><p>æ³•ä¸€ï¼šè¿­ä»£</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">reverseList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        ListNode* temp = head;</span><br><span class="line">        ListNode* prev = <span class="literal">nullptr</span>; <span class="comment">// tempçš„å‰ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">while</span> (temp) &#123;</span><br><span class="line">            ListNode* next = temp-&gt;next; <span class="comment">// tempçš„åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">            <span class="comment">// è®°å½•èŠ‚ç‚¹ä¾æ¬¡åç§»</span></span><br><span class="line">            temp-&gt;next = prev;</span><br><span class="line">            prev = temp;</span><br><span class="line">            temp = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prev;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šé€’å½’</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">reverseList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!head || !head-&gt;next) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode* newHead = <span class="built_in">reverseList</span>(head-&gt;next);</span><br><span class="line">        head-&gt;next-&gt;next = head;</span><br><span class="line">        head-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">return</span> newHead;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="3-4-åè½¬é“¾è¡¨IIï¼š92"><a href="#3-4-åè½¬é“¾è¡¨IIï¼š92" class="headerlink" title="3-4.åè½¬é“¾è¡¨IIï¼š92"></a>3-4.åè½¬é“¾è¡¨IIï¼š92</h4><blockquote><p>æœ€ç®€å•çš„æ“ä½œå½“ç„¶æ˜¯ç›´æ¥ä¿®æ”¹å„ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚</p></blockquote><p>æ³•ä¸€ï¼šéå†ä¸¤æ¬¡</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">reverseLinkedList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨é€’å½’åè½¬ä¸€ä¸ªé“¾è¡¨</span></span><br><span class="line">        ListNode* pre = <span class="literal">nullptr</span>;</span><br><span class="line">        ListNode* cur = head;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            ListNode* next = cur-&gt;next;</span><br><span class="line">            cur-&gt;next = pre;</span><br><span class="line">            pre = cur;</span><br><span class="line">            cur = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">reverseBetween</span><span class="params">(ListNode* head, <span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å› ä¸ºå¤´èŠ‚ç‚¹æœ‰å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œä½¿ç”¨è™šæ‹Ÿå¤´èŠ‚ç‚¹å¯ä»¥é¿å…å¤æ‚çš„åˆ†ç±»è®¨è®º</span></span><br><span class="line">        ListNode* dummyNode = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">-1</span>);</span><br><span class="line">        dummyNode-&gt;next = head;</span><br><span class="line"></span><br><span class="line">        ListNode* pre = dummyNode;</span><br><span class="line">        <span class="comment">// ç¬¬ 1 æ­¥ï¼šä»è™šæ‹Ÿå¤´èŠ‚ç‚¹èµ° left - 1 æ­¥ï¼Œæ¥åˆ° left èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// å»ºè®®å†™åœ¨ for å¾ªç¯é‡Œï¼Œè¯­ä¹‰æ¸…æ™°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; left - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            pre = pre-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¬¬ 2 æ­¥ï¼šä» pre å†èµ° right - left + 1 æ­¥ï¼Œæ¥åˆ° right èŠ‚ç‚¹</span></span><br><span class="line">        ListNode* rightNode = pre;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; right - left + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            rightNode = rightNode-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¬¬ 3 æ­¥ï¼šåˆ‡æ–­å‡ºä¸€ä¸ªå­é“¾è¡¨ï¼ˆæˆªå–é“¾è¡¨ï¼‰</span></span><br><span class="line">        ListNode* leftNode = pre-&gt;next;</span><br><span class="line">        ListNode* curr = rightNode-&gt;next;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šåˆ‡æ–­é“¾æ¥</span></span><br><span class="line">        pre-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">        rightNode-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¬¬ 4 æ­¥ï¼šåŒç¬¬ 206 é¢˜ï¼Œåè½¬é“¾è¡¨çš„å­åŒºé—´</span></span><br><span class="line">        <span class="built_in">reverseLinkedList</span>(leftNode);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¬¬ 5 æ­¥ï¼šæ¥å›åˆ°åŸæ¥çš„é“¾è¡¨ä¸­</span></span><br><span class="line">        pre-&gt;next = rightNode;</span><br><span class="line">        leftNode-&gt;next = curr;</span><br><span class="line">        <span class="keyword">return</span> dummyNode-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å€¼å¾—æ³¨æ„çš„æ˜¯ç¬¬3æ­¥ï¼Œä»¥ä¸€ç§å·§å¦™çš„æ–¹å¼æˆªå–å‡ºäº†å­é“¾è¡¨ï¼Œä»è€Œä½¿é—®é¢˜ç®€åŒ–åˆ°é—®é¢˜3-3çš„æƒ…å½¢ã€‚</p></blockquote><p>æ³•äºŒï¼šåªéå†ä¸€æ¬¡(æœ€ä¼˜è§£)ï¼šå¤´æ’æ³•</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">reverseBetween</span><span class="params">(ListNode* head, <span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">        ListNode* DummyHead=<span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">-1</span>,head);</span><br><span class="line">        ListNode* prev=DummyHead;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;left<span class="number">-1</span>;i++)&#123;</span><br><span class="line">            prev=prev-&gt;next;<span class="comment">//è®©prevæ¥åˆ°leftèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        &#125;</span><br><span class="line">        ListNode* curr=prev-&gt;next;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=left;i&lt;right;i++)&#123;</span><br><span class="line">            <span class="comment">//æ¯æ¬¡è®©å½“å‰çš„ç›®æ ‡èŠ‚ç‚¹currç½®å,nextå˜ä¸ºå­é“¾è¡¨é¦–ä½</span></span><br><span class="line">            <span class="comment">//prev-&gt;...-&gt;curr-&gt;next...å˜ä¸ºprev-&gt;...-&gt;next-&gt;curr...,è¯¦è§å®˜æ–¹å›¾è§£</span></span><br><span class="line">            ListNode* next=curr-&gt;next;</span><br><span class="line">            curr-&gt;next=next-&gt;next;</span><br><span class="line">            next-&gt;next=prev-&gt;next;</span><br><span class="line">            prev-&gt;next=next;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode* ans=DummyHead-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> DummyHead;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ€»ç»“ï¼šè§£å†³åè½¬é“¾è¡¨è¿™ä¸€ç±»é—®é¢˜ï¼Œè¦å–„ç”¨prev,curr,nexté“¾è¡¨èŠ‚ç‚¹ï¼Œä»¥åŠDummyHeadã€‚</p><h4 id="3-5-Kä¸ªä¸€ç»„åè½¬é“¾è¡¨ï¼š25ï¼ˆå›°éš¾ï¼‰"><a href="#3-5-Kä¸ªä¸€ç»„åè½¬é“¾è¡¨ï¼š25ï¼ˆå›°éš¾ï¼‰" class="headerlink" title="3-5.Kä¸ªä¸€ç»„åè½¬é“¾è¡¨ï¼š25ï¼ˆå›°éš¾ï¼‰"></a>3-5.Kä¸ªä¸€ç»„åè½¬é“¾è¡¨ï¼š25ï¼ˆå›°éš¾ï¼‰</h4><p>myReverse()ç±»æ¯”3-4å¤´æ’æ³•ä¸­çš„reverseBetween()ï¼Œå‰è€…æ˜¯å·²çŸ¥å¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹ï¼Œåè€…æ˜¯çŸ¥é“å¤´èŠ‚ç‚¹ã€èµ·å§‹ä½ç½®leftå’Œç»ˆæ­¢ä½ç½®right.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ç¿»è½¬ä¸€ä¸ªå­é“¾è¡¨ï¼Œå¹¶ä¸”è¿”å›æ–°çš„å¤´ä¸å°¾</span></span><br><span class="line">    <span class="function">pair&lt;ListNode*, ListNode*&gt; <span class="title">myReverse</span><span class="params">(ListNode* head, ListNode* tail)</span> </span>&#123;</span><br><span class="line">        ListNode* pre = tail-&gt;next;</span><br><span class="line">        ListNode* p = head;</span><br><span class="line">        <span class="keyword">while</span> (pre != tail) &#123;</span><br><span class="line">            ListNode* nex = p-&gt;next;</span><br><span class="line">            p-&gt;next = pre;</span><br><span class="line">            pre = p;</span><br><span class="line">            p = nex;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;tail, head&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">ListNode* <span class="title">reverseKGroup</span><span class="params">(ListNode* head, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        ListNode* DummyHead = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">-1</span>, head);</span><br><span class="line">        ListNode* prev = DummyHead;</span><br><span class="line">        <span class="keyword">while</span> (head) &#123;</span><br><span class="line">            ListNode* tail = prev;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = k; i &gt; <span class="number">0</span>; i--) &#123; <span class="comment">// è¿™é‡Œä¸èƒ½ä½¿ç”¨while(k--),å› ä¸ºä¼šæ”¹å˜kçš„å€¼,å½±å“åˆ°ä¸‹ä¸€æ¬¡å¾ªç¯</span></span><br><span class="line">                tail = tail-&gt;next;</span><br><span class="line">                <span class="keyword">if</span> (tail == <span class="literal">nullptr</span>) &#123; <span class="comment">// å·²ç»åˆ°è¾¾æœ«å°¾</span></span><br><span class="line">                    ListNode* ans = DummyHead-&gt;next;</span><br><span class="line">                    <span class="keyword">delete</span> DummyHead;</span><br><span class="line">                    <span class="keyword">return</span> ans;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å¾ªç¯ç»“æŸåï¼Œtailä¸ºå½“å‰è¦åè½¬å­é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">            <span class="comment">// prevä¸ºåè½¬å­é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¹‹å‰çš„é‚£ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">            ListNode* next = tail-&gt;next;</span><br><span class="line">            <span class="comment">// åè½¬å­é“¾è¡¨</span></span><br><span class="line">            pair&lt;ListNode*, ListNode*&gt; result = <span class="built_in">myReverse</span>(head, tail);</span><br><span class="line">            head = result.first;</span><br><span class="line">            tail = result.second;</span><br><span class="line">            <span class="comment">// æŠŠå­é“¾è¡¨é‡æ–°æ¥å›åŸé“¾è¡¨</span></span><br><span class="line">            prev-&gt;next = head;</span><br><span class="line">            tail-&gt;next = next;</span><br><span class="line">            prev = tail;</span><br><span class="line">            head = tail-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode* ans = DummyHead-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> DummyHead;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å®˜æ–¹é¢˜è§£ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ç¿»è½¬ä¸€ä¸ªå­é“¾è¡¨ï¼Œå¹¶ä¸”è¿”å›æ–°çš„å¤´ä¸å°¾</span></span><br><span class="line">    <span class="function">pair&lt;ListNode*, ListNode*&gt; <span class="title">myReverse</span><span class="params">(ListNode* head, ListNode* tail)</span> </span>&#123;</span><br><span class="line">        ListNode* prev = tail-&gt;next;</span><br><span class="line">        ListNode* p = head;</span><br><span class="line">        <span class="keyword">while</span> (prev != tail) &#123;</span><br><span class="line">            ListNode* nex = p-&gt;next;</span><br><span class="line">            p-&gt;next = prev;</span><br><span class="line">            prev = p;</span><br><span class="line">            p = nex;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;tail, head&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ListNode* <span class="title">reverseKGroup</span><span class="params">(ListNode* head, <span class="type">int</span> k)</span> </span>&#123;</span><br><span class="line">        ListNode* hair = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        hair-&gt;next = head;</span><br><span class="line">        ListNode* pre = hair;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (head) &#123;</span><br><span class="line">            ListNode* tail = pre;</span><br><span class="line">            <span class="comment">// æŸ¥çœ‹å‰©ä½™éƒ¨åˆ†é•¿åº¦æ˜¯å¦å¤§äºç­‰äº k</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; k; ++i) &#123;</span><br><span class="line">                tail = tail-&gt;next;</span><br><span class="line">                <span class="keyword">if</span> (!tail) &#123;</span><br><span class="line">                    <span class="keyword">return</span> hair-&gt;next;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ListNode* nex = tail-&gt;next;</span><br><span class="line">            <span class="comment">// è¿™é‡Œæ˜¯ C++17 çš„å†™æ³•ï¼Œä¹Ÿå¯ä»¥å†™æˆ</span></span><br><span class="line">            <span class="comment">// pair&lt;ListNode*, ListNode*&gt; result = myReverse(head, tail);</span></span><br><span class="line">            <span class="comment">// head = result.first;</span></span><br><span class="line">            <span class="comment">// tail = result.second;</span></span><br><span class="line">            <span class="built_in">tie</span>(head, tail) = <span class="built_in">myReverse</span>(head, tail);</span><br><span class="line">            <span class="comment">// æŠŠå­é“¾è¡¨é‡æ–°æ¥å›åŸé“¾è¡¨</span></span><br><span class="line">            pre-&gt;next = head;</span><br><span class="line">            tail-&gt;next = nex;</span><br><span class="line">            pre = tail;</span><br><span class="line">            head = tail-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> hair-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å›¾è§£ï¼š<a href="https://leetcode.cn/problems/reverse-nodes-in-k-group/solutions/1/di-gui-java-by-reedfan-2/">åŠ›æ‰£ï¼ˆLeetCodeï¼‰â€”reedfan</a></p><p><img src="https://s2.loli.net/2024/03/23/KFI7V3HMYPnWix9.png" alt="firefox_hd33huMeCd"></p><h1 id="4-é“¾è¡¨é«˜ç²¾åº¦åŠ æ³•"><a href="#4-é“¾è¡¨é«˜ç²¾åº¦åŠ æ³•" class="headerlink" title="4.é“¾è¡¨é«˜ç²¾åº¦åŠ æ³•"></a>4.é“¾è¡¨é«˜ç²¾åº¦åŠ æ³•</h1><h4 id="4-1-ä¸¤æ•°ç›¸åŠ ï¼š2"><a href="#4-1-ä¸¤æ•°ç›¸åŠ ï¼š2" class="headerlink" title="4-1.ä¸¤æ•°ç›¸åŠ ï¼š2"></a>4-1.ä¸¤æ•°ç›¸åŠ ï¼š2</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">addTwoNumbers</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">        ListNode* ans = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        ListNode* head = ans;</span><br><span class="line">        <span class="type">int</span> value = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (l1 || l2) &#123;</span><br><span class="line">            <span class="type">int</span> val1 = l1 ? l1-&gt;val : <span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> val2 = l2 ? l2-&gt;val : <span class="number">0</span>;</span><br><span class="line">            value += val1 + val2;</span><br><span class="line">            ans-&gt;val = value % <span class="number">10</span>;</span><br><span class="line">            value /= <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span> (l1) &#123;</span><br><span class="line">                l1 = l1-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (l2) &#123;</span><br><span class="line">                l2 = l2-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (l1 || l2) &#123;</span><br><span class="line">                ans-&gt;next = <span class="keyword">new</span> <span class="built_in">ListNode</span>(value);</span><br><span class="line">                ans = ans-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (value) &#123;</span><br><span class="line">            ans-&gt;next = <span class="keyword">new</span> <span class="built_in">ListNode</span>(value);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å…³é”®åœ¨äºç¬¬7-9è¡Œçš„å¤„ç†ï¼Œè¿™æ ·å¯ä»¥å°½å¯èƒ½ç®€åŒ–ä»£ç ã€‚è¿™é‡Œç»™å‡ºå¯¹æ¯”ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> pre = <span class="number">0</span>; <span class="comment">//è¿›ä½</span></span><br><span class="line">        ListNode res = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">-1</span>);</span><br><span class="line">        ListNode p = res;</span><br><span class="line">        <span class="keyword">while</span> (l1 != null &amp;&amp; l2 != null) &#123;</span><br><span class="line">            <span class="type">int</span> cur = l1.val + l2.val + pre;</span><br><span class="line">            <span class="keyword">if</span> (cur &gt;= <span class="number">10</span>) &#123; <span class="comment">// è¿›ä½</span></span><br><span class="line">                pre = <span class="number">1</span>;</span><br><span class="line">                cur %= <span class="number">10</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                pre = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            p.next = <span class="keyword">new</span> <span class="built_in">ListNode</span>(cur);</span><br><span class="line">            p = p.next;</span><br><span class="line">            l1 = l1.next;</span><br><span class="line">            l2 = l2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (l1 != null) &#123;</span><br><span class="line">            <span class="type">int</span> cur = l1.val + pre;</span><br><span class="line">            <span class="keyword">if</span> (cur &gt;= <span class="number">10</span>) &#123; <span class="comment">// è¿›ä½</span></span><br><span class="line">                pre = <span class="number">1</span>;</span><br><span class="line">                cur %= <span class="number">10</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                pre = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            p.next = <span class="keyword">new</span> <span class="built_in">ListNode</span>(cur);</span><br><span class="line">            p = p.next;</span><br><span class="line">            l1 = l1.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (l2 != null) &#123;</span><br><span class="line">            <span class="type">int</span> cur = l2.val + pre;</span><br><span class="line">            <span class="keyword">if</span> (cur &gt;= <span class="number">10</span>) &#123; <span class="comment">// è¿›ä½</span></span><br><span class="line">                pre = <span class="number">1</span>;</span><br><span class="line">                cur %= <span class="number">10</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                pre = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            p.next = <span class="keyword">new</span> <span class="built_in">ListNode</span>(cur);</span><br><span class="line">            p = p.next;</span><br><span class="line">            l2 = l2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (pre == <span class="number">1</span>) &#123;</span><br><span class="line">            p.next = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-2-ä¸¤æ•°ç›¸åŠ IIï¼š445"><a href="#4-2-ä¸¤æ•°ç›¸åŠ IIï¼š445" class="headerlink" title="4-2.ä¸¤æ•°ç›¸åŠ IIï¼š445"></a>4-2.ä¸¤æ•°ç›¸åŠ IIï¼š445</h4><p>æ³•ä¸€ï¼šå…ˆåè½¬é“¾è¡¨ï¼Œå†ç›¸åŠ </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">addListNodes</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">        ListNode* dummy = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        ListNode* current = dummy;</span><br><span class="line">        <span class="type">int</span> carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (l1 || l2 || carry) &#123;</span><br><span class="line">            <span class="type">int</span> sum = (l1 ? l1-&gt;val : <span class="number">0</span>) + (l2 ? l2-&gt;val : <span class="number">0</span>) + carry;</span><br><span class="line">            carry = sum / <span class="number">10</span>;</span><br><span class="line">            current-&gt;next = <span class="keyword">new</span> <span class="built_in">ListNode</span>(sum % <span class="number">10</span>);</span><br><span class="line">            current = current-&gt;next;</span><br><span class="line">            <span class="keyword">if</span> (l1) &#123;</span><br><span class="line">                l1 = l1-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (l2) &#123;</span><br><span class="line">                l2 = l2-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ListNode* <span class="title">reverseList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        ListNode* curr = head;</span><br><span class="line">        ListNode* prev = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">            ListNode* next = curr-&gt;next;</span><br><span class="line">            curr-&gt;next = prev;</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ListNode* <span class="title">addTwoNumbers</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">        l1 = <span class="built_in">reverseList</span>(l1);</span><br><span class="line">        l2 = <span class="built_in">reverseList</span>(l2);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">reverseList</span>(<span class="built_in">addListNodes</span>(l1, l2));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šç”¨æ ˆ/æ•°ç»„(ç»ƒä¹ æ„ä¹‰ä¸å¤§,ä½†æ˜¯æœ€ä¼˜è§£)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">addTwoNumbers</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">        stack&lt;<span class="type">int</span>&gt; s1, s2;</span><br><span class="line">        <span class="keyword">while</span> (l1) &#123;</span><br><span class="line">            s1.<span class="built_in">push</span>(l1 -&gt; val);</span><br><span class="line">            l1 = l1 -&gt; next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (l2) &#123;</span><br><span class="line">            s2.<span class="built_in">push</span>(l2 -&gt; val);</span><br><span class="line">            l2 = l2 -&gt; next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> carry = <span class="number">0</span>;</span><br><span class="line">        ListNode* ans = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">while</span> (!s1.<span class="built_in">empty</span>() <span class="keyword">or</span> !s2.<span class="built_in">empty</span>() <span class="keyword">or</span> carry != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span> a = s1.<span class="built_in">empty</span>() ? <span class="number">0</span> : s1.<span class="built_in">top</span>();</span><br><span class="line">            <span class="type">int</span> b = s2.<span class="built_in">empty</span>() ? <span class="number">0</span> : s2.<span class="built_in">top</span>();</span><br><span class="line">            <span class="keyword">if</span> (!s1.<span class="built_in">empty</span>()) s1.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">if</span> (!s2.<span class="built_in">empty</span>()) s2.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="type">int</span> cur = a + b + carry;</span><br><span class="line">            carry = cur / <span class="number">10</span>;</span><br><span class="line">            cur %= <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">auto</span> curnode = <span class="keyword">new</span> <span class="built_in">ListNode</span>(cur);</span><br><span class="line">            curnode -&gt; next = ans;</span><br><span class="line">            ans = curnode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="5-é“¾è¡¨çš„åˆå¹¶"><a href="#5-é“¾è¡¨çš„åˆå¹¶" class="headerlink" title="5.é“¾è¡¨çš„åˆå¹¶"></a>5.é“¾è¡¨çš„åˆå¹¶</h1><h4 id="5-1-åˆæˆä¸¤ä¸ªæœ‰åºé“¾è¡¨ï¼š21"><a href="#5-1-åˆæˆä¸¤ä¸ªæœ‰åºé“¾è¡¨ï¼š21" class="headerlink" title="5-1.åˆæˆä¸¤ä¸ªæœ‰åºé“¾è¡¨ï¼š21"></a>5-1.åˆæˆä¸¤ä¸ªæœ‰åºé“¾è¡¨ï¼š21</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* list1, ListNode* list2)</span> </span>&#123;</span><br><span class="line">        ListNode* DummyHead = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        ListNode* curr = DummyHead;</span><br><span class="line">        <span class="type">int</span> value = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (list1 &amp;&amp; list2) &#123;</span><br><span class="line">            value = <span class="built_in">min</span>(list1-&gt;val, list2-&gt;val);</span><br><span class="line">            curr-&gt;next = <span class="keyword">new</span> <span class="built_in">ListNode</span>(value);</span><br><span class="line">            curr = curr-&gt;next; <span class="comment">// è®°å¾—æ›´æ–°curr</span></span><br><span class="line">            <span class="keyword">if</span> (list1-&gt;val &lt;= list2-&gt;val) &#123;</span><br><span class="line">                list1 = list1-&gt;next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                list2 = list2-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (list1 || list2) &#123;</span><br><span class="line">            curr-&gt;next = list1 ? list1 : list2;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ListNode* ans = DummyHead-&gt;next;</span><br><span class="line">        <span class="keyword">delete</span> DummyHead;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="5-2-åˆå¹¶Kä¸ªå‡åºé“¾è¡¨ï¼š23ï¼ˆå›°éš¾ï¼‰"><a href="#5-2-åˆå¹¶Kä¸ªå‡åºé“¾è¡¨ï¼š23ï¼ˆå›°éš¾ï¼‰" class="headerlink" title="5-2.åˆå¹¶Kä¸ªå‡åºé“¾è¡¨ï¼š23ï¼ˆå›°éš¾ï¼‰"></a>5-2.åˆå¹¶Kä¸ªå‡åºé“¾è¡¨ï¼š23ï¼ˆå›°éš¾ï¼‰</h4><h6 id="æ³•ä¸€ï¼šåˆ†æ²»åˆå¹¶ï¼ˆæœ€ä¼˜è§£ï¼‰"><a href="#æ³•ä¸€ï¼šåˆ†æ²»åˆå¹¶ï¼ˆæœ€ä¼˜è§£ï¼‰" class="headerlink" title="æ³•ä¸€ï¼šåˆ†æ²»åˆå¹¶ï¼ˆæœ€ä¼˜è§£ï¼‰"></a>æ³•ä¸€ï¼šåˆ†æ²»åˆå¹¶ï¼ˆæœ€ä¼˜è§£ï¼‰</h6><p>ä¸¤ä¸ªä¸€ç»„è¿›è¡Œåˆå¹¶</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* a, ListNode* b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ((!a) || (!b))</span><br><span class="line">            <span class="keyword">return</span> a ? a : b;</span><br><span class="line">        ListNode head, *tail = &amp;head, *aPtr = a, *bPtr = b;</span><br><span class="line">        <span class="keyword">while</span> (aPtr &amp;&amp; bPtr) &#123;</span><br><span class="line">            <span class="keyword">if</span> (aPtr-&gt;val &lt; bPtr-&gt;val) &#123;</span><br><span class="line">                tail-&gt;next = aPtr;</span><br><span class="line">                aPtr = aPtr-&gt;next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                tail-&gt;next = bPtr;</span><br><span class="line">                bPtr = bPtr-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            tail = tail-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        tail-&gt;next = (aPtr ? aPtr : bPtr);</span><br><span class="line">        <span class="keyword">return</span> head.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ListNode* <span class="title">merge</span><span class="params">(vector&lt;ListNode*&gt;&amp; lists, <span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">            <span class="keyword">return</span> lists[left];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (left &gt; right) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> mid = (left + right) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">mergeTwoLists</span>(<span class="built_in">merge</span>(lists, left, mid), <span class="built_in">merge</span>(lists, mid + <span class="number">1</span>, right));   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ListNode* <span class="title">mergeKLists</span><span class="params">(vector&lt;ListNode*&gt;&amp; lists)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">merge</span>(lists, <span class="number">0</span>, lists.<span class="built_in">size</span>() - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>æ³¨ï¼šmergeTwoLists()ä¸¤ç§å†™æ³•çš„æ—¶ç©ºå¼€é”€å·®å¼‚åˆ†æ</strong></p><p>æ–¹æ³•ä¸€ï¼ˆ30ms,30MBï¼‰:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* list1, ListNode* list2)</span> </span>&#123;</span><br><span class="line">    ListNode* DummyHead = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">    ListNode* curr = DummyHead;</span><br><span class="line">    <span class="type">int</span> value = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (list1 &amp;&amp; list2) &#123;</span><br><span class="line">        value = <span class="built_in">min</span>(list1-&gt;val, list2-&gt;val);</span><br><span class="line">        curr-&gt;next = <span class="keyword">new</span> <span class="built_in">ListNode</span>(value);</span><br><span class="line">        curr = curr-&gt;next; <span class="comment">// è®°å¾—æ›´æ–°curr</span></span><br><span class="line">        <span class="keyword">if</span> (list1-&gt;val &lt;= list2-&gt;val) &#123;</span><br><span class="line">            list1 = list1-&gt;next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            list2 = list2-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (list1 || list2) &#123;</span><br><span class="line">        curr-&gt;next = list1 ? list1 : list2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ListNode* ans = DummyHead-&gt;next;</span><br><span class="line">    <span class="keyword">delete</span> DummyHead;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒï¼ˆ11ms,16MBï¼‰:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* a, ListNode* b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((!a) || (!b))</span><br><span class="line">        <span class="keyword">return</span> a ? a : b;</span><br><span class="line">    ListNode head, *tail = &amp;head, *aPtr = a, *bPtr = b;<span class="comment">//æ³¨æ„è¿™é‡Œçš„headæ˜¯ListNodeå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">while</span> (aPtr &amp;&amp; bPtr) &#123;</span><br><span class="line">        <span class="keyword">if</span> (aPtr-&gt;val &lt; bPtr-&gt;val) &#123;</span><br><span class="line">            tail-&gt;next = aPtr;</span><br><span class="line">            aPtr = aPtr-&gt;next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tail-&gt;next = bPtr;</span><br><span class="line">            bPtr = bPtr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        tail = tail-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    tail-&gt;next = (aPtr ? aPtr : bPtr);</span><br><span class="line">    <span class="keyword">return</span> head.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åŒæ ·çš„æ—¶ç©ºå¤æ‚åº¦ï¼Œä¸ºä»€ä¹ˆç¬¬äºŒç§æ–¹æ³•å¼€é”€æ›´å°ï¼Ÿ</p></blockquote><p>å› ä¸ºç¬¬ä¸€ç§æ–¹æ³•åœ¨åˆå¹¶é“¾è¡¨çš„è¿‡ç¨‹ä¸­ï¼Œåˆ›å»ºäº†æ–°çš„èŠ‚ç‚¹æ¥å­˜å‚¨åˆå¹¶åçš„ç»“æœï¼Œè¿™å¯¼è‡´äº†é¢å¤–çš„ç©ºé—´å¼€é”€ï¼›åŒæ—¶ï¼Œæ¯æ¬¡è¿­ä»£è¿‡ç¨‹ä¸­éƒ½éœ€è¦åŠ¨æ€åˆ†é…æ–°çš„èŠ‚ç‚¹ï¼Œè¿™å¯¼è‡´é€Ÿåº¦æ›´æ…¢ã€‚ç¬¬äºŒç§æ–¹æ³•åªæ˜¯åœ¨åŸæœ‰èŠ‚ç‚¹çš„åŸºç¡€ä¸Šè¿›è¡Œè¿æ¥ï¼Œè€Œä¸æ˜¯åˆ›å»ºæ–°çš„èŠ‚ç‚¹ã€‚</p><h6 id="æ³•äºŒï¼šä¼˜å…ˆé˜Ÿåˆ—"><a href="#æ³•äºŒï¼šä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="æ³•äºŒï¼šä¼˜å…ˆé˜Ÿåˆ—"></a>æ³•äºŒï¼šä¼˜å…ˆé˜Ÿåˆ—</h6><p>è¿™æ ·å°±ç›¸å½“äºå…ˆæŠŠæ‰€æœ‰é“¾è¡¨èŠ‚ç‚¹çš„å€¼æŒ¨ä¸ªæ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œç„¶åè®©å…¶è‡ªè¡Œè¿›è¡Œå¿«é€Ÿæ’åºã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Status</span> &#123;</span><br><span class="line">        <span class="type">int</span> val;</span><br><span class="line">        ListNode *ptr;</span><br><span class="line">        <span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> Status &amp;rhs) <span class="type">const</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> val &gt; rhs.val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    priority_queue &lt;Status&gt; q;</span><br><span class="line"></span><br><span class="line">    <span class="function">ListNode* <span class="title">mergeKLists</span><span class="params">(vector&lt;ListNode*&gt;&amp; lists)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> node: lists) &#123;</span><br><span class="line">            <span class="keyword">if</span> (node) q.<span class="built_in">push</span>(&#123;node-&gt;val, node&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode head, *tail = &amp;head;</span><br><span class="line">        <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="keyword">auto</span> f = q.<span class="built_in">top</span>(); q.<span class="built_in">pop</span>();</span><br><span class="line">            tail-&gt;next = f.ptr; </span><br><span class="line">            tail = tail-&gt;next;</span><br><span class="line">            <span class="keyword">if</span> (f.ptr-&gt;next) q.<span class="built_in">push</span>(&#123;f.ptr-&gt;next-&gt;val, f.ptr-&gt;next&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> head.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>é‡è½½è¿ç®—ç¬¦â€™&lt;â€™ï¼Œç”¨äºè‡ªå®šä¹‰ç±»å‹Statusçš„æ¯”è¾ƒè§„åˆ™ï¼Œä½¿å¾—åœ¨ä¼˜å…ˆé˜Ÿåˆ—ä¸­å¯ä»¥æŒ‰ç…§<code>val</code>çš„å€¼è¿›è¡Œé™åºæ’åˆ—ã€‚(è‡ªå®šä¹‰æ¯”è¾ƒå™¨)</p></blockquote><p>å…³äºä¼˜å…ˆé˜Ÿåˆ—priority_queueï¼Œè¯¦è§ã€Š0.å¸¸ç”¨STLç”¨æ³•ã€‹çš„2-5.</p>]]></content>
      
      
      <categories>
          
          <category> leetcodeåˆ·é¢˜ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> leetcode </tag>
            
            <tag> é“¾è¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4.æ ˆä¸é€’å½’ç¯‡</title>
      <link href="/posts/8a02a46e.html"/>
      <url>/posts/8a02a46e.html</url>
      
        <content type="html"><![CDATA[<h1 id="1-ç”¨æ ˆè®¿é—®æœ€åè‹¥å¹²å…ƒç´ "><a href="#1-ç”¨æ ˆè®¿é—®æœ€åè‹¥å¹²å…ƒç´ " class="headerlink" title="1.ç”¨æ ˆè®¿é—®æœ€åè‹¥å¹²å…ƒç´ "></a>1.ç”¨æ ˆè®¿é—®æœ€åè‹¥å¹²å…ƒç´ </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stack.<span class="built_in">push_back</span>(<span class="built_in">move</span>(name));</span><br></pre></td></tr></table></figure><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ<code>move(name)</code> ä½¿ç”¨äº† C++ ä¸­çš„ <code>std::move</code> å‡½æ•°ã€‚<code>std::move</code> æ˜¯ä¸€ä¸ªç”¨äº<u>å°†å¯¹è±¡è½¬æ¢ä¸ºå³å€¼å¼•ç”¨</u>çš„å‡½æ•°ï¼Œå®ƒå…è®¸å°†å¯¹è±¡çš„æ‰€æœ‰æƒè½¬ç§»ç»™å¦ä¸€ä¸ªå¯¹è±¡ï¼Œé€šå¸¸ç”¨äºåœ¨ç§»åŠ¨è¯­ä¹‰ä¸­ã€‚åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ<code>move(name)</code> å¯èƒ½æ˜¯åœ¨å°† <code>name</code> å¯¹è±¡çš„æ‰€æœ‰æƒè½¬ç§»ç»™ <code>stack</code> å®¹å™¨ï¼Œè¿™æ ·åšé€šå¸¸å¯ä»¥<mark>æé«˜æ€§èƒ½ï¼Œé¿å…ä¸å¿…è¦çš„æ‹·è´æ“ä½œ</mark>ã€‚</p><h4 id="1-1-æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„ï¼š388"><a href="#1-1-æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„ï¼š388" class="headerlink" title="1-1.æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„ï¼š388"></a>1-1.æ–‡ä»¶çš„æœ€é•¿ç»å¯¹è·¯å¾„ï¼š388</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">lengthLongestPath</span><span class="params">(string input)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>, pos = <span class="number">0</span>, n = input.<span class="built_in">length</span>();</span><br><span class="line">        stack&lt;<span class="type">int</span>&gt;st;<span class="comment">//ç”¨æ¥è®°å½•æ¯ä¸€æ®µçš„é•¿åº¦</span></span><br><span class="line">        <span class="comment">// posä½œä¸ºæŒ‡é’ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (pos &lt; n) &#123;</span><br><span class="line">            <span class="comment">// æ£€æµ‹å½“å‰æ–‡ä»¶æ·±åº¦</span></span><br><span class="line">            <span class="type">int</span> depth = <span class="number">1</span>;</span><br><span class="line">            <span class="comment">//&#x27;\t&#x27;æ˜¯ä¸€ä¸ªç¬¦å·ï¼Œè¿™é‡Œä¸æ˜¯&#x27;\&#x27;å’Œ&#x27;t&#x27;</span></span><br><span class="line">            <span class="keyword">while</span> (pos &lt; n &amp;&amp; input[pos] == <span class="string">&#x27;\t&#x27;</span>) &#123;</span><br><span class="line">                ++pos;</span><br><span class="line">                ++depth;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ç»Ÿè®¡å½“å‰æ–‡ä»¶åçš„é•¿åº¦</span></span><br><span class="line">            <span class="type">int</span> len = <span class="number">0</span>;</span><br><span class="line">            <span class="type">bool</span> isFile = <span class="literal">false</span>; <span class="comment">// è®°å½•æ˜¯å¦ä¸ºæ–‡ä»¶åè€Œéç›®å½•å</span></span><br><span class="line">            <span class="keyword">while</span> (pos &lt; n &amp;&amp; input[pos] != <span class="string">&#x27;\n&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (input[pos] == <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">                    isFile = <span class="literal">true</span>; <span class="comment">// å› ä¸ºæ­¤æ—¶åé¢å¿…å®šæ˜¯.ext</span></span><br><span class="line">                &#125;</span><br><span class="line">                ++len;</span><br><span class="line">                ++pos;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// è·³è¿‡æ¢è¡Œç¬¦</span></span><br><span class="line">            ++pos;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// é‡åˆ°ä¸€æ¬¡æ¢è¡Œç¬¦ä¹‹åçš„æ“ä½œï¼Œå¯¹æ ˆstè¿›è¡Œæ“ä½œ</span></span><br><span class="line">            <span class="keyword">while</span> (st.<span class="built_in">size</span>() &gt;= depth) &#123;</span><br><span class="line">                st.<span class="built_in">pop</span>();<span class="comment">//å›é€€ä¸€ä¸ªæ–‡ä»¶å±‚çº§</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!st.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                len += st.<span class="built_in">top</span>() + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (isFile) &#123;</span><br><span class="line">                ans = <span class="built_in">max</span>(ans, len);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                st.<span class="built_in">emplace</span>(len);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p><code>stack.emplace(a)</code> çš„æ„æ€æ˜¯åœ¨æ ˆé¡¶åˆ›å»ºä¸€ä¸ªæ–°çš„å…ƒç´ ï¼Œå¹¶å°†å‚æ•° <code>a</code> ä½œä¸ºæ„é€ å‡½æ•°çš„å‚æ•°ï¼Œç”¨äºæ„é€ è¿™ä¸ªæ–°çš„å…ƒç´ ã€‚<code>push_back()</code>ï¼Œ<code>emplace_back()</code>ç­‰æœ€ç»ˆè°ƒç”¨çš„éƒ½æ˜¯<code>emplace_back()</code>ï¼Œæ€§èƒ½å¹¶æ— åŒºåˆ«ã€‚</p></blockquote><p>å…³äºemplace():<a href="https://www.jianshu.com/p/caad33287dc3">emplace/emplace_back - ç®€ä¹¦</a></p><h1 id="2-æ ˆä¸è®¡ç®—å™¨"><a href="#2-æ ˆä¸è®¡ç®—å™¨" class="headerlink" title="2.æ ˆä¸è®¡ç®—å™¨"></a>2.æ ˆä¸è®¡ç®—å™¨</h1><h5 id="2-1-é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼ï¼š150"><a href="#2-1-é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼ï¼š150" class="headerlink" title="2-1.é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼ï¼š150"></a>2-1.é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼ï¼š150</h5><blockquote><p>   é€†æ³¢å…°è¡¨è¾¾å¼ä¸¥æ ¼éµå¾ªã€Œä»å·¦åˆ°å³ã€çš„è¿ç®—ã€‚è®¡ç®—é€†æ³¢å…°è¡¨è¾¾å¼çš„å€¼æ—¶ï¼Œä½¿ç”¨ä¸€ä¸ªæ ˆå­˜å‚¨æ“ä½œæ•°ï¼Œä»å·¦åˆ°å³éå†é€†æ³¢å…°è¡¨è¾¾å¼ï¼Œè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p><p>1.å¦‚æœé‡åˆ°æ“ä½œæ•°ï¼Œåˆ™å°†æ“ä½œæ•°å…¥æ ˆï¼›</p><p>2.å¦‚æœé‡åˆ°è¿ç®—ç¬¦ï¼Œåˆ™å°†ä¸¤ä¸ªæ“ä½œæ•°å‡ºæ ˆï¼Œå…¶ä¸­<mark>å…ˆå‡ºæ ˆçš„æ˜¯å³æ“ä½œæ•°</mark>ï¼Œåå‡ºæ ˆçš„æ˜¯å·¦æ“ä½œæ•°ï¼Œä½¿ç”¨è¿ç®—ç¬¦å¯¹ä¸¤ä¸ªæ“ä½œæ•°è¿›è¡Œè¿ç®—ï¼Œå°†è¿ç®—å¾—åˆ°çš„æ–°æ“ä½œæ•°å…¥æ ˆã€‚</p><p>   æ•´ä¸ªé€†æ³¢å…°è¡¨è¾¾å¼éå†å®Œæ¯•ä¹‹åï¼Œæ ˆå†…åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œè¯¥å…ƒç´ å³ä¸ºé€†æ³¢å…°è¡¨è¾¾å¼çš„å€¼ã€‚[â€œ13â€,â€5â€,â€/â€œ]åˆ™è¡¨ç¤º13/5.</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">isNumber</span><span class="params">(string&amp; s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !(s == <span class="string">&quot;+&quot;</span> || s == <span class="string">&quot;-&quot;</span> || s == <span class="string">&quot;*&quot;</span> || s == <span class="string">&quot;/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">evalRPN</span><span class="params">(vector&lt;string&gt;&amp; tokens)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = tokens.<span class="built_in">size</span>();</span><br><span class="line">        stack&lt;<span class="type">int</span>&gt; stk;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            string&amp; token = tokens[i];</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">isNumber</span>(token)) &#123;</span><br><span class="line">                stk.<span class="built_in">emplace</span>(<span class="built_in">stoi</span>(token));</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//æ³¨æ„num2å’Œnum1çš„å…ˆåé¡ºåº</span></span><br><span class="line">                <span class="type">int</span> num2 = stk.<span class="built_in">top</span>();</span><br><span class="line">                stk.<span class="built_in">pop</span>();</span><br><span class="line">                <span class="type">int</span> num1 = stk.<span class="built_in">top</span>();</span><br><span class="line">                stk.<span class="built_in">pop</span>();</span><br><span class="line">                <span class="keyword">switch</span> (token[<span class="number">0</span>]) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">                        stk.<span class="built_in">emplace</span>(num1 + num2);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">                        stk.<span class="built_in">emplace</span>(num1 - num2);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">                        stk.<span class="built_in">emplace</span>(num1 * num2);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">                        stk.<span class="built_in">emplace</span>(num1 / num2);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stk.<span class="built_in">top</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„<code>emplace()</code>ä¹Ÿå¯ä»¥æ”¹ç”¨<code>push()</code>ã€‚ä¸ºä»€ä¹ˆä¸æ˜¯<code>emplace_back()/push_back()</code>çš„åŸå› ï¼š<code>emplace()/push()</code>å¯¹åº”<u>stack/queue</u>ï¼Œ<code>emplace_back()/push_back()</code>å¯¹åº”<u>list/vector</u>(åŒ…æ‹¬stringè¿™ç§ç‰¹æ®Šçš„å­—ç¬¦æ•°ç»„)ã€‚</p><h5 id="2-2-åŸºæœ¬è®¡ç®—å™¨II-227"><a href="#2-2-åŸºæœ¬è®¡ç®—å™¨II-227" class="headerlink" title="2-2.åŸºæœ¬è®¡ç®—å™¨II:227"></a>2-2.åŸºæœ¬è®¡ç®—å™¨II:227</h5><p>æœ¬é¢˜ä¸éœ€è¦å…ˆå°†ä¸­ç¼€è¡¨è¾¾å¼è½¬ä¸ºåç¼€è¡¨è¾¾å¼ï¼Œå› ä¸ºå…¨æ˜¯æ­£æ•´æ•°å¹¶ä¸”æ²¡æœ‰æ‹¬å·ã€‚è¯¥é¢˜æœ¬è´¨ä¸Šæ˜¯ç”¨æ ˆæ¥å¤„ç†ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨stack/vectorã€‚</p><p>1.ä½¿ç”¨stack:ï¼ˆæ˜“é”™ç‚¹è¾ƒå¤šï¼Œéœ€è¦æ³¨æ„ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">calculate</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        stack&lt;<span class="type">int</span>&gt; stk;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> sign = <span class="string">&#x27;+&#x27;</span>; <span class="comment">// è®°å½•æ•°å­—å‰çš„ç¬¦å·ï¼Œé»˜è®¤ä¸ºæ­£</span></span><br><span class="line">        <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">isdigit</span>(s[i])) &#123;</span><br><span class="line">                num = num * <span class="number">10</span> + <span class="built_in">int</span>(s[i] - <span class="string">&#x27;0&#x27;</span>); <span class="comment">// å°å¿ƒæº¢å‡º</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">isdigit</span>(s[i]) &amp;&amp; s[i] != <span class="string">&#x27; &#x27;</span> || i == n - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// è®°å¾—è€ƒè™‘ç©ºæ ¼å’Œæœ«ä½çš„ç‰¹æ®Šæƒ…å†µ</span></span><br><span class="line">                <span class="keyword">switch</span> (sign) &#123; <span class="comment">// æ˜¯signè€Œä¸æ˜¯s[i],å¦åˆ™ç¬¬ä¸€ä¸ªæ•°å­—æ— æ³•å­˜æ”¾</span></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">                    stk.<span class="built_in">push</span>(num);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">                    stk.<span class="built_in">push</span>(-num);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">                    stk.<span class="built_in">top</span>() *= num;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">                    stk.<span class="built_in">top</span>() /= num;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// å¤„ç†å®Œè¿ç®—ç¬¦ä»¥åï¼Œæ›´æ–°ç¬¦å·å’Œæ•°å­—</span></span><br><span class="line">                sign = s[i];</span><br><span class="line">                num = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (!stk.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            sum += stk.<span class="built_in">top</span>();</span><br><span class="line">            stk.<span class="built_in">pop</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š<code>num = num * 10 + s[i] - &#39;0&#39;;</code>ä¼šå¯¼è‡´æº¢å‡ºï¼Œå› ä¸ºè¿™æ—¶çš„è¿ç®—é¡ºåºæ˜¯å…ˆå°†num*10åŠ ä¸Šè½¬ä¸ºintçš„s[i]ï¼Œä¹‹åå†å‡å»â€™0â€™è½¬ä¸ºçš„intå€¼ã€‚è€Œ<code>int(s[i]-&#39;0&#39;)</code>åˆ™èƒ½å¤Ÿé¿å…æº¢å‡ºã€‚</p></blockquote><p>2.ä½¿ç”¨vector:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">calculate</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; stk;</span><br><span class="line">        <span class="type">char</span> preSign = <span class="string">&#x27;+&#x27;</span>;</span><br><span class="line">        <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">length</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">isdigit</span>(s[i])) &#123;</span><br><span class="line">                num = num * <span class="number">10</span> + <span class="built_in">int</span>(s[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">isdigit</span>(s[i]) &amp;&amp; s[i] != <span class="string">&#x27; &#x27;</span> || i == n - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">switch</span> (preSign) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">                        stk.<span class="built_in">push_back</span>(num);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">                        stk.<span class="built_in">push_back</span>(-num);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">                        stk.<span class="built_in">back</span>() *= num;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">default</span>:</span><br><span class="line">                        stk.<span class="built_in">back</span>() /= num;</span><br><span class="line">                &#125;</span><br><span class="line">                preSign = s[i];</span><br><span class="line">                num = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">accumulate</span>(stk.<span class="built_in">begin</span>(), stk.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>é€šè¿‡å¯¹æ¯”å¯ä»¥çœ‹å‡ºï¼ŒäºŒè€…è°ƒç”¨çš„æ–¹æ³•ç•¥æœ‰ä¸åŒã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">    %%éœ€è¦ä½¿ç”¨â€œ â€åŒå¼•å·å°†ï¼ˆï¼‰è¿›è¡Œæ‹¬èµ·æ¥ï¼Œå¹¶ç»™å‡ºä¸€ä¸ªå‘½åï¼Œå¦åˆ™æ‹¬å·ä¸å¯ç”¨</span><br><span class="line">    subgraph vector</span><br><span class="line">        A(&quot;push_back()&quot;)</span><br><span class="line">        B[&quot;back()&quot;] </span><br><span class="line">        C[&quot;accumulate()&quot;]</span><br><span class="line">    end</span><br><span class="line"></span><br><span class="line">    subgraph stack</span><br><span class="line">        D(&quot;push()&quot;)</span><br><span class="line">        E[&quot;top()&quot;]</span><br><span class="line">        å¾ªç¯ç´¯åŠ </span><br><span class="line">    end</span><br><span class="line"></span><br><span class="line">    A&lt;--&gt;D</span><br><span class="line">    B&lt;--&gt;E</span><br><span class="line">    C&lt;--&gt;å¾ªç¯ç´¯åŠ </span><br></pre></td></tr></table></figure><h4 id="2-3-åŸºæœ¬è®¡ç®—å™¨ï¼š224ï¼ˆå›°éš¾ï¼‰"><a href="#2-3-åŸºæœ¬è®¡ç®—å™¨ï¼š224ï¼ˆå›°éš¾ï¼‰" class="headerlink" title="2-3.åŸºæœ¬è®¡ç®—å™¨ï¼š224ï¼ˆå›°éš¾ï¼‰"></a>2-3.åŸºæœ¬è®¡ç®—å™¨ï¼š224ï¼ˆå›°éš¾ï¼‰</h4><p>ç›¸æ¯”ä¸Šä¸€é“é¢˜ï¼Œå…¶å®å°±æ˜¯å¤šäº†æ‹¬å·å’Œè´Ÿæ•°ï¼Œæœ¬è´¨æ˜¯æ ¹æ®â€™+â€™åˆ†æ®µå­˜å…¥æ ˆä¸­å¹¶è®¡ç®—ã€‚è¿™ç±»é¢˜å¦‚æœé‡‡å–å…ˆè½¬ä¸ºé€†æ³¢å…°è¡¨è¾¾å¼ã€å†è®¡ç®—ç»“æœçš„æ–¹æ³•ï¼Œä¼šä½¿å¾—ä»£ç éå¸¸åºæ‚ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">calculate</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        stack&lt;<span class="type">int</span>&gt; stk; <span class="comment">// è¿™é‡Œstkå­˜å‚¨çš„ä¸æ˜¯æ“ä½œæ•°ï¼Œè€Œæ˜¯ç¬¦å·ops</span></span><br><span class="line">        stk.<span class="built_in">push</span>(<span class="number">1</span>);    <span class="comment">// é»˜è®¤ä¸ºæ­£å·ï¼Œæ‰€ä»¥æå‰å­˜å‚¨1è¿›å»</span></span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">length</span>();</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>, pos = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> sign = <span class="number">1</span>; <span class="comment">// é»˜è®¤ä¸ºæ­£æ•°.signå€¼åªèƒ½æ˜¯+1æˆ–è€…-1</span></span><br><span class="line">        <span class="keyword">while</span> (pos &lt; n) &#123;</span><br><span class="line">            <span class="keyword">switch</span> (s[pos]) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27; &#x27;</span>:</span><br><span class="line">                pos++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">                sign = stk.<span class="built_in">top</span>();</span><br><span class="line">                pos++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">                sign = -stk.<span class="built_in">top</span>();</span><br><span class="line">                pos++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">                stk.<span class="built_in">push</span>(sign);</span><br><span class="line">                pos++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">                stk.<span class="built_in">pop</span>();</span><br><span class="line">                pos++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>: <span class="comment">// æ˜¯æ•°å­—</span></span><br><span class="line">                <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span> (pos &lt; n &amp;&amp; <span class="built_in">isdigit</span>(s[pos])) &#123;</span><br><span class="line">                    num = num * <span class="number">10</span> + <span class="built_in">int</span>(s[pos++] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                ans += sign * num;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>è¿›é˜¶æ€è€ƒï¼šå­˜åœ¨ä¹˜é™¤æ³•ï¼Œå¹¶ä¸”â€™+â€™å¯ä»¥ç”¨ä½œä¸€å…ƒè¿ç®—ç¬¦(ä¾‹å¦‚<code>&quot;+1&quot;</code>å’Œ<code>&quot;+(2+3)&quot;</code>æœ‰æ•ˆ)</p></blockquote><h1 id="3-æ ˆä¸æ‹¬å·åŒ¹é…"><a href="#3-æ ˆä¸æ‹¬å·åŒ¹é…" class="headerlink" title="3.æ ˆä¸æ‹¬å·åŒ¹é…"></a>3.æ ˆä¸æ‹¬å·åŒ¹é…</h1><h4 id="3-1-æœ‰æ•ˆçš„æ‹¬å·ï¼š20"><a href="#3-1-æœ‰æ•ˆçš„æ‹¬å·ï¼š20" class="headerlink" title="3-1.æœ‰æ•ˆçš„æ‹¬å·ï¼š20"></a>3-1.æœ‰æ•ˆçš„æ‹¬å·ï¼š20</h4><p>éš¾åº¦ä¸é«˜</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isValid</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        stack&lt;<span class="type">char</span>&gt; stk;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">length</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> pos = <span class="number">0</span>; pos &lt; n; pos++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[pos] == <span class="string">&#x27;(&#x27;</span> || s[pos] == <span class="string">&#x27;[&#x27;</span> || s[pos] == <span class="string">&#x27;&#123;&#x27;</span>) &#123;</span><br><span class="line">                stk.<span class="built_in">emplace</span>(s[pos]);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (stk.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (s[pos] == <span class="string">&#x27;)&#x27;</span> &amp;&amp; stk.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (s[pos] == <span class="string">&#x27;]&#x27;</span> &amp;&amp; stk.<span class="built_in">top</span>() != <span class="string">&#x27;[&#x27;</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (s[pos] == <span class="string">&#x27;&#125;&#x27;</span> &amp;&amp; stk.<span class="built_in">top</span>() != <span class="string">&#x27;&#123;&#x27;</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                stk.<span class="built_in">pop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stk.<span class="built_in">empty</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="3-2-å‡½æ•°çš„ç‹¬å æ—¶é—´ï¼š636"><a href="#3-2-å‡½æ•°çš„ç‹¬å æ—¶é—´ï¼š636" class="headerlink" title="3-2.å‡½æ•°çš„ç‹¬å æ—¶é—´ï¼š636"></a>3-2.å‡½æ•°çš„ç‹¬å æ—¶é—´ï¼š636</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">exclusiveTime</span><span class="params">(<span class="type">int</span> n, vector&lt;string&gt;&amp; logs)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">res</span><span class="params">(n)</span></span>;</span><br><span class="line">        stack&lt;<span class="type">int</span>&gt; stk;</span><br><span class="line">        <span class="type">int</span> lastTimeStamp = <span class="number">0</span>; <span class="comment">// ä¸Šä¸€ä¸ªæ•°çš„æ—¶é—´æˆ³</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; log : logs) &#123;</span><br><span class="line">            <span class="comment">// é”™è¯¯ï¼šæ•°å­—å¯èƒ½ä¸æ­¢ä¸€ä½</span></span><br><span class="line">            <span class="comment">// int id = log[0] - &#x27;0&#x27;;</span></span><br><span class="line">            <span class="comment">// char StartOrEnd = log[3];</span></span><br><span class="line">            <span class="comment">// int timeStamp = log[(int)log.size() - 1];</span></span><br><span class="line">            <span class="type">int</span> id, timeStamp;</span><br><span class="line">            <span class="type">char</span> StartOrEnd[<span class="number">6</span>];</span><br><span class="line">            <span class="built_in">sscanf</span>(log.<span class="built_in">c_str</span>(), <span class="string">&quot;%d:%[^:]:%d&quot;</span>, &amp;id, StartOrEnd, &amp;timeStamp);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æœ¬è´¨æ˜¯æ‹¬å·åŒ¹é…</span></span><br><span class="line">            <span class="keyword">if</span> (StartOrEnd[<span class="number">0</span>] == <span class="string">&#x27;s&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!stk.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                    res[stk.<span class="built_in">top</span>()] += timeStamp - lastTimeStamp;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// å­˜åœ¨æ ˆé‡Œçš„éƒ½æ˜¯startéƒ¨åˆ†æœªè¢«endåŒ¹é…æ¶ˆé™¤çš„éƒ¨åˆ†å¯¹åº”çš„id</span></span><br><span class="line">                stk.<span class="built_in">push</span>(id);</span><br><span class="line">                <span class="comment">// æ¯æ¬¡å¾ªç¯ç»“æŸæ›´æ–°æ—¶é—´æˆ³</span></span><br><span class="line">                lastTimeStamp = timeStamp;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                res[stk.<span class="built_in">top</span>()] += timeStamp - lastTimeStamp + <span class="number">1</span>;</span><br><span class="line">                stk.<span class="built_in">pop</span>();</span><br><span class="line">                <span class="comment">// ä¸ºäº†ç»Ÿä¸€æ—¶é—´æˆ³æ ‡å‡†ï¼Œendçš„5ç›¸å½“äºstartçš„6.ç¡®ä¿end-endæ­£å¸¸</span></span><br><span class="line">                lastTimeStamp = timeStamp + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šå…³äº<code>sscanf(log.c_str(), &quot;%d:%[^:]:%d&quot;, &amp;id, StartOrEnd, &amp;timeStamp);</code>ï¼Œè¿™é‡Œçš„ç§Ÿç”¨ç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„spilt()å‡½æ•°ï¼Œç”¨äºå°†å­—ç¬¦ä¸²æ ¹æ®â€™:â€™åˆ†å‰²æˆä¸åŒçš„éƒ¨åˆ†ã€‚sscanf()çš„åŠŸèƒ½ç±»ä¼¼äºæ­£åˆ™è¡¨è¾¾å¼çš„regexï¼Œèƒœåœ¨<u>è½»é‡çº§å’Œé«˜æ•ˆ</u>ï¼Œä½†æ˜¯æ²¡æœ‰å…¶å¼ºå¤§ã€‚å…³äºæ­£åˆ™è¡¨è¾¾å¼regexï¼Œè¯¦è§ã€Š2.1å­—ç¬¦ä¸²ç¯‡(2)â€”-å…³äºæ­£åˆ™ã€‹ã€‚å½“å­—ç¬¦ä¸²å¾ˆé•¿æ—¶ï¼Œregexä¼šæ¶‰åŠæ›´å¤šçš„å†…å­˜é‡Šæ”¾å’Œåˆ†é…ï¼Œå¹¶ä¸”éœ€è¦æ›´å¤šçš„æ—¶é—´å¼€é”€ï¼Œå¯èƒ½å¯¼è‡´<u>è¶…æ—¶æˆ–å†…å­˜å ç”¨è¿‡é«˜</u>ã€‚</p><p>sscanfè¯­æ³•ä¸ºï¼š<code>int sscanf(const char *str, const char *format, T* dividePart1ptr, T* dividePart2ptr, ...);</code>ï¼Œå¹¶å°†åˆ†å‰²å‡ºçš„å„ä¸ªéƒ¨åˆ†èµ‹å€¼åˆ°å„ä¸ªdividePartä¸Šã€‚è¯¦ç»†è®²è§£ï¼š<a href="https://zhuanlan.zhihu.com/p/370029604">sscanfçš„ç”¨æ³•</a></p><p><code>c_str()</code>æ˜¯ä¸€ä¸ªç”¨äºå°†C++å­—ç¬¦ä¸²è½¬æ¢ä¸ºCé£æ ¼çš„å­—ç¬¦ä¸²ï¼ˆä»¥nullç»“å°¾çš„å­—ç¬¦æ•°ç»„ï¼‰çš„æˆå‘˜å‡½æ•°ï¼Œå®ƒè¿”å›ä¸€ä¸ªæŒ‡å‘ä»¥nullç»“å°¾çš„å­—ç¬¦æ•°ç»„çš„<mark>æŒ‡é’ˆ</mark>ï¼Œè¯¥å­—ç¬¦æ•°ç»„åŒ…å«äº†ä¸C++å­—ç¬¦ä¸²ç›¸å¯¹åº”çš„å­—ç¬¦åºåˆ—ã€‚æ¯”å¦‚ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">char</span> *cStyleStringPointer = myString.<span class="built_in">c_str</span>();</span><br></pre></td></tr></table></figure><p>ç°åœ¨å†æ¥å°†ä¹‹å‰sscanfä»£ç è½¬æ¢ä¸ºregexä»£ç ï¼Œå¦‚ä¸‹ï¼š(åœ¨æœ¬é¢˜ä¸­ä¼šè¶…æ—¶)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">regex <span class="title">pattern</span><span class="params">(<span class="string">&quot;(\\d+):(\\w+):(\\d+)&quot;</span>)</span></span>;</span><br><span class="line">smatch matches;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">regex_search</span>(log, matches, pattern)) &#123;</span><br><span class="line">    id = <span class="built_in">stoi</span>(matches[<span class="number">1</span>]);</span><br><span class="line">    string temp = matches[<span class="number">2</span>];</span><br><span class="line">    <span class="built_in">strcpy</span>(StartOrEnd, temp.<span class="built_in">c_str</span>());</span><br><span class="line">    timeStamp = <span class="built_in">stoi</span>(matches[<span class="number">3</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨åˆå¸¦æ¥äº†æ–°çš„çŸ¥è¯†ç‚¹ï¼šæ˜¯å¦å¯ä»¥å°†ç¬¬6è¡Œä»£ç å†™ä½œ<code>StartEnd = temp.c_str();</code>?ç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œæ­£å¦‚å‰é¢æ‰€è¯´ï¼Œ<code>c_str()</code>è¿”å›çš„æ˜¯<mark>ä»¥nullç»“å°¾</mark>çš„å­—ç¬¦æ•°ç»„çš„æŒ‡é’ˆï¼Œè€ŒStartEndåªæ˜¯ä¸ªæ™®é€šå­—ç¬¦æ•°ç»„çš„æŒ‡é’ˆï¼Œä½¿ç”¨<code>strcpy()</code>åˆ™å¯ä»¥ä¿è¯å°†<code>temp</code>ä¸­çš„å†…å®¹å¤åˆ¶åˆ°<code>StartOrEnd</code>ä¸­ï¼Œå¹¶ä¸”æœ€åæœ‰ä¸€ä¸ª<u>å­—ç¬¦ä¸²ç»“æŸç¬¦</u>ã€‚</p><p>   åŒç†ï¼Œç¬¬5å’Œç¬¬6è¡Œä¹Ÿå¯ä»¥ç›´æ¥æ”¹ä¸º<code>StartEnd = matches[2];</code>ï¼Œå‰æè¦æ±‚å£°æ˜çš„æ˜¯<code>string StartEnd;</code>ï¼Œå› ä¸ºå­—ç¬¦ä¸²ä¹Ÿç›¸å½“äºæ˜¯ä¸€ä¸ªä»¥nullç»“å°¾çš„å­—ç¬¦æ•°ç»„ã€‚</p><hr><p>å®˜æ–¹é¢˜è§£ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">exclusiveTime</span><span class="params">(<span class="type">int</span> n, vector&lt;string&gt;&amp; logs)</span> </span>&#123;</span><br><span class="line">        stack&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; st; <span class="comment">// &#123;idx, å¼€å§‹è¿è¡Œçš„æ—¶é—´&#125;</span></span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">res</span><span class="params">(n, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; log : logs) &#123;</span><br><span class="line">            <span class="type">char</span> type[<span class="number">10</span>];</span><br><span class="line">            <span class="type">int</span> idx, timestamp;</span><br><span class="line">            <span class="built_in">sscanf</span>(log.<span class="built_in">c_str</span>(), <span class="string">&quot;%d:%[^:]:%d&quot;</span>, &amp;idx, type, &amp;timestamp);</span><br><span class="line">            <span class="keyword">if</span> (type[<span class="number">0</span>] == <span class="string">&#x27;s&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!st.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                    res[st.<span class="built_in">top</span>().first] += timestamp - st.<span class="built_in">top</span>().second;</span><br><span class="line">                &#125;</span><br><span class="line">                st.<span class="built_in">emplace</span>(idx, timestamp);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">auto</span> t = st.<span class="built_in">top</span>();</span><br><span class="line">                st.<span class="built_in">pop</span>();</span><br><span class="line">                res[t.first] += timestamp - t.second + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (!st.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                    st.<span class="built_in">top</span>().second = timestamp + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="3-3-æ ‡ç­¾éªŒè¯å™¨ï¼š591ï¼ˆå›°éš¾ï¼‰"><a href="#3-3-æ ‡ç­¾éªŒè¯å™¨ï¼š591ï¼ˆå›°éš¾ï¼‰" class="headerlink" title="3-3.æ ‡ç­¾éªŒè¯å™¨ï¼š591ï¼ˆå›°éš¾ï¼‰"></a>3-3.æ ‡ç­¾éªŒè¯å™¨ï¼š591ï¼ˆå›°éš¾ï¼‰</h4><p>æ³•ä¸€ï¼šæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</p><p>é”™è§£ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isValid</span><span class="params">(string code)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ECMAScript</span></span><br><span class="line">        <span class="comment">// std::regex</span></span><br><span class="line">        <span class="comment">// pattern(&quot;&lt;([A-Z]&#123;1,9&#125;?&gt;)[^&lt;]*(&lt;!\[CDATA\[(.+?)\]\]&gt;)*[^&lt;]*&lt;\/\1&quot;);</span></span><br><span class="line">        <span class="comment">// leetcodeéœ€è¦å°†è½¬ä¹‰å­—ç¬¦\å†è¿›è¡Œä¸€æ¬¡è½¬ä¹‰</span></span><br><span class="line">        <span class="function">std::regex <span class="title">pattern</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">            <span class="string">&quot;&lt;([A-Z]&#123;1,9&#125;?&gt;)[^&lt;]*(&lt;!\\[CDATA\\[(.*?)\\]\\]&gt;)*[^&lt;]*&lt;\\/\\1&quot;</span>)</span></span>;</span><br><span class="line">        <span class="keyword">if</span> (std::<span class="built_in">regex_match</span>(code, pattern)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>   è¿™æ ·çš„ä»£ç å­˜åœ¨ç¼ºé™·ï¼Œæ¯”å¦‚code=<code>&quot;&lt;A&gt;&lt;A&gt;/A&gt;&lt;/A&gt;&lt;/A&gt;&quot;</code>æˆ–è€…<code>&quot;&lt;HTML&gt;&lt;DIV&gt;/A&gt;&lt;/DIV&gt;&lt;/HTML&gt;&quot;</code>æˆ–è€…<code>&quot;&lt;A&gt;&lt;B&gt;&lt;C&gt;&lt;D&gt;&lt;E&gt;&lt;F&gt;&lt;G&gt;&lt;/G&gt;&lt;H&gt;&lt;/H&gt;&lt;/F&gt;&lt;/E&gt;&lt;/D&gt;&lt;/C&gt;&lt;/B&gt;&lt;/A&gt;&quot;</code>ä»£ç è¿”å›falseï¼Œè€Œå®é™…åº”è¯¥è¿”å›trueã€‚å¦‚æœæ”¹ä¸ºregex_search()ä½¿ç”¨å±€éƒ¨åŒ¹é…è€Œéå®Œå…¨åŒ¹é…ï¼Œåˆ™ä¼šå¯¼è‡´<code>&quot;&lt;HTMLQQQ&gt;&lt;DIV&gt;/A&gt;&lt;/DIV&gt;&lt;/HTML&gt;&quot;</code>è¿”å›äº†trueã€‚</p><p><strong>æ”¹è¿›ç¬¬ä¸€æ­¥ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isValid</span><span class="params">(string code)</span> </span>&#123;</span><br><span class="line">        <span class="function">std::regex <span class="title">pattern</span><span class="params">(<span class="string">&quot;&lt;([A-Z]&#123;1,9&#125;?&gt;)[^&lt;]*(&lt;!\\[CDATA\\[(.*?)\\]\\]&gt;)*[^&lt;]*&lt;\\/\\1&quot;</span>)</span></span>;</span><br><span class="line">        <span class="keyword">while</span> (std::<span class="built_in">regex_search</span>(code, pattern) &amp;&amp; code.<span class="built_in">length</span>() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            code = std::<span class="built_in">regex_replace</span>(code, pattern, <span class="string">&quot;#&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> code == <span class="string">&quot;#&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>   æ³¨æ„ä¸€ç‚¹ï¼Œ<code>&quot;&lt;DIV&gt;&lt;UV&gt;&lt;![CDATA[&lt;GK&gt;&lt;![CDATA[&lt;![CDATA[OQA]]&gt;]]&gt;&lt;/GK&gt;]]&gt;&lt;/UV&gt;&lt;/DIV&gt;&quot;</code>åº”è¯¥è¿”å›false!å› ä¸º<code>&lt;![CDATA[CDATA_CONTENT]]&gt;</code>ï¼Œ<code>CDATA_CONTENT</code> çš„èŒƒå›´è¢«å®šä¹‰æˆ <code>&lt;![CDATA[</code> å’Œ<strong>åç»­çš„ç¬¬ä¸€ä¸ª</strong> <code>]]&gt;</code>ä¹‹é—´çš„å­—ç¬¦ã€‚å› æ­¤è¿˜éœ€è¦è¿›ä¸€æ­¥æ”¹è¿›ã€‚</p><p><strong>æ”¹è¿›ç¬¬äºŒæ­¥ï¼š(æ­£è§£)</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isValid</span><span class="params">(string code)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å…ˆå¤„ç†æ‰cdata</span></span><br><span class="line">        <span class="function">std::regex <span class="title">CDATApattern</span><span class="params">(<span class="string">&quot;&lt;!\\[CDATA\\[(.*?)\\]\\]&gt;&quot;</span>)</span></span>;</span><br><span class="line">        <span class="keyword">while</span> (std::<span class="built_in">regex_search</span>(code, CDATApattern)) &#123;</span><br><span class="line">            code = std::<span class="built_in">regex_replace</span>(code, CDATApattern, <span class="string">&quot;&amp;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å†è§£å†³å¯èƒ½åµŒå¥—çš„æ ‡ç­¾</span></span><br><span class="line">        <span class="function">std::regex <span class="title">pattern</span><span class="params">(<span class="string">&quot;&lt;([A-Z]&#123;1,9&#125;?&gt;)[^&lt;]*&amp;*[^&lt;]*&lt;\\/\\1&quot;</span>)</span></span>;</span><br><span class="line">        <span class="keyword">while</span> (std::<span class="built_in">regex_search</span>(code, pattern)) &#123;</span><br><span class="line">            code = std::<span class="built_in">regex_replace</span>(code, pattern, <span class="string">&quot;#&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> code == <span class="string">&quot;#&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è‡³æ­¤è§£é¢˜å®Œæ¯•ï¼Œä¸è¿‡æ—¶ç©ºå¼€é”€è¾ƒå¤§ã€‚</p><p><img src="C:\Users\huangjiakun\Pictures\Marktextå…¨å±€å›¾ç‰‡\f74d34754b8e317524894d4974f1dee69f4eb0df.png" alt=""></p><p><img src="C:\Users\huangjiakun\Pictures\Marktextå…¨å±€å›¾ç‰‡\ab2a014851d62419a59e526f6a328a69263aaefa.png" alt=""></p><p>æ³•äºŒï¼šæ ˆ+å­—ç¬¦ä¸²éå†</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isValid</span><span class="params">(string code)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = code.<span class="built_in">size</span>();</span><br><span class="line">        stack&lt;string&gt; tags;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; n) &#123;</span><br><span class="line">            <span class="keyword">if</span> (code[i] == <span class="string">&#x27;&lt;&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == n - <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (code[i + <span class="number">1</span>] == <span class="string">&#x27;/&#x27;</span>) &#123;</span><br><span class="line">                    <span class="type">int</span> j = code.<span class="built_in">find</span>(<span class="string">&#x27;&gt;&#x27;</span>, i);</span><br><span class="line">                    <span class="keyword">if</span> (j == string::npos) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    string tagname = code.<span class="built_in">substr</span>(i + <span class="number">2</span>, j - (i + <span class="number">2</span>));</span><br><span class="line">                    <span class="keyword">if</span> (tags.<span class="built_in">empty</span>() || tags.<span class="built_in">top</span>() != tagname) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    tags.<span class="built_in">pop</span>();</span><br><span class="line">                    i = j + <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">if</span> (tags.<span class="built_in">empty</span>() &amp;&amp; i != n) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (code[i + <span class="number">1</span>] == <span class="string">&#x27;!&#x27;</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (tags.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    string cdata = code.<span class="built_in">substr</span>(i + <span class="number">2</span>, <span class="number">7</span>);</span><br><span class="line">                    <span class="keyword">if</span> (cdata != <span class="string">&quot;[CDATA[&quot;</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="type">int</span> j = code.<span class="built_in">find</span>(<span class="string">&quot;]]&gt;&quot;</span>, i);</span><br><span class="line">                    <span class="keyword">if</span> (j == string::npos) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    i = j + <span class="number">3</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="type">int</span> j = code.<span class="built_in">find</span>(<span class="string">&#x27;&gt;&#x27;</span>, i);</span><br><span class="line">                    <span class="keyword">if</span> (j == string::npos) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    string tagname = code.<span class="built_in">substr</span>(i + <span class="number">1</span>, j - (i + <span class="number">1</span>));</span><br><span class="line">                    <span class="keyword">if</span> (tagname.<span class="built_in">size</span>() &lt; <span class="number">1</span> || tagname.<span class="built_in">size</span>() &gt; <span class="number">9</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (!<span class="built_in">all_of</span>(tagname.<span class="built_in">begin</span>(), tagname.<span class="built_in">end</span>(),</span><br><span class="line">                                [](<span class="type">unsigned</span> <span class="type">char</span> c) &#123; <span class="keyword">return</span> <span class="built_in">isupper</span>(c); &#125;)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    tags.<span class="built_in">push</span>(<span class="built_in">move</span>(tagname));</span><br><span class="line">                    i = j + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (tags.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                ++i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> tags.<span class="built_in">empty</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="3-4-æœ€é•¿æœ‰æ•ˆæ‹¬å·ï¼š32ï¼ˆå›°éš¾ï¼‰"><a href="#3-4-æœ€é•¿æœ‰æ•ˆæ‹¬å·ï¼š32ï¼ˆå›°éš¾ï¼‰" class="headerlink" title="3-4.æœ€é•¿æœ‰æ•ˆæ‹¬å·ï¼š32ï¼ˆå›°éš¾ï¼‰"></a>3-4.æœ€é•¿æœ‰æ•ˆæ‹¬å·ï¼š32ï¼ˆå›°éš¾ï¼‰</h4><p>ç†è§£é¢˜æ„ï¼Œæœ‰æ•ˆæ‹¬å·å­ä¸²å½¢å¼ä¸ºï¼š1ã€â€()()â€;2ã€â€(())â€â€¦å…¶å®å°±æ˜¯æ»¡è¶³3-1.ç¬¬20é¢˜çš„é‚£ç§å­—ç¬¦ä¸²ã€‚</p><p>æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">longestValidParentheses</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(n, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123; <span class="comment">// dp[0]å¿…å®šä¸º0</span></span><br><span class="line">            <span class="comment">// s[i]==&#x27;(&#x27;æ—¶dp[i]å¿…å®šä¸º0</span></span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (s[i - <span class="number">1</span>] == <span class="string">&#x27;(&#x27;</span>) &#123; <span class="comment">//&quot;...()&quot;å‹</span></span><br><span class="line">                    dp[i] = (i &gt;= <span class="number">2</span> ? dp[i - <span class="number">2</span>] + <span class="number">2</span> : <span class="number">2</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i &gt; dp[i - <span class="number">1</span>] &amp;&amp; s[i - dp[i - <span class="number">1</span>] - <span class="number">1</span>] == <span class="string">&#x27;(&#x27;</span>) &#123; <span class="comment">//&quot;...))&quot;å‹   </span></span><br><span class="line">                    dp[i] = dp[i - <span class="number">1</span>] + ((i - dp[i - <span class="number">1</span>]) &gt;= <span class="number">2</span> ? dp[i - dp[i - <span class="number">1</span>] - <span class="number">2</span>] + <span class="number">2</span> : <span class="number">2</span>);      </span><br><span class="line">                &#125;</span><br><span class="line">                ans = <span class="built_in">max</span>(ans, dp[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šæ ˆ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">longestValidParentheses</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        stack&lt;<span class="type">int</span>&gt; stk; <span class="comment">// å­˜å‚¨çš„æ˜¯æœ€åä¸€ä¸ªæ— æ³•åŒ¹é…çš„æ‹¬å·å¯¹åº”çš„ä¸‹æ ‡</span></span><br><span class="line">        <span class="comment">// å¦‚æœä¸€å¼€å§‹æ ˆä¸ºç©ºï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ºå·¦æ‹¬å·çš„æ—¶å€™æˆ‘ä»¬ä¼šå°†å…¶æ”¾å…¥æ ˆä¸­ï¼Œ</span></span><br><span class="line">        <span class="comment">// è¿™æ ·å°±ä¸æ»¡è¶³æåŠçš„ã€Œæœ€åä¸€ä¸ªæ²¡æœ‰è¢«åŒ¹é…çš„å³æ‹¬å·çš„ä¸‹æ ‡ã€ï¼Œ</span></span><br><span class="line">        <span class="comment">// ä¸ºäº†ä¿æŒç»Ÿä¸€ï¼Œæˆ‘ä»¬åœ¨ä¸€å¼€å§‹çš„æ—¶å€™å¾€æ ˆä¸­æ”¾å…¥ä¸€ä¸ªå€¼ä¸º-1çš„å…ƒç´ ã€‚</span></span><br><span class="line">        stk.<span class="built_in">push</span>(<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                stk.<span class="built_in">push</span>(i);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                stk.<span class="built_in">pop</span>();<span class="comment">//-1çš„ä½œç”¨ä½“ç°åœ¨è¿™é‡Œï¼Œä¸€å¼€å§‹ä¸º&#x27;)&#x27;æ—¶é¿å…å‡ºé”™</span></span><br><span class="line">                <span class="keyword">if</span> (stk.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                    stk.<span class="built_in">push</span>(i);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    ans = <span class="built_in">max</span>(ans, i - stk.<span class="built_in">top</span>());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•ä¸‰ï¼šåŒè®¡æ•°å™¨ï¼Œè¿‘ä¼¼äºåŒæŒ‡é’ˆï¼ˆæœ€ä¼˜ï¼Œä¸éœ€è¦é¢å¤–ç©ºé—´ï¼‰</p><p>leftç»Ÿè®¡å·¦æ‹¬å·æ•°ï¼Œrightç»Ÿè®¡å³æ‹¬å·æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">longestValidParentheses</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">size</span>(), left = <span class="number">0</span>, right = <span class="number">0</span>, ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">                ans = <span class="built_in">max</span>(ans, <span class="number">2</span> * right);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (right &gt; left) &#123;</span><br><span class="line">                left = right = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        left = right = <span class="number">0</span>; <span class="comment">// é‡ç½®ï¼Œä¸ºä¸‹ä¸€æ¬¡éå†åšå‡†å¤‡</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">                ans = <span class="built_in">max</span>(ans, <span class="number">2</span> * left);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left &gt; right) &#123;</span><br><span class="line">                left = right = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="4-é€’å½’-äº†è§£"><a href="#4-é€’å½’-äº†è§£" class="headerlink" title="4.é€’å½’(äº†è§£)"></a>4.é€’å½’(äº†è§£)</h1><h4 id="4-1-è¿·ä½ è¯­æ³•åˆ†æå™¨ï¼š385"><a href="#4-1-è¿·ä½ è¯­æ³•åˆ†æå™¨ï¼š385" class="headerlink" title="4-1.è¿·ä½ è¯­æ³•åˆ†æå™¨ï¼š385"></a>4-1.è¿·ä½ è¯­æ³•åˆ†æå™¨ï¼š385</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> index = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">NestedInteger <span class="title">deserialize</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s[index] == <span class="string">&#x27;[&#x27;</span>) &#123;</span><br><span class="line">            index++;</span><br><span class="line">            NestedInteger ni;</span><br><span class="line">            <span class="keyword">while</span> (s[index] != <span class="string">&#x27;]&#x27;</span>) &#123;</span><br><span class="line">                ni.<span class="built_in">add</span>(<span class="built_in">deserialize</span>(s));</span><br><span class="line">                <span class="keyword">if</span> (s[index] == <span class="string">&#x27;,&#x27;</span>) &#123;</span><br><span class="line">                    index++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            index++;</span><br><span class="line">            <span class="keyword">return</span> ni;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">bool</span> negative = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span> (s[index] == <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">                negative = <span class="literal">true</span>;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (index &lt; s.<span class="built_in">size</span>() &amp;&amp; <span class="built_in">isdigit</span>(s[index])) &#123;</span><br><span class="line">                num = num * <span class="number">10</span> + s[index] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (negative) &#123;</span><br><span class="line">                num *= <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">NestedInteger</span>(num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>341ã€394ç•¥ã€‚å°±æ˜¯åˆ©ç”¨ç»™çš„æ¥å£çš„æ–¹æ³•è§£é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> leetcodeåˆ·é¢˜ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> leetcode </tag>
            
            <tag> æ ˆ </tag>
            
            <tag> é€’å½’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.æ•°ä¸ä½ç¯‡</title>
      <link href="/posts/f83528c7.html"/>
      <url>/posts/f83528c7.html</url>
      
        <content type="html"><![CDATA[<h1 id="1-æ•°å­—çš„ä½æ“ä½œ"><a href="#1-æ•°å­—çš„ä½æ“ä½œ" class="headerlink" title="1.æ•°å­—çš„ä½æ“ä½œ"></a>1.æ•°å­—çš„ä½æ“ä½œ</h1><h2 id="1-1-å›æ–‡"><a href="#1-1-å›æ–‡" class="headerlink" title="1-1.å›æ–‡"></a>1-1.å›æ–‡</h2><h3 id="1-1-1-å›æ–‡æ•°ï¼š9"><a href="#1-1-1-å›æ–‡æ•°ï¼š9" class="headerlink" title="1-1-1.å›æ–‡æ•°ï¼š9"></a>1-1-1.å›æ–‡æ•°ï¼š9</h3><p>æ³•ä¸€ï¼šå¸¸è§„è§£æ³•ï¼Œä½†æ˜¯éœ€è¦è€ƒè™‘æ•´æ•°æº¢å‡ºé—®é¢˜</p><p>æ³•äºŒï¼šåè½¬ä¸€åŠæ•°å­—</p><p>æ–¹æ³•ä¸æ³•ä¸€ç±»ä¼¼ï¼Œä½†æ˜¯è¿™æ ·å¯ä»¥é¿å…è€ƒè™‘æº¢å‡ºé—®é¢˜ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPalindrome</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (x &lt; <span class="number">0</span> || (x % <span class="number">10</span> == <span class="number">0</span> &amp;&amp; x)) &#123;</span><br><span class="line">            <span class="comment">//å› ä¸ºæœ€ç»ˆreturnéƒ¨åˆ†åŠ å…¥äº†x==res/10çš„æƒ…å†µï¼Œæ‰€ä»¥éœ€è¦(x % 10 == 0 &amp;&amp; x)</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (x &gt; res) &#123;</span><br><span class="line">            <span class="type">int</span> digit = x % <span class="number">10</span>;</span><br><span class="line">            x /= <span class="number">10</span>;</span><br><span class="line">            res = res * <span class="number">10</span> + digit;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å½“æ•°å­—é•¿åº¦ä¸ºå¥‡æ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ revertedNumber/10 å»é™¤å¤„äºä¸­ä½çš„æ•°å­—ã€‚</span></span><br><span class="line">        <span class="comment">// ä¾‹å¦‚ï¼Œå½“è¾“å…¥ä¸º 12321 æ—¶ï¼Œåœ¨ while å¾ªç¯çš„æœ«å°¾æˆ‘ä»¬å¯ä»¥å¾—åˆ° x = 12ï¼ŒrevertedNumber = 123ï¼Œ</span></span><br><span class="line">        <span class="comment">// ç”±äºå¤„äºä¸­ä½çš„æ•°å­—ä¸å½±å“å›æ–‡ï¼ˆå®ƒæ€»æ˜¯ä¸è‡ªå·±ç›¸ç­‰ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç®€å•åœ°å°†å…¶å»é™¤ã€‚</span></span><br><span class="line">        <span class="keyword">return</span> x == res || x == res / <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="1-1-2-å¯»æ‰¾æœ€è¿‘çš„å›æ–‡æ•°ï¼š564ï¼ˆå›°éš¾ï¼‰"><a href="#1-1-2-å¯»æ‰¾æœ€è¿‘çš„å›æ–‡æ•°ï¼š564ï¼ˆå›°éš¾ï¼‰" class="headerlink" title="1-1-2.å¯»æ‰¾æœ€è¿‘çš„å›æ–‡æ•°ï¼š564ï¼ˆå›°éš¾ï¼‰"></a>1-1-2.å¯»æ‰¾æœ€è¿‘çš„å›æ–‡æ•°ï¼š564ï¼ˆå›°éš¾ï¼‰</h3><p>æ¨¡æ‹Ÿï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> ULL = <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;ULL&gt; <span class="title">getCandidates</span><span class="params">(<span class="type">const</span> string&amp; n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> len = n.<span class="built_in">length</span>();</span><br><span class="line">        <span class="comment">// å€™é€‰æ•°ç»„ï¼Œç¬¦åˆè¿™4ä¸­æƒ…å†µçš„æ•°å­—</span></span><br><span class="line">        vector&lt;ULL&gt; candidates = &#123;</span><br><span class="line">            (ULL)<span class="built_in">pow</span>(<span class="number">10</span>, len - <span class="number">1</span>) - <span class="number">1</span>,</span><br><span class="line">            (ULL)<span class="built_in">pow</span>(<span class="number">10</span>, len) + <span class="number">1</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">        ULL selfPrefix = <span class="built_in">stoull</span>(n.<span class="built_in">substr</span>(<span class="number">0</span>, (len + <span class="number">1</span>) / <span class="number">2</span>));</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i : &#123;selfPrefix - <span class="number">1</span>, selfPrefix, selfPrefix + <span class="number">1</span>&#125;) &#123;</span><br><span class="line">            <span class="comment">// iåªåœ¨è¿™ä¸‰ä¸ªæ•°ä¹‹é—´éå†</span></span><br><span class="line">            <span class="comment">// prefixå°±æ˜¯åŸæ•°å­—çš„å‰åŠéƒ¨åˆ†</span></span><br><span class="line">            string prefix = <span class="built_in">to_string</span>(i);</span><br><span class="line">            string candidate = prefix + <span class="built_in">string</span>(prefix.<span class="built_in">rbegin</span>() + (len &amp; <span class="number">1</span>), prefix.<span class="built_in">rend</span>());</span><br><span class="line">            candidates.<span class="built_in">push_back</span>(<span class="built_in">stoull</span>(candidate));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> candidates;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">string <span class="title">nearestPalindromic</span><span class="params">(string n)</span> </span>&#123;</span><br><span class="line">        ULL selfNumber = <span class="built_in">stoull</span>(n), ans = <span class="number">-1</span>;</span><br><span class="line">        <span class="type">const</span> vector&lt;ULL&gt;&amp; candidates = <span class="built_in">getCandidates</span>(n);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; candidate : candidates) &#123;</span><br><span class="line">            <span class="keyword">if</span> (candidate != selfNumber) &#123;</span><br><span class="line">                <span class="keyword">if</span> (ans == <span class="number">-1</span> ||</span><br><span class="line">                    <span class="built_in">llabs</span>(candidate - selfNumber) &lt; <span class="built_in">llabs</span>(ans - selfNumber) ||</span><br><span class="line">                    <span class="built_in">llabs</span>(candidate - selfNumber) == <span class="built_in">llabs</span>(ans - selfNumber) &amp;&amp; candidate &lt; ans) &#123;</span><br><span class="line">                    ans = candidate;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">to_string</span>(ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³¨ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç§ï¼štypedef</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> myInt1;</span><br><span class="line"><span class="keyword">typedef</span> std::vector&lt;<span class="type">int</span>&gt; IntVector1;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒç§ï¼šusing åˆ«åå£°æ˜</span></span><br><span class="line"><span class="keyword">using</span> myInt2 = <span class="type">int</span>;</span><br><span class="line"><span class="keyword">using</span> IntVector2 = std::vector&lt;<span class="type">int</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸‰ç§ï¼šusing æ¨¡æ¿åˆ«å</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">using</span> myIntVector = std::vector&lt;T&gt;;</span><br></pre></td></tr></table></figure><ol><li><p><code>using ULL = unsigned long long;</code>ï¼šå…³äºåˆ«åæœ‰ä¸‰ç§å†™æ³•ï¼Œtypedefã€usingåˆ«åå£°æ˜ã€usingæ¨¡æ¿å£°æ˜ã€‚</p><p>ç±»å‹åˆ«åï¼ˆtype aliasï¼‰ã€<code>#define</code> å®å’Œ <code>const</code> å¸¸é‡çš„åŒºåˆ«ï¼š<br><img src="https://s2.loli.net/2024/03/02/KH47ykvXJzDcOGq.png" alt=""><br><img src="https://s2.loli.net/2024/03/02/ENLYWubxaqS8IvM.png" alt=""></p></li><li><p><code>string(prefix.rbegin() + (len &amp; 1), prefix.rend());</code>ï¼š<br>+<code>len&amp;1</code>æ˜¯æŒ‡ï¼Œå¦‚æœé•¿åº¦lenä¸ºå•æ•°ï¼ˆlen&amp;1==1ï¼Œæ¶‰åŠä½è¿ç®—ï¼Œå¥‡æ•°çš„äºŒè¿›åˆ¶æœ«ä½ä¸º1ï¼‰ï¼Œåˆ™ä»ä¸‹æ ‡1å¼€å§‹æ·»åŠ ï¼Œå¦åˆ™ä»0å¼€å§‹ã€‚<code>string(startIterater,endIterater);</code></p></li><li><p>stoull()ã€llabs():ä¸åœ¨èµ˜è¿°ï¼Œæ³¨æ„å¹¶æ²¡æœ‰ullabs()çš„ç”¨æ³•ã€‚è¿˜æœ‰ä¸€ç‚¹å€¼å¾—æ³¨æ„ï¼Œåº”è¯¥ä½¿ç”¨unsigned long longè€Œélong long,æ˜¯å› ä¸ºå¦‚æœè¾“å…¥ä¸ºï¼šâ€999999999999999999â€,å¯¹äº13è¡Œè¿™å¥ <code>candidates.push_back(stol(candidate)); stol</code> ä¼šäº§ç”Ÿæº¢å‡ºï¼ŒåŸå› æ˜¯candidateè¶…è¿‡ long longï¼Œæ˜¯ä¸¤ä¸ªå¤§æ•°ç›¸åŠ æ¥è¿‘ 2^65äº†ã€‚</p></li></ol><h2 id="1-2-xçš„å¹‚"><a href="#1-2-xçš„å¹‚" class="headerlink" title="1-2.xçš„å¹‚"></a>1-2.xçš„å¹‚</h2><h3 id="1-2-1-2çš„å¹‚ï¼š231"><a href="#1-2-1-2çš„å¹‚ï¼š231" class="headerlink" title="1-2-1.2çš„å¹‚ï¼š231"></a>1-2-1.2çš„å¹‚ï¼š231</h3><p>æ³•ä¸€ï¼šä½è¿ç®—</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPowerOfTwo</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n &gt; <span class="number">0</span> &amp;&amp; (n &amp; (n - <span class="number">1</span>)) == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPowerOfTwo</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n &gt; <span class="number">0</span> &amp;&amp; (n &amp; -n) == n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šåˆ¤æ–­æ˜¯å¦ä¸ºæœ€å¤§çš„2çš„å¹‚çš„çº¦æ•°ï¼ˆå–å·§ï¼Œäº†è§£ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">static</span> <span class="keyword">constexpr</span> <span class="type">int</span> BIG = <span class="number">1</span> &lt;&lt; <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPowerOfTwo</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n &gt; <span class="number">0</span> &amp;&amp; BIG % n == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³¨:<code>1&lt;&lt;30</code>æ˜¯æŒ‡äºŒè¿›åˆ¶æ•°1å·¦ç§»30ä½å˜æˆ$2^{31}$ã€‚</p><h3 id="å…³äºå¸¸é‡"><a href="#å…³äºå¸¸é‡" class="headerlink" title="å…³äºå¸¸é‡"></a>å…³äºå¸¸é‡</h3><p>   constexprç”¨äºå£°æ˜å¸¸é‡è¡¨è¾¾å¼,constç”¨äºå£°æ˜å¸¸é‡ã€‚<code>1&lt;&lt;30</code>æ˜¯å¸¸é‡è¡¨è¾¾å¼ï¼Œå› ä¸ºå®ƒåœ¨<u>ç¼–è¯‘æ—¶å°±èƒ½å¾—åˆ°è®¡ç®—ç»“æœ</u>ã€‚å¹¶ä¸”è¿™é‡Œå¿…é¡»åŠ ä¸Šstaticä½¿å¾—BIGè¢«å£°æ˜ä¸º<mark>é™æ€å¸¸é‡</mark>ï¼Œè®©æ‰€æœ‰Solutionçš„å®ä¾‹éƒ½å…±äº«åŒä¸€ä»½BIGã€‚</p><hr><p>Q:å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼æ˜¯ä¸æ˜¯è¿è¡Œæ—¶æ‰èƒ½è®¡ç®—å‡ºç»“æœï¼Ÿ</p><p>A:è€ƒè™‘ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ol><li><p><strong>éç¼–è¯‘æ—¶è®¡ç®—</strong>ï¼šå¦‚æœä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼å¯ä»¥åœ¨ç¼–è¯‘æ—¶å°±è®¡ç®—å‡ºç»“æœï¼Œé‚£ä¹ˆå®ƒå°±ä¸æ˜¯è¿è¡Œæ—¶æ‰èƒ½è®¡ç®—å‡ºçš„ã€‚ç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘é˜¶æ®µå¯¹è¿™äº›è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼ã€‚</p></li><li><p><strong>ä¾èµ–è¿è¡Œæ—¶ä¿¡æ¯</strong>ï¼šå¦‚æœä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼ä¾èµ–äºåœ¨è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šçš„ä¿¡æ¯ï¼Œæ¯”å¦‚ç”¨æˆ·è¾“å…¥ã€åŠ¨æ€åˆ†é…çš„å†…å­˜åœ°å€ç­‰ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯è¿è¡Œæ—¶æ‰èƒ½è®¡ç®—å‡ºçš„ã€‚</p></li><li><p><strong>å‡½æ•°è°ƒç”¨</strong>ï¼šå¦‚æœä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼ä¸­åŒ…å«å‡½æ•°è°ƒç”¨ï¼Œç‰¹åˆ«æ˜¯è™šå‡½æ•°è°ƒç”¨æˆ–è€…ä¾èµ–äºåŠ¨æ€å¤šæ€æ€§çš„è°ƒç”¨ï¼Œé‚£ä¹ˆå®ƒé€šå¸¸æ˜¯åœ¨è¿è¡Œæ—¶æ‰èƒ½è®¡ç®—å‡ºç»“æœçš„ã€‚</p></li><li><p><strong>æ¡ä»¶è¡¨è¾¾å¼</strong>ï¼šå¦‚æœä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼åŒ…å«æ¡ä»¶è¿ç®—ç¬¦ï¼ˆå¦‚<code>? :</code>ï¼‰ï¼Œå¹¶ä¸”æ¡ä»¶æ˜¯åœ¨è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šçš„ï¼Œé‚£ä¹ˆå®ƒä¹Ÿæ˜¯åœ¨è¿è¡Œæ—¶æ‰èƒ½è®¡ç®—å‡ºç»“æœçš„ã€‚</p></li></ol><p>æ¯”å¦‚<code>1&lt;&lt;x</code>,<code>pow(3,19)</code>,<code>a&gt;15?true:false</code>éƒ½æ˜¯åœ¨è¿è¡Œæ—¶æ‰èƒ½è®¡ç®—å‡ºç»“æœã€‚ç¬¬ä¸€ä¸ªå¯¹åº”ç¬¬2ç‚¹ï¼Œxåœ¨è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šï¼›ç¬¬äºŒä¸ªå¯¹åº”ç¬¬3ç‚¹ï¼ŒåŒ…å«äº†pow()å‡½æ•°è°ƒç”¨;ç¬¬ä¸‰ä¸ªå¯¹åº”ç¬¬4ç‚¹ï¼ŒåŒ…å«äº†æ¡ä»¶è¿ç®—ç¬¦çš„åŒæ—¶åŒ…å«äº†è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šçš„æ¡ä»¶a&gt;15.</p><p>è€Œè¯¸å¦‚<code>20&gt;15</code>,<code>4+3</code>,<code>110&lt;&lt;24</code>è¿™ç±»ï¼Œåˆ™æ˜¯ç¼–è¯‘æ—¶å°±èƒ½è®¡ç®—å‡ºç»“æœã€‚</p><hr><p>constexprå’Œconstçš„è¯¦ç»†åŒºåˆ«ï¼š<a href="https://zhuanlan.zhihu.com/p/635720513">constexprå’Œconst</a></p><p>   æ€»çš„æ¥è¯´ï¼Œconst æ˜¯ä¸€ä¸ªç”¨äºæŒ‡å®šå¸¸é‡çš„å…³é”®å­—ï¼Œè€Œ constexpr åˆ™æ˜¯ä¸€ä¸ªç”¨äºæŒ‡å®šå¸¸é‡è¡¨è¾¾å¼çš„å…³é”®å­—ã€‚ä½¿ç”¨ constexpr å¯ä»¥è®©ç¼–è¯‘å™¨è¿›è¡Œä¼˜åŒ–å’Œæ£€æŸ¥ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§å’Œè¿è¡Œæ•ˆç‡ã€‚ </p><h3 id="1-2-2-4çš„å¹‚ï¼š342"><a href="#1-2-2-4çš„å¹‚ï¼š342" class="headerlink" title="1-2-2.4çš„å¹‚ï¼š342"></a>1-2-2.4çš„å¹‚ï¼š342</h3><p>æ³•ä¸€ï¼šä½è¿ç®—</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPowerOfFour</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n &gt; <span class="number">0</span> &amp;&amp; (n &amp; (n - <span class="number">1</span>)) == <span class="number">0</span> &amp;&amp; (n &amp; <span class="number">0xaaaaaaaa</span>) == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šå–æ¨¡</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPowerOfFour</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n &gt; <span class="number">0</span> &amp;&amp; (n &amp; (n - <span class="number">1</span>)) == <span class="number">0</span> &amp;&amp; n % <span class="number">3</span> == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å°è¯•å†™å‡ºåˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦ä¸º8çš„å¹‚æ¬¡æ–¹ã€‚</p><h3 id="1-2-3-3çš„å¹‚ï¼š326"><a href="#1-2-3-3çš„å¹‚ï¼š326" class="headerlink" title="1-2-3.3çš„å¹‚ï¼š326"></a>1-2-3.3çš„å¹‚ï¼š326</h3><p>æ³•ä¸€ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºæœ€å¤§çš„3çš„å¹‚çš„çº¦æ•°ï¼ˆå–å·§ï¼Œäº†è§£ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">static</span> <span class="type">const</span> <span class="type">int</span> BIG = <span class="number">1162261467</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPowerOfThree</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> n &gt; <span class="number">0</span> &amp;&amp; BIG % n == <span class="number">0</span>; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šè¯•é™¤æ³•ï¼ˆæ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼‰</p><p>ä¸æ–­é™¤ä»¥3ç›´åˆ°n=1:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPowerOfThree</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (n &amp;&amp; n % <span class="number">3</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            n /= <span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="1-3-é¢ å€’äºŒè¿›åˆ¶ä½ï¼š190"><a href="#1-3-é¢ å€’äºŒè¿›åˆ¶ä½ï¼š190" class="headerlink" title="1-3.é¢ å€’äºŒè¿›åˆ¶ä½ï¼š190"></a>1-3.é¢ å€’äºŒè¿›åˆ¶ä½ï¼š190</h2><p><code>uint32_t</code>æ˜¯æ— ç¬¦å·32ä½æ•´æ•°ç±»å‹ï¼ŒèŒƒå›´åœ¨$0$~$2^{32}-1$ï¼Œå®šä¹‰åœ¨å¤´æ–‡ä»¶<code>&lt;cstdint&gt;</code>ä¸­ã€‚</p><p>æ³•ä¸€ï¼šé€ä½é¢ å€’</p><p>æ¯æ¬¡æŠŠ res å·¦ç§»ï¼ŒæŠŠ n çš„äºŒè¿›åˆ¶æœ«å°¾æ•°å­—ï¼Œæ‹¼æ¥åˆ°ç»“æœ res çš„æœ«å°¾ã€‚ç„¶åæŠŠ n å³ç§»ã€‚</p><p>ä»¥8ä½äºŒè¿›åˆ¶ä¸ºä¾‹ï¼š</p><div class="table-container"><table><thead><tr><th style="text-align:center">i</th><th style="text-align:center">n</th><th style="text-align:center">n&amp;1</th><th style="text-align:center">res</th></tr></thead><tbody><tr><td style="text-align:center">â€”-</td><td style="text-align:center">11001001</td><td style="text-align:center">1</td><td style="text-align:center">â€”-</td></tr><tr><td style="text-align:center">0</td><td style="text-align:center">01100100</td><td style="text-align:center">0</td><td style="text-align:center">1,0000000</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">00110010</td><td style="text-align:center">0</td><td style="text-align:center">10,000000</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">00011001</td><td style="text-align:center">1</td><td style="text-align:center">100,00000</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">00001100</td><td style="text-align:center">0</td><td style="text-align:center">1001,0000</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">00000110</td><td style="text-align:center">0</td><td style="text-align:center">10010,000</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">00000011</td><td style="text-align:center">1</td><td style="text-align:center">100100,00</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">00000001</td><td style="text-align:center">1</td><td style="text-align:center">1001001,0</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">00000000</td><td style="text-align:center">â€”-</td><td style="text-align:center">10010011</td></tr></tbody></table></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">uint32_t</span> <span class="title">reverseBits</span><span class="params">(<span class="type">uint32_t</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">uint32_t</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; n &gt; <span class="number">0</span> &amp;&amp; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">            res |= (n &amp; <span class="number">1</span>) &lt;&lt; (<span class="number">31</span> - i);</span><br><span class="line">            <span class="comment">//å¦‚n&amp;1==1æ—¶,nä¸ºå¥‡æ•°.åŒæ—¶ä¹Ÿèƒ½åˆ¤æ–­å‡ºnæœ«ä½ä¸º1,æ‰€ä»¥n&amp;1ä¹Ÿä»£è¡¨æœ«ä½</span></span><br><span class="line">            <span class="comment">//æœ«ä½å³ç§»31-iä½ï¼Œåé¢è¡¥ä¸Š0å¹¶ä¸resè¿›è¡Œä½æˆ–æ“ä½œ</span></span><br><span class="line">            n &gt;&gt;= <span class="number">1</span>; <span class="comment">// nå·¦ç§»1ä½ï¼Œç›¸å½“äºå»é™¤ä¹‹å‰çš„æœ«ä½</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">uint32_t</span> <span class="title">reverseBits</span><span class="params">(<span class="type">uint32_t</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">uint32_t</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; n &gt; <span class="number">0</span> &amp;&amp; i &lt; <span class="number">32</span>; i++) &#123;<span class="comment">//å»æ‰n&gt;0çš„æ¡ä»¶</span></span><br><span class="line">            res = (res &lt;&lt; <span class="number">1</span>) | (n &amp; <span class="number">1</span>);</span><br><span class="line">            n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šä½è¿ç®—åˆ†æ²»(æœ€ä¼˜)</p><p>   ç±»ä¼¼å½’å¹¶æ’åºï¼Œå…¶æ€æƒ³æ˜¯åˆ†è€Œæ²»ä¹‹ï¼ŒæŠŠæ•°å­—åˆ†ä¸ºä¸¤åŠï¼Œç„¶åäº¤æ¢è¿™ä¸¤åŠçš„é¡ºåºï¼›ç„¶åæŠŠå‰åä¸¤ä¸ªåŠæ®µéƒ½å†åˆ†æˆä¸¤åŠï¼Œäº¤æ¢å†…éƒ¨é¡ºåºâ€¦â€¦ç›´è‡³æœ€åäº¤æ¢é¡ºåºçš„æ—¶å€™ï¼Œäº¤æ¢çš„æ•°å­—åªæœ‰ 1 ä½ã€‚</p><p><img src="https://s2.loli.net/2024/03/03/o8rGDi5tnCQw6e1.png" alt=""></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">const</span> <span class="type">uint32_t</span> M1 = <span class="number">0x55555555</span>; <span class="comment">// 01010101010101010101010101010101</span></span><br><span class="line">    <span class="type">const</span> <span class="type">uint32_t</span> M2 = <span class="number">0x33333333</span>; <span class="comment">// 00110011001100110011001100110011</span></span><br><span class="line">    <span class="type">const</span> <span class="type">uint32_t</span> M4 = <span class="number">0x0f0f0f0f</span>; <span class="comment">// 00001111000011110000111100001111</span></span><br><span class="line">    <span class="type">const</span> <span class="type">uint32_t</span> M8 = <span class="number">0x00ff00ff</span>; <span class="comment">// 00000000111111110000000011111111</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">uint32_t</span> <span class="title">reverseBits</span><span class="params">(<span class="type">uint32_t</span> n)</span> </span>&#123;</span><br><span class="line">        n = n &gt;&gt; <span class="number">1</span> &amp; M1 | (n &amp; M1) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">        n = n &gt;&gt; <span class="number">2</span> &amp; M2 | (n &amp; M2) &lt;&lt; <span class="number">2</span>;</span><br><span class="line">        n = n &gt;&gt; <span class="number">4</span> &amp; M4 | (n &amp; M4) &lt;&lt; <span class="number">4</span>;</span><br><span class="line">        n = n &gt;&gt; <span class="number">8</span> &amp; M8 | (n &amp; M8) &lt;&lt; <span class="number">8</span>;</span><br><span class="line">        <span class="keyword">return</span> n &gt;&gt; <span class="number">16</span> | n &lt;&lt; <span class="number">16</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å…³äºåˆ†æ²»ç®—æ³•ï¼š<a href="https://zhuanlan.zhihu.com/p/510267724">åˆ†æ²»ç®—æ³•</a></p><h3 id="1-3-1-ä½1çš„ä¸ªæ•°ï¼š191"><a href="#1-3-1-ä½1çš„ä¸ªæ•°ï¼š191" class="headerlink" title="1-3-1.ä½1çš„ä¸ªæ•°ï¼š191"></a>1-3-1.ä½1çš„ä¸ªæ•°ï¼š191</h3><p>æ³•ä¸€ï¼šéå†æ¯ä¸ªäºŒè¿›åˆ¶ä½</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">hammingWeight</span><span class="params">(<span class="type">uint32_t</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (n &amp; (<span class="number">1</span> &lt;&lt; i)) &#123; <span class="comment">// 1å·¦ç§»iä½</span></span><br><span class="line">                num++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šä¼˜åŒ–</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">hammingWeight</span><span class="params">(<span class="type">uint32_t</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n) &#123;</span><br><span class="line">            n &amp;= n - <span class="number">1</span>;</span><br><span class="line">            num++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>n&amp;(n-1)</code>å¯ä»¥ç”¨æ¥åˆ¤æ–­æœ‰å‡ ä¸ª1ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å…¶å€¼æ˜¯å¦ä¸º0æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯2çš„å¹‚(è¯¦è§1-2-2)ã€‚ä¹Ÿæœ‰å†…ç½®å‡½æ•°<code>__builtin_popcount(n)</code>ï¼Œæ—¶é—´å¤æ‚åº¦$O(1)$ã€‚</p><h3 id="1-3-2-æ•°å­—çš„è¡¥æ•°ï¼š476-ä½ä½å–å"><a href="#1-3-2-æ•°å­—çš„è¡¥æ•°ï¼š476-ä½ä½å–å" class="headerlink" title="1-3-2.æ•°å­—çš„è¡¥æ•°ï¼š476(ä½ä½å–å)"></a>1-3-2.æ•°å­—çš„è¡¥æ•°ï¼š476(ä½ä½å–å)</h3><p>æ³•ä¸€:å¸¸è§„ä½è¿ç®—</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">findComplement</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;</span><br><span class="line">        uint t = (uint)<span class="number">1</span> &lt;&lt; <span class="number">31</span>;</span><br><span class="line">        <span class="keyword">while</span> ((t &amp; num) == <span class="number">0</span>) &#123;</span><br><span class="line">            num |= t;</span><br><span class="line">            t &gt;&gt;= <span class="number">1</span>; <span class="comment">// tå³ç§»ä¸€ä½</span></span><br><span class="line">            <span class="comment">//ç›¸å½“äºå¯¹numä»é«˜ä½åˆ°åœ°ä½é€ä¸ªéå†,æŠŠnumç¬¬ä¸€ä¸ª1å‰é¢çš„0éƒ½æ”¹ä¸º1</span></span><br><span class="line">            <span class="comment">// è¿™æ ·numå–åæ‰æ˜¯æ­£ç¡®çš„</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ~num; <span class="comment">// å–å</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>t:1000â€¦000-&gt;0100â€¦000-&gt;â€¦-&gt;0000â€¦0001(å¦‚æœä¸€ç›´å¾ªç¯)</p><p>num(5):000â€¦0101-&gt;100â€¦0101-&gt;â€¦-&gt;111â€¦1101-&gt;(å–å)000â€¦0010(32ä½äºŒè¿›åˆ¶æ•°)-&gt;2</p><p>æ³¨æ„ï¼Œ<code>==</code>çš„ä¼˜å…ˆçº§æ¯”<code>&amp;</code>é«˜ï¼Œæ‰€ä»¥<code>t&amp;num</code>å¿…é¡»å¸¦ä¸Šæ‹¬å·ã€‚</p><p><code>(uint)1&lt;&lt;31</code>ä¹Ÿå¯ä»¥å†™ä¸º<code>1u&lt;&lt;31</code>ã€‚uintç›¸å½“äºunsigned int.</p><hr><p>æˆ–è€…ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">findComplement</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;</span><br><span class="line">        uint mask = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (mask &lt; num) &#123;</span><br><span class="line">            mask &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">            mask |= <span class="number">1</span>;<span class="comment">//maskæ¯”è¾ƒç‰¹æ®Šï¼Œè¿™é‡Œmask++;ä¹Ÿå¯ä»¥</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> mask ^ num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç”±äºmaskåªå«æœ‰1ä¸ªâ€œ1â€,å› æ­¤mask&lt;numä¹Ÿå°±æ˜¯maskçš„â€œ1â€ç›¸æ¯”numä¸­çš„æœ€é«˜ä½1ï¼Œæ€»æ˜¯åœ¨åŒä½æˆ–è€…æ›´ä½ä½ï¼Œå³è¿˜åœ¨éå†numä¸­ã€‚000â€¦1000&lt;000â€¦1011</p><hr><p>æ³•äºŒï¼šä½è¿ç®—åˆ†æ²»</p><p>æ—¶é—´å¤æ‚åº¦ä¸º$O(log log num)$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">findComplement</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> t = num;</span><br><span class="line">        t |= t &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        t |= t &gt;&gt; <span class="number">2</span>;</span><br><span class="line">        t |= t &gt;&gt; <span class="number">4</span>;</span><br><span class="line">        t |= t &gt;&gt; <span class="number">8</span>;</span><br><span class="line">        t |= t &gt;&gt; <span class="number">16</span>;</span><br><span class="line">        <span class="keyword">return</span> ~num &amp; t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>æ³¨</strong>ï¼šåˆ†æ²»ç›®çš„æ˜¯æŠŠtå„ä½ä½ä¸ºé›¶æ•°å–åï¼Œæœ€ç»ˆå˜ä¸ºä¸numå¯¹åº”ä½ä½å…¨1çš„32ä½äºŒè¿›åˆ¶æ•°ã€‚</p><p>t:0000â€¦0101-&gt;0000â€¦0111(<mark>å¥‡ä½ä¸”ä½ä½çš„0å˜ä¸º1</mark>)-&gt;â€¦-&gt;0000â€¦0111</p><p>~num=1111â€¦1010,åˆ™<code>~num&amp;t=num^t</code>=0000â€¦0010</p><p>åœ¨ä½è¿ç®—ä¸­ï¼Œ<code>^</code> è¡¨ç¤º<u>æŒ‰ä½å¼‚æˆ–</u>è¿ç®—ï¼Œå®ƒçš„ç»“æœæ˜¯å¯¹åº”ä½ä¸åŒåˆ™ä¸º1ï¼Œç›¸åŒåˆ™ä¸º0ã€‚è€Œ <code>&amp;</code> è¡¨ç¤º<u>æŒ‰ä½ä¸</u>è¿ç®—ï¼Œå®ƒçš„ç»“æœæ˜¯å¯¹åº”ä½éƒ½ä¸º1æ—¶ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚</p><h3 id="1-3-3-æ±‰æ˜è·ç¦»ï¼š461"><a href="#1-3-3-æ±‰æ˜è·ç¦»ï¼š461" class="headerlink" title="1-3-3.æ±‰æ˜è·ç¦»ï¼š461"></a>1-3-3.æ±‰æ˜è·ç¦»ï¼š461</h3><p>æ±‰æ˜è·ç¦»æŒ‡ä¸¤ä¸ªæ•°å­—å¯¹åº”çš„<mark>äºŒè¿›åˆ¶ä½ä¸åŒ</mark>çš„ä½ç½®çš„æ•°ç›®ã€‚è¯¥é¢˜å…¶å®æ˜¯1-3-1å’Œ1-3-2çš„ç»“åˆ</p><p>æ³•ä¸€ï¼š(æœ€ä¼˜)å†…ç½®å‡½æ•°ï¼Œæ—¶é—´å¤æ‚åº¦O(1)ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">hammingDistance</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> __builtin_popcount(x ^ y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šBrian Kernighanç®—æ³•(åŸºç¡€ä½è¿ç®—ç»“åˆ)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">hammingDistance</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> t = x ^ y;<span class="comment">//æŒ‰ä½å¼‚æˆ–,ä¸åŒçš„åœ°æ–¹å…¨å˜ä¸º1</span></span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (t) &#123;</span><br><span class="line">            t &amp;= t - <span class="number">1</span>;<span class="comment">//ç”¨æ¥åˆ¤æ–­æœ‰å‡ ä¸ª1</span></span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æˆ–è€…:ç§»ä½å®ç°ä½è®¡æ•°</p><p>åªæ˜¯æ¢ä¸€ç§æ–¹å¼ç»Ÿè®¡1çš„ä¸ªæ•°</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">hammingDistance</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> t = x ^ y; <span class="comment">// æŒ‰ä½å¼‚æˆ–,ä¸åŒçš„åœ°æ–¹å…¨å˜ä¸º1</span></span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (t) &#123;</span><br><span class="line">            count += t &amp; <span class="number">1</span>;<span class="comment">//tæœ«ä½ä¸º1,åˆ™t&amp;1=1,countåŠ 1</span></span><br><span class="line">            t &gt;&gt;= <span class="number">1</span>;<span class="comment">//ç›¸å½“äºå»é™¤æœ«ä½,é¦–ä½è¡¥0</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•ä¸‰ï¼šä½è¿ç®—åˆ†æ²»</p><p><img src="https://s2.loli.net/2024/03/05/yXfnBWUePE2uRHz.png" alt=""></p><p>ä¸¤ä¸¤åˆ‡åˆ†ç»Ÿè®¡ï¼šæ©ç å¯¹æ•°å€¼è¿›è¡Œåˆ‡åˆ†ï¼Œè¿ç»­çš„0ç”¨äºè¿›ä½ï¼Œè¿ç»­çš„1æ˜¯è¿ç®—ä½ã€‚äº”æ¬¡è¿ç®—åˆ†åˆ«ç±»ä¼¼äºæ˜¯äºŒè¿›åˆ¶æ•°åŠ æ³•ï¼Œå››è¿›åˆ¶æ•°åŠ æ³•ï¼Œåå…­è¿›åˆ¶æ•°åŠ æ³•å’Œä¸‰åäºŒè¿›åˆ¶æ•°åŠ æ³•ã€‚å¦‚01111011-&gt;01 10 01 10(1212)-&gt;0011 0011(33)-&gt;00000110(6)ï¼Œä¸ªæ•°å³ä¸º6ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">const</span> <span class="type">uint32_t</span> M1 = <span class="number">0x55555555</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">uint32_t</span> M2 = <span class="number">0x33333333</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">uint32_t</span> M4 = <span class="number">0x0f0f0f0f</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">uint32_t</span> M8 = <span class="number">0x00ff00ff</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">uint32_t</span> M16 = <span class="number">0x0000ffff</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">hammingDistance</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = x ^ y;</span><br><span class="line">        n = ((n &gt;&gt; <span class="number">1</span>) &amp; M1) + (n &amp; M1);</span><br><span class="line">        n = ((n &gt;&gt; <span class="number">2</span>) &amp; M2) + (n &amp; M2);</span><br><span class="line">        n = ((n &gt;&gt; <span class="number">4</span>) &amp; M4) + (n &amp; M4);</span><br><span class="line">        n = ((n &gt;&gt; <span class="number">8</span>) &amp; M8) + (n &amp; M8);</span><br><span class="line">        n = ((n &gt;&gt; <span class="number">16</span>) &amp; M16) + (n &amp; M16);</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="å…³äºè¿ç®—ç¬¦ä¼˜å…ˆçº§"><a href="#å…³äºè¿ç®—ç¬¦ä¼˜å…ˆçº§" class="headerlink" title="å…³äºè¿ç®—ç¬¦ä¼˜å…ˆçº§"></a>å…³äºè¿ç®—ç¬¦ä¼˜å…ˆçº§</h3><p>æœ€å¥½æ˜¯æ‰‹åŠ¨åŠ å…¥æ‹¬å·æ§åˆ¶è¿ç®—é¡ºåºã€‚æ€»ä¼˜å…ˆçº§ï¼šç®—æœ¯è¿ç®—&gt;å…³ç³»è¿ç®—&gt;é€»è¾‘è¿ç®—ã€‚</p><p>ç®—æœ¯è¿ç®—ï¼ˆåŠ + å‡- ä¹˜* é™¤/ å–ä½™%ï¼‰ï¼Œå…³ç³»è¿ç®—ï¼ˆ&gt; &gt;= &lt; &lt;= != ==) ï¼Œé€»è¾‘è¿ç®— ï¼ˆä¸æˆ–éï¼‰</p><p><img title="" src="https://s2.loli.net/2024/03/05/56LdGaltPXoRqpU.png" alt="" width="430"></p><h3 id="å¸¸è§ä½è¿ç®—æŠ€å·§"><a href="#å¸¸è§ä½è¿ç®—æŠ€å·§" class="headerlink" title="å¸¸è§ä½è¿ç®—æŠ€å·§"></a>å¸¸è§ä½è¿ç®—æŠ€å·§</h3><ol><li><p><code>n &amp; M1</code>:å°†äºŒè¿›åˆ¶æ•°nä¸­çš„å¥‡æ•°ä½çš„1ä¿ç•™ï¼Œä¸¢å¼ƒå¶æ•°ä½ã€‚å¦‚n=00011001â€¦01110101-&gt;00010001â€¦01010001ã€‚<code>(n&gt;&gt;2)&amp;M2</code>åŒç†ã€‚</p></li><li><p><code>(n &gt;&gt; 1) &amp; M1 | (n &amp; M1) &lt;&lt; 1</code>ï¼šäº¤æ¢ç›¸é‚»ä¸¤ä¸ªæ•°çš„ä½ç½®ã€‚<code>(n &gt;&gt; 2) &amp; M2 | (n &amp; M2) &lt;&lt; 2</code>åˆ™æ˜¯ä¸¤ä¸ªä¸ºä¸€ç»„ï¼Œäº’ç›¸äº¤æ¢å„ç»„ã€‚å¦‚0011-&gt;1100</p></li><li><p><code>((n &gt;&gt; 1) &amp; M1) + (n &amp; M1)</code>ï¼šå°†nä¸­çš„ç›¸é‚»ä¸¤ä½ç›¸åŠ ï¼Œå¦‚10110101-&gt;1211(å³01110101).<code>((n &gt;&gt; 2) &amp; M2) + (n &amp; M2)</code>åŒç†ï¼Œå¦‚1211(å³01 11 01 01)-&gt;32(å³0011 0010)</p></li><li><p><code>t &amp; 1</code>ï¼šåˆ¤æ–­tæ˜¯å¦ä¸ºå¥‡æ•°,å¦‚æœä¸ºå¥‡æ•°åˆ™ç»“æœä¸º1ã€‚/è·å–tæœ«ä½æ•°å­—ã€‚<code>(t&gt;&gt;i) &amp; 1</code>åˆ™ç”¨æ¥è·å–ç¬¬iä½çš„å€¼ï¼ˆä»å³å¾€å·¦æ•°ç¬¬iä½ï¼‰ã€‚</p></li><li><p><code>t &amp; (t-1)</code>ï¼šæ¯åœ¨å¾ªç¯å†…æ‰§è¡Œä¸€æ¬¡å¹¶è®¡æ•°+1ï¼Œåˆ™å¾ªç¯å®Œæˆå°±å¯ä»¥ç»Ÿè®¡å‡ºäºŒè¿›åˆ¶æ•°ä¸­1çš„ä¸ªæ•°ã€‚</p></li></ol><hr><h3 id="1-3-4-æ±‰æ˜è·ç¦»æ€»å’Œ-477"><a href="#1-3-4-æ±‰æ˜è·ç¦»æ€»å’Œ-477" class="headerlink" title="1-3-4.æ±‰æ˜è·ç¦»æ€»å’Œ:477"></a>1-3-4.æ±‰æ˜è·ç¦»æ€»å’Œ:477</h3><p>æœ€ä¼˜è§£ï¼šé€ä½ç»Ÿè®¡</p><p>å…ˆçœ‹æ‰€æœ‰æ•°å­—çš„ç¬¬ä¸€ä½ï¼Œç„¶åå†ç¬¬äºŒä½â€¦è€Œéå…ˆè®¡ç®—å‡ºä¸¤ä¸¤ä¹‹é—´çš„æ±‰æ˜è·ç¦»ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">totalHammingDistance</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>, size = nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">            <span class="type">int</span> n = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">                n += (num &gt;&gt; i) &amp; <span class="number">1</span>; <span class="comment">// nåŠ ä¸Šnumç¬¬iä½çš„å€¼(ä»å³å¾€å·¦ç¬¬iä½)</span></span><br><span class="line">                <span class="comment">//ç¬¬iä½çš„å€¼åªå¯èƒ½æ˜¯0/1ï¼Œå› æ­¤nè®°å½•ä¸‹å‡ºç°è¿‡1çš„æ¬¡æ•°</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//ç¬¬iä½ä¸€å…±nä¸ª1ï¼Œsize-nä¸ª0</span></span><br><span class="line">            ans += n * (size - n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="1-3-5-äº¤æ›¿ä½äºŒè¿›åˆ¶æ•°ï¼š693"><a href="#1-3-5-äº¤æ›¿ä½äºŒè¿›åˆ¶æ•°ï¼š693" class="headerlink" title="1-3-5.äº¤æ›¿ä½äºŒè¿›åˆ¶æ•°ï¼š693"></a>1-3-5.äº¤æ›¿ä½äºŒè¿›åˆ¶æ•°ï¼š693</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">hasAlternatingBits</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        uint a = n ^ (n &gt;&gt; <span class="number">1</span>);<span class="comment">//longä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯intä¸è¡Œ</span></span><br><span class="line">        <span class="keyword">return</span> (a &amp; (a + <span class="number">1</span>)) == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>a=n^(n&gt;&gt;1)</code>:aé™¤å»å‰å¯¼çš„0ä¹‹å¤–ï¼Œå…¶å®ƒæ•°ä½å…¨éƒ¨éƒ½æ˜¯1ã€‚å› ä¸ºå¦‚æœaæ˜¯ä½ä½äºŒè¿›åˆ¶ä½äº¤æ›¿å‡ºç°çš„è¯ï¼Œé‚£å³ç§»ä¸€ä½å°±æ˜¯åŸæ¥æ˜¯0çš„ç§»åˆ°äº†åŸæ¥æ˜¯1çš„ä½ç½®ä¸Šï¼›å†å¼‚æˆ–ï¼Œå°±å…¨éƒ¨éƒ½æ˜¯1äº†ã€‚</p><p><code>a&amp;(a+1)</code>:äºŒè¿›åˆ¶ä½å…¨éƒ¨éƒ½æ˜¯1çš„aåŠ ä¸Š1,å¾—åˆ°çš„äºŒè¿›åˆ¶æ•°a+1å¤šäº†æœ€å‰é¢ä¸€ä¸ªæ•°ä½1å…¶å®ƒéƒ½æ˜¯0,å†ä¸å…¨éƒ¨æ˜¯0çš„aè¿›è¡Œ&amp;ä½ä¸è¿ç®—è‚¯å®šæ˜¯0ã€‚</p><h2 id="1-4-æ•°å­¦æ€ç»´ï¼ˆ-ï¼‰"><a href="#1-4-æ•°å­¦æ€ç»´ï¼ˆ-ï¼‰" class="headerlink" title="1-4.æ•°å­¦æ€ç»´ï¼ˆ*ï¼‰"></a>1-4.æ•°å­¦æ€ç»´ï¼ˆ*ï¼‰</h2><h3 id="1-4-1-å¯æ€œçš„å°çŒªï¼š458"><a href="#1-4-1-å¯æ€œçš„å°çŒªï¼š458" class="headerlink" title="1-4-1.å¯æ€œçš„å°çŒªï¼š458"></a>1-4-1.å¯æ€œçš„å°çŒªï¼š458</h3><p>æ•°å­¦åˆ†æ+baseè¿›åˆ¶ï¼š</p><p><a href="https://leetcode.cn/problems/poor-pigs/solutions/1/hua-jie-suan-fa-458-ke-lian-de-xiao-zhu-by-guanpen/">ç”»è§£ç®—æ³•:458.å¯æ€œçš„å°çŒª</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">poorPigs</span><span class="params">(<span class="type">int</span> buckets, <span class="type">int</span> minutesToDie, <span class="type">int</span> minutesToTest)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> base = minutesToTest / minutesToDie + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">ceil</span>(<span class="built_in">log</span>(buckets) / <span class="built_in">log</span>(base) - <span class="number">1e-5</span>);<span class="comment">//æ˜¯1e-5å³10^(-5)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>ceil()</code>:å‘ä¸Šå–æ•´å‡½æ•°ã€‚</p><p>å‡å»1e-5:ç›®çš„æ˜¯è®©<code>log(buckets) / log(base)</code>å‡å»ä¸€ä¸ªå³å°çš„å€¼ä»¥é¿å…<mark>èˆå…¥è¯¯å·®</mark>ï¼Œä¹Ÿå¯ä»¥æ˜¯1e-7ç­‰ç­‰ã€‚å› ä¸ºå½“buckets=125,minutesToDie=1,minutesToTest=4æ—¶ï¼Œç»“æœåº”è¯¥æ˜¯3ï¼Œè€Œä¸è€ƒè™‘èˆå…¥è¯¯å·®ï¼Œåˆ™ç­”æ¡ˆä¼šæ˜¯4ã€‚åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ<code>log(buckets) / log(base)</code>çš„ç»“æœé€šå¸¸æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œä½†ç”±äºæµ®ç‚¹æ•°è®¡ç®—çš„ç²¾åº¦é™åˆ¶ï¼Œå¯èƒ½ä¼šå‡ºç°å¾®å°çš„èˆå…¥è¯¯å·®ã€‚é€šè¿‡å‡å» 1e-5ï¼Œå¯ä»¥ç¡®ä¿ç»“æœå‘ä¸‹å–æ•´ï¼Œé¿å…ç”±äºèˆå…¥è¯¯å·®è€Œå¯¼è‡´çš„è®¡ç®—ç»“æœé”™è¯¯ã€‚è¿™æ ·åšå¯ä»¥æ›´æ¥è¿‘æ­£ç¡®çš„æ•´æ•°ç»“æœã€‚</p><h3 id="1-4-2-å„ä½ç›¸åŠ ï¼š258"><a href="#1-4-2-å„ä½ç›¸åŠ ï¼š258" class="headerlink" title="1-4-2.å„ä½ç›¸åŠ ï¼š258"></a>1-4-2.å„ä½ç›¸åŠ ï¼š258</h3><p>è¯¦ç»†æ€è·¯ï¼š<a href="https://leetcode.cn/problems/add-digits/solutions/1/xiang-xi-tong-su-de-si-lu-fen-xi-duo-jie-fa-by-5-7/">åŠ›æ‰£ï¼ˆLeetCode)</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">addDigits</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> (num - <span class="number">1</span>) % <span class="number">9</span> + <span class="number">1</span>; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="1-4-3-ç¯æ³¡å¼€å…³ï¼š319"><a href="#1-4-3-ç¯æ³¡å¼€å…³ï¼š319" class="headerlink" title="1-4-3.ç¯æ³¡å¼€å…³ï¼š319"></a>1-4-3.ç¯æ³¡å¼€å…³ï¼š319</h3><p>è¯¦ç»†æ€è·¯ï¼š<a href="https://leetcode.cn/problems/bulb-switcher/solutions/1102293/gong-shui-san-xie-jing-dian-shu-lun-tui-upnnb/">ã€å®«æ°´ä¸‰å¶ã€‘ç»å…¸æ•°è®ºæ¨è®ºé¢˜</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">bulbSwitch</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sqrt</span>(n + <span class="number">0.5</span>); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç­”æ¡ˆä¸º$\lfloor \sqrt{n} \rfloor$ï¼Œå…¶ä¸­ $\lfloor \cdot \rfloor$ è¡¨ç¤ºå‘ä¸‹å–æ•´ã€‚</p><p>åŠ ä¸Š0.5ï¼šç”±äº $\sqrt{n}$æ¶‰åŠåˆ°æµ®ç‚¹æ•°è¿ç®—ï¼Œä¸ºäº†ä¿è¯ä¸å‡ºç°ç²¾åº¦é—®é¢˜ï¼ˆé¿å…<mark>èˆå…¥è¯¯å·®</mark>ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®— $\sqrt{n + \dfrac{1}{2}}$â€‹ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è®¡ç®—å‡ºæ¥çš„ç»“æœå‘ä¸‹å–æ•´åœ¨32ä½æ•´æ•°èŒƒå›´å†…ä¸€å®šæ­£ç¡®ã€‚å…¶å®åŠ ä¸Šä¸€ä¸ªè¾ƒå°çš„æ•°ä¹Ÿå¯ä»¥ï¼Œæ¯”å¦‚1e-5ã€‚</p><p>   ç»¼ä¸Šï¼Œå¯¹äº<u>returnæµ®ç‚¹æ•°ç±»å‹</u>ä¸”<u>å‡½æ•°è¿”å›å€¼ç±»å‹ä¸ºint</u>çš„ï¼Œå¾€å¾€éœ€è¦å‘ä¸Šæˆ–è€…å‘ä¸‹å–æ•´ã€‚ä¸ºé¿å…èˆå…¥è¯¯å·®ï¼Œéœ€è¦å¼•å…¥è¾ƒå°çš„æ•°ï¼Œæ¯”å¦‚1e-5($10^{-5}$)ï¼Œæ˜¯åŠ æ˜¯å‡æ ¹æ®é¢˜ç›®åˆ¤æ–­ã€‚</p><h2 id="1-5-è¿›åˆ¶è½¬æ¢"><a href="#1-5-è¿›åˆ¶è½¬æ¢" class="headerlink" title="1-5.è¿›åˆ¶è½¬æ¢"></a>1-5.è¿›åˆ¶è½¬æ¢</h2><h3 id="1-5-1-æ•°å­—è½¬æ¢ä¸º16è¿›åˆ¶æ•°ï¼š405"><a href="#1-5-1-æ•°å­—è½¬æ¢ä¸º16è¿›åˆ¶æ•°ï¼š405" class="headerlink" title="1-5-1.æ•°å­—è½¬æ¢ä¸º16è¿›åˆ¶æ•°ï¼š405"></a>1-5-1.æ•°å­—è½¬æ¢ä¸º16è¿›åˆ¶æ•°ï¼š405</h3><p>ä½è¿ç®—ï¼Œå…³é”®åœ¨äº<code>int val = (num &gt;&gt; (4 * i)) &amp; 0xf</code>å°†äºŒè¿›åˆ¶æ•°åˆ†ç»„ä»¥åå†ä¸€ä¸€è¿ç®—ã€‚å¦‚æœè¿™é‡Œæ˜¯è½¬ä¸º8è¿›åˆ¶æ•°ï¼Œåˆ™æ¯ä¸‰ä¸ªæ•°ä¸ºä¸€ç»„ï¼ŒåŒç†ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">toHex</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        string ans = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="comment">// 32ä½çš„äºŒè¿›åˆ¶æ•°ä¸€å…±8ç»„ï¼Œæ¯ç»„4ä¸ªæ•°num&gt;&gt;(4*i)å¯ä»¥å°†ç¬¬iç»„çš„å››ä¸ªæ•°ç§»åˆ°æœ«å°¾</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">7</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="type">int</span> val = (num &gt;&gt; (<span class="number">4</span> * i)) &amp; <span class="number">0xf</span>;<span class="comment">//ä¸€ä¸ªvalå¯¹åº”åå…­è¿›åˆ¶çš„ä¸€ä¸ªæ•°å­—0-9/å­—æ¯a-f</span></span><br><span class="line">            <span class="keyword">if</span> (ans.<span class="built_in">length</span>() &gt; <span class="number">0</span> || val &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">char</span> digit = val &lt; <span class="number">10</span> ? (<span class="type">char</span>)(val + <span class="string">&#x27;0&#x27;</span>) : (<span class="type">char</span>)(<span class="string">&#x27;a&#x27;</span> + val - <span class="number">10</span>);</span><br><span class="line">                ans.<span class="built_in">push_back</span>(digit);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li><p><code>ans.length()&gt;0</code>ç”¨äºé¿å…å‡ºç°å‰ç½®0.</p></li><li><p>æ±‚è´Ÿæ•´æ•°çš„è¡¥ç :å°†å…¶åŸç <u>é™¤ç¬¦å·ä½å¤–</u>çš„æ‰€æœ‰ä½å–åï¼ˆ0å˜1ï¼Œ1å˜0ï¼Œç¬¦å·ä½ä¸º1ä¸å˜ï¼‰ååŠ 1ã€‚</p></li><li><p>è¯¥é¢˜è¿˜è¦æ³¨æ„ä¸€ç‚¹ï¼Œ<code>val+&#39;0&#39;</code>åªé€‚ç”¨äºval&lt;10æ—¶çš„æƒ…å†µï¼Œå› ä¸º<code>&#39;a&#39;!=&#39;9&#39;+1</code>ï¼Œå®ƒä»¬å¯¹åº”çš„ASCIIç å¹¶ä¸æ˜¯è¿ç»­çš„ã€‚</p></li></ul><h3 id="1-5-2-Excelè¡¨åˆ—åç§°ï¼š168"><a href="#1-5-2-Excelè¡¨åˆ—åç§°ï¼š168" class="headerlink" title="1-5-2.Excelè¡¨åˆ—åç§°ï¼š168"></a>1-5-2.Excelè¡¨åˆ—åç§°ï¼š168</h3><p>æœ¬è´¨ä¸º10è¿›åˆ¶è½¬26è¿›åˆ¶ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">convertToTitle</span><span class="params">(<span class="type">int</span> columnNumber)</span> </span>&#123;</span><br><span class="line">        string ans = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">while</span> (columnNumber &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            --columnNumber;</span><br><span class="line">            <span class="type">char</span> c = columnNumber % <span class="number">26</span> + <span class="string">&#x27;A&#x27;</span>;<span class="comment">//ä»æœ«ä½ä»åå¾€å‰æ·»åŠ å­—ç¬¦</span></span><br><span class="line">            ans.<span class="built_in">push_back</span>(c);</span><br><span class="line">            columnNumber /= <span class="number">26</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">reverse</span>(ans.<span class="built_in">begin</span>(), ans.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="1-6-æ•°å­—å˜æ¢-ç»Ÿè®¡-æ•°å­¦åˆ†æ"><a href="#1-6-æ•°å­—å˜æ¢-ç»Ÿè®¡-æ•°å­¦åˆ†æ" class="headerlink" title="1-6.æ•°å­—å˜æ¢/ç»Ÿè®¡ + æ•°å­¦åˆ†æ"></a>1-6.æ•°å­—å˜æ¢/ç»Ÿè®¡ + æ•°å­¦åˆ†æ</h2><h3 id="1-6-1-æœ€å¤§å˜æ¢ï¼š670"><a href="#1-6-1-æœ€å¤§å˜æ¢ï¼š670" class="headerlink" title="1-6-1.æœ€å¤§å˜æ¢ï¼š670"></a>1-6-1.æœ€å¤§å˜æ¢ï¼š670</h3><p><u>æœ€æ¥è¿‘å³è¾¹ä¸”æœ€å¤§</u>çš„æ•°æ˜¯s[maxIndex]ä¸<u>æœ€æ¥è¿‘å·¦è¾¹ä¸”éæœ€å¤§</u>çš„æ•°s[index]è¿›è¡Œäº¤æ¢ã€‚ä½†æ˜¯å¦‚æœè¿™æ ·å¾—å‡ºçš„maxIndex&lt;indexï¼Œé‚£ä¹ˆç»“æœä¼šå‡ºç°é—®é¢˜ã€‚å› æ­¤éœ€è¦é¢å¤–å¼•å…¥index2æ¥è®°å½•æ¯ä¸€æ¬¡å¾ªç¯å®Œæˆåçš„maxIndexï¼Œindex2=maxIndex.</p><p>è´ªå¿ƒï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maximumSwap</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;</span><br><span class="line">        string s = <span class="built_in">to_string</span>(num);</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">size</span>(), maxIndex = n - <span class="number">1</span>, index1 = <span class="number">-1</span>, index2 = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[maxIndex] &lt; s[i]) &#123;</span><br><span class="line">                maxIndex = i;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] &lt; s[maxIndex]) &#123;</span><br><span class="line">                index1 = i;</span><br><span class="line">                index2 = maxIndex;<span class="comment">//æ¯”å¦‚98368,maxIndex=0,éœ€è¦é¢å¤–çš„index2è®°å½•</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (index1 &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">swap</span>(s[index1], s[index2]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">stoi</span>(s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="1-6-2-æ•°å­—1çš„ä¸ªæ•°ï¼š233ï¼ˆå›°éš¾ï¼‰"><a href="#1-6-2-æ•°å­—1çš„ä¸ªæ•°ï¼š233ï¼ˆå›°éš¾ï¼‰" class="headerlink" title="1-6-2.æ•°å­—1çš„ä¸ªæ•°ï¼š233ï¼ˆå›°éš¾ï¼‰"></a>1-6-2.æ•°å­—1çš„ä¸ªæ•°ï¼š233ï¼ˆå›°éš¾ï¼‰</h3><p>è§£é¢˜æ€è·¯ï¼š<a href="https://leetcode.cn/problems/number-of-digit-one/solutions/1/233-shu-zi-1-de-ge-shu-qing-xi-tu-jie-by-pgb1/">æ•°å­— 1 çš„ä¸ªæ•°ï¼ˆæ¸…æ™°å›¾è§£ï¼‰</a></p><script type="math/tex; mode=display">res+=\left \{\begin{array}{}&high \times digit\ ,\ &cur = 0\ ;\\&high \times digit + low + 1 \ ,\ &cur = 1\ ;\\&(high + 1) \times digit\ ,\ &cur\gt1\ ;\\\end{array}\right.</script><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countDigitOne</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">long</span> digit = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> high = n / <span class="number">10</span>, cur = n % <span class="number">10</span>, low = <span class="number">0</span>, res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (high != <span class="number">0</span> || cur != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cur == <span class="number">0</span>) &#123;</span><br><span class="line">                res += high * digit;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cur == <span class="number">1</span>) &#123;</span><br><span class="line">                res += high * digit + low + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                res += (high + <span class="number">1</span>) * digit;</span><br><span class="line">            &#125;</span><br><span class="line">            low += cur * digit;</span><br><span class="line">            cur = high % <span class="number">10</span>;</span><br><span class="line">            high /= <span class="number">10</span>;</span><br><span class="line">            digit *= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="1-6-3-ç»Ÿè®¡å„ä½æ•°å­—éƒ½ä¸åŒçš„æ•°å­—ä¸ªæ•°ï¼š357"><a href="#1-6-3-ç»Ÿè®¡å„ä½æ•°å­—éƒ½ä¸åŒçš„æ•°å­—ä¸ªæ•°ï¼š357" class="headerlink" title="1-6-3.ç»Ÿè®¡å„ä½æ•°å­—éƒ½ä¸åŒçš„æ•°å­—ä¸ªæ•°ï¼š357"></a>1-6-3.ç»Ÿè®¡å„ä½æ•°å­—éƒ½ä¸åŒçš„æ•°å­—ä¸ªæ•°ï¼š357</h3><p>ä½¿ç”¨æ•°å­—çš„æ’åˆ—ç»„åˆ$A^{n}_{k}â€‹=\frac{n!}{(nâˆ’k)!}$</p><blockquote><p>å«æœ‰ $dï¼ˆ2 \le d \le 10ï¼‰$ä½æ•°çš„å„ä½æ•°å­—éƒ½ä¸åŒçš„æ•°å­—$x$çš„ä¸ªæ•°å¯ä»¥ç”±å…¬å¼$9 \times A<em>9^{d-1}$è®¡ç®—ï¼Œç¬¬ä¸€ä½åªèƒ½ä»1-9ä¸­é€‰æ‹©ï¼Œåé¢çš„d-1ä½ä»å‰©ä¸‹çš„9ä¸ªæ•°ä¹‹ä¸­é€‰ï¼Œå³$A_9^{d-1}$ä¸ªã€‚æ€»ä¸ªæ•°å…¶å®å°±æ˜¯$res = 10 + 9 \times (A^{1}</em>{9}+A^{2}<em>{9}+â€¦+A^{n-1}</em>{9})$</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countNumbersWithUniqueDigits</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">10</span>, CurrentNum = <span class="number">9</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            CurrentNum *= <span class="number">9</span> - i;</span><br><span class="line">            res += CurrentNum;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="2-å¿«é€Ÿå¹‚"><a href="#2-å¿«é€Ÿå¹‚" class="headerlink" title="2.å¿«é€Ÿå¹‚"></a>2.å¿«é€Ÿå¹‚</h1><h2 id="2-1-å®ç°pow-x-n-ï¼š50"><a href="#2-1-å®ç°pow-x-n-ï¼š50" class="headerlink" title="2-1.å®ç°pow(x,n)ï¼š50"></a>2-1.å®ç°pow(x,n)ï¼š50</h2><p>è§£é¢˜æ€è·¯ï¼š<a href="https://leetcode.cn/problems/powx-n/solutions/1/50-powx-n-kuai-su-mi-qing-xi-tu-jie-by-jyd/">å¿«é€Ÿå¹‚ï¼Œæ¸…æ™°å›¾è§£</a></p><p>å…³äºå¿«é€Ÿå¹‚ï¼š<a href="https://zhuanlan.zhihu.com/p/95902286">å¿«é€Ÿå¹‚-Pecco</a></p><p>å¿«é€Ÿå¹‚æœ¬è´¨æ˜¯åˆ†æ²»ç®—æ³•ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼š</p><p>æ³•ä¸€ï¼šé€’å½’ï¼ˆéœ€è¦é¢å¤–æ ˆç©ºé—´ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">quilkMul</span><span class="params">(<span class="type">double</span> x, <span class="type">long</span> <span class="type">long</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (N == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">double</span> y = <span class="built_in">quilkMul</span>(x, N / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> N % <span class="number">2</span> == <span class="number">0</span> ? y * y : y * y * x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">myPow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> N = n;</span><br><span class="line">        <span class="keyword">return</span> N &gt;= <span class="number">0</span> ? <span class="built_in">quilkMul</span>(x, N) : <span class="number">1.0</span> / <span class="built_in">quilkMul</span>(x, -N);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šè¿­ä»£ï¼ˆæ¶‰åŠä½è¿ç®—åˆ†æï¼‰</p><p>åˆ¤æ–­<code>N%2==1</code>ä¹Ÿå¯ä»¥å†™ä¸º<code>N&amp;1==1</code>,<code>N/=2</code>å¯ä»¥å†™ä¸º<code>N&gt;&gt;=1</code>,æ›´èƒ½ä½“ç°ä½è¿ç®—æ€æƒ³ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">quilkMul</span><span class="params">(<span class="type">double</span> x, <span class="type">long</span> <span class="type">long</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="type">double</span> ans = <span class="number">1.0</span>;</span><br><span class="line">        <span class="comment">// è´¡çŒ®çš„åˆå§‹å€¼ä¸º x</span></span><br><span class="line">        <span class="type">double</span> x_contribute = x;</span><br><span class="line">        <span class="comment">// åœ¨å¯¹ N è¿›è¡ŒäºŒè¿›åˆ¶æ‹†åˆ†çš„åŒæ—¶è®¡ç®—ç­”æ¡ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (N &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (N % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœ N äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ä½ä¸º 1ï¼Œé‚£ä¹ˆéœ€è¦è®¡å…¥è´¡çŒ®</span></span><br><span class="line">                ans *= x_contribute;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å°†è´¡çŒ®ä¸æ–­åœ°å¹³æ–¹</span></span><br><span class="line">            x_contribute *= x_contribute;</span><br><span class="line">            <span class="comment">// èˆå¼ƒ N äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ä½ï¼Œè¿™æ ·æˆ‘ä»¬æ¯æ¬¡åªè¦åˆ¤æ–­æœ€ä½ä½å³å¯</span></span><br><span class="line">            N /= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">myPow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> N = n;</span><br><span class="line">        <span class="keyword">return</span> N &gt;= <span class="number">0</span> ? <span class="built_in">quilkMul</span>(x, N) : <span class="number">1.0</span> / <span class="built_in">quilkMul</span>(x, -N);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šè¿™é‡Œä½¿ç”¨äº†<code>long long N = n;</code>ï¼Œå› ä¸ºåœ¨n=INT_MINæ—¶ï¼Œ-n=-INT_MIN=INT_MIN(INT_MIN=$-2^{31}$,INT_MAX=$2^{31}-1$)ï¼Œä½¿ç”¨long longå­˜å‚¨èƒ½é¿å…è¿™ä¸€éº»çƒ¦ã€‚</p></blockquote><h3 id="2-2-è¶…çº§æ¬¡æ–¹ï¼š372"><a href="#2-2-è¶…çº§æ¬¡æ–¹ï¼š372" class="headerlink" title="2-2.è¶…çº§æ¬¡æ–¹ï¼š372"></a>2-2.è¶…çº§æ¬¡æ–¹ï¼š372</h3><p>æ³•ä¸€ï¼šå€’åºéå†+å¿«é€Ÿå¹‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">pow</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ•°å­—å¤ªå¤§ï¼Œä¸ä½¿ç”¨longå®¹æ˜“è¶…å‡ºèŒƒå›´</span></span><br><span class="line">        <span class="type">long</span> ans = <span class="number">1</span>;</span><br><span class="line">        <span class="type">long</span> N = n;</span><br><span class="line">        <span class="type">long</span> x_contribute = x;</span><br><span class="line">        <span class="keyword">while</span> (N &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (N &amp; <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// åŒ…æ‹¬ä¹‹åçš„å¤šæ¬¡å¯¹1337å–æ¨¡éƒ½æ˜¯ä¸ºäº†é¿å…æº¢å‡º</span></span><br><span class="line">                ans = ans * x_contribute % <span class="number">1337</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            x_contribute = x_contribute * x_contribute % <span class="number">1337</span>;</span><br><span class="line">            N &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">superPow</span><span class="params">(<span class="type">int</span> a, vector&lt;<span class="type">int</span>&gt;&amp; b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (a == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = b.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            res = res * <span class="built_in">pow</span>(a, b[i]) % <span class="number">1337</span>;</span><br><span class="line">            a = <span class="built_in">pow</span>(a, <span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå½¢å¦‚<code>x_contribute = x_contribute * x_contribute % 1337;</code>ä¸èƒ½å†™æˆ<code>x_contribute *= x_contribute % 1337;</code>å› ä¸ºä¸€ä¸ªæœ€ç»ˆæ˜¯å¹³æ–¹å¯¹1337å–çš„æ¨¡ï¼Œå¦ä¸€ä¸ªæ˜¯è‡ªèº«å¯¹1337å–æ¨¡ä»¥åçš„å€¼å†ä¹˜ä»¥è‡ªèº«ï¼Œè¿™æ ·ä¼šå¯¼è‡´æº¢å‡ºï¼ˆæ³¨æ„è¿ç®—é¡ºåºï¼‰ã€‚</p><p>æ³•äºŒï¼šæ­£åºéå†+ç§¦ä¹éŸ¶ç®—æ³•</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">pow</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> n)</span> </span>&#123; <span class="comment">// æ•°å­—å¤ªå¤§ï¼Œä¸ä½¿ç”¨longå®¹æ˜“è¶…å‡ºèŒƒå›´</span></span><br><span class="line">        <span class="type">long</span> ans = <span class="number">1</span>;</span><br><span class="line">        <span class="type">long</span> N = n;</span><br><span class="line">        <span class="type">long</span> x_contribute = x;</span><br><span class="line">        <span class="keyword">while</span> (N &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (N &amp; <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// åŒ…æ‹¬ä¹‹åçš„å¤šæ¬¡å¯¹1337å–æ¨¡éƒ½æ˜¯ä¸ºäº†é¿å…æº¢å‡º</span></span><br><span class="line">                ans = ans * x_contribute % <span class="number">1337</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            x_contribute = x_contribute * x_contribute % <span class="number">1337</span>;</span><br><span class="line">            N &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">superPow</span><span class="params">(<span class="type">int</span> a, vector&lt;<span class="type">int</span>&gt;&amp; b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (a == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : b) &#123; <span class="comment">// åŒºåˆ«ä»…åœ¨äºforå¾ªç¯</span></span><br><span class="line">            res = <span class="built_in">pow</span>(res, <span class="number">10</span>) * <span class="built_in">pow</span>(a, num) % <span class="number">1337</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="2-3-ä¸¤æ•°ç›¸é™¤ï¼š29"><a href="#2-3-ä¸¤æ•°ç›¸é™¤ï¼š29" class="headerlink" title="2-3.ä¸¤æ•°ç›¸é™¤ï¼š29"></a>2-3.ä¸¤æ•°ç›¸é™¤ï¼š29</h3><blockquote><p>ç±»ä¼¼å¿«é€Ÿå¹‚é€šè¿‡ä¹˜æ³•å®ç°å¹‚ï¼Œè¿™é‡Œä½¿ç”¨â€œå¿«é€Ÿä¹˜â€ç®—æ³•é€šè¿‡åŠ æ³•å®ç°ä¹˜æ³•ã€‚</p></blockquote><p>å¿«é€Ÿä¹˜+ç±»äºŒåˆ†æŸ¥æ‰¾</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">divide</span><span class="params">(<span class="type">int</span> dividend, <span class="type">int</span> divisor)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä¸‰ç§ç‰¹æ®Šæƒ…å†µ</span></span><br><span class="line">        <span class="comment">//  è€ƒè™‘è¢«é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (dividend == INT_MIN) &#123;</span><br><span class="line">            <span class="keyword">if</span> (divisor == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> INT_MIN;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (divisor == <span class="number">-1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> INT_MAX;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è€ƒè™‘é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (divisor == INT_MIN) &#123;</span><br><span class="line">            <span class="keyword">return</span> dividend == INT_MIN ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸º 0 çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (dividend == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨ç±»äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">        <span class="comment">//  å°†æ‰€æœ‰çš„æ­£æ•°å–ç›¸åæ•°ï¼Œè¿™æ ·å°±åªéœ€è¦è€ƒè™‘ä¸€ç§æƒ…å†µ</span></span><br><span class="line">        <span class="type">bool</span> rev = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (dividend &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            dividend = -dividend;</span><br><span class="line">            rev = !rev;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (divisor &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            divisor = -divisor;</span><br><span class="line">            rev = !rev;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; candidates = &#123;divisor&#125;;</span><br><span class="line">        <span class="comment">// æ³¨æ„æº¢å‡º</span></span><br><span class="line">        <span class="keyword">while</span> (candidates.<span class="built_in">back</span>() &gt;= dividend - candidates.<span class="built_in">back</span>()) &#123;</span><br><span class="line">            candidates.<span class="built_in">push_back</span>(candidates.<span class="built_in">back</span>() + candidates.<span class="built_in">back</span>());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = candidates.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (candidates[i] &gt;= dividend) &#123;</span><br><span class="line">                ans += (<span class="number">1</span> &lt;&lt; i);</span><br><span class="line">                dividend -= candidates[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> rev ? -ans : ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/03/10/vhsgej4YJL8tq9O.png" alt=""></p><p><img src="https://s2.loli.net/2024/03/10/jgRMEvPXiGp4klB.png" alt=""></p><blockquote><p>å°†æ‰€æœ‰æ­£æ•°å–ç›¸åæ•°ï¼šç¡®ä¿éƒ½æ˜¯è´Ÿæ•°ï¼Œä»è€Œé¿å…æº¢å‡ºï¼Œå› ä¸ºéƒ½è½¬ä¸ºæ­£æ•°ä¼šå¯¼è‡´INT_MINè¿™ä¸ªè¾¹ç•Œéš¾ä»¥å¤„ç†ã€‚</p></blockquote><p>å¿«é€Ÿä¹˜ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// å¿«é€Ÿä¹˜</span></span><br><span class="line">    <span class="keyword">auto</span> quickAdd = [](<span class="type">int</span> y, <span class="type">int</span> z, <span class="type">int</span> x) &#123;</span><br><span class="line">        <span class="comment">// x å’Œ y æ˜¯è´Ÿæ•°ï¼Œz æ˜¯æ­£æ•°</span></span><br><span class="line">        <span class="comment">// éœ€è¦åˆ¤æ–­ z * y &gt;= x æ˜¯å¦æˆç«‹</span></span><br><span class="line">        <span class="type">int</span> result = <span class="number">0</span>, add = y;</span><br><span class="line">        <span class="keyword">while</span> (z) &#123;</span><br><span class="line">            <span class="keyword">if</span> (z &amp; <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// éœ€è¦ä¿è¯ result + add &gt;= x</span></span><br><span class="line">                <span class="keyword">if</span> (result &lt; x - add) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                result += add;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (z != <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// éœ€è¦ä¿è¯ add + add &gt;= x</span></span><br><span class="line">                <span class="keyword">if</span> (add &lt; x - add) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                add += add;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ä¸èƒ½ä½¿ç”¨é™¤æ³•</span></span><br><span class="line">            z &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>yå¯¹åº”é™¤æ•°divisorï¼Œzå¯¹åº”ä¸­ç‚¹midï¼Œxå¯¹åº”è¢«é™¤æ•°dividend.</p>]]></content>
      
      
      <categories>
          
          <category> leetcodeåˆ·é¢˜ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> leetcode </tag>
            
            <tag> ä½è¿ç®— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.2å­—ç¬¦ä¸²ç¯‡(3)</title>
      <link href="/posts/1f30e95.html"/>
      <url>/posts/1f30e95.html</url>
      
        <content type="html"><![CDATA[<h1 id="7-å­—ç¬¦ä¸²å­åºåˆ—é—®é¢˜"><a href="#7-å­—ç¬¦ä¸²å­åºåˆ—é—®é¢˜" class="headerlink" title="7.å­—ç¬¦ä¸²å­åºåˆ—é—®é¢˜"></a>7.å­—ç¬¦ä¸²å­åºåˆ—é—®é¢˜</h1><p>å¯ä»¥ç”¨åŒæŒ‡é’ˆ/åŠ¨æ€è§„åˆ’å®Œæˆã€‚</p><p>å¦‚392ã€524é¢˜</p><p>æ³¨ï¼šcompareæ–¹æ³•æ¨¡æ¿<code>str1.compare(str2);</code>ç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å“ªä¸ªçš„<mark>å­—ç¬¦åº</mark>æ›´å°ï¼ˆè€Œéé•¿åº¦ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">std::string str1 = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">std::string str2 = <span class="string">&quot;def&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> result = str1.<span class="built_in">compare</span>(str2);<span class="comment">//è¿”å›è´Ÿæ•°</span></span><br></pre></td></tr></table></figure><ul><li>å¦‚æœ <code>str1</code> å°äº <code>str2</code>ï¼Œåˆ™ <code>result</code> å°†ä¸ºè´Ÿæ•°ã€‚</li><li>å¦‚æœ <code>str1</code> ç­‰äº <code>str2</code>ï¼Œåˆ™ <code>result</code> å°†ä¸º 0ã€‚</li><li>å¦‚æœ <code>str1</code> å¤§äº <code>str2</code>ï¼Œåˆ™ <code>result</code> å°†ä¸ºæ­£æ•°ã€‚</li></ul><hr><p>åˆ¤æ–­sæ˜¯å¦æ˜¯tçš„å­å­—ç¬¦ä¸² </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isSubsequence</span><span class="params">(string s, string t)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> sPos=<span class="number">0</span>,tPos=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> n=s.<span class="built_in">length</span>(),m=t.<span class="built_in">length</span>();</span><br><span class="line">        <span class="keyword">while</span>(sPos&lt;n&amp;&amp;tPos&lt;m)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[sPos]==t[tPos])&#123;</span><br><span class="line">                sPos++;</span><br><span class="line">            &#125;</span><br><span class="line">            tPos++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sPos==n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="8-é«˜ç²¾åº¦è¿ç®—"><a href="#8-é«˜ç²¾åº¦è¿ç®—" class="headerlink" title="8.é«˜ç²¾åº¦è¿ç®—"></a>8.é«˜ç²¾åº¦è¿ç®—</h1><h2 id="8-1-åŠ ä¸€ï¼š66"><a href="#8-1-åŠ ä¸€ï¼š66" class="headerlink" title="8-1.åŠ ä¸€ï¼š66"></a>8-1.åŠ ä¸€ï¼š66</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">plusOne</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; digits)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = digits.<span class="built_in">size</span>(), pos = n - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (pos &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (digits[pos] != <span class="number">9</span>) &#123;</span><br><span class="line">                digits[pos]++;</span><br><span class="line">                <span class="keyword">return</span> digits;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                digits[pos--] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å…¨æ˜¯9çš„æƒ…å†µ</span></span><br><span class="line">        digits.<span class="built_in">emplace_back</span>(<span class="number">0</span>);</span><br><span class="line">        digits[<span class="number">0</span>] = <span class="number">1</span>; <span class="comment">//å…¶ä»–æ•°å­—å·²ç»åœ¨whileå¾ªç¯ä¸­è¢«æ”¹æˆ9äº†</span></span><br><span class="line">        <span class="keyword">return</span> digits;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="8-2-äºŒè¿›åˆ¶æ±‚å’Œï¼š67"><a href="#8-2-äºŒè¿›åˆ¶æ±‚å’Œï¼š67" class="headerlink" title="8-2.äºŒè¿›åˆ¶æ±‚å’Œï¼š67"></a>8-2.äºŒè¿›åˆ¶æ±‚å’Œï¼š67</h2><p>æ³•ä¸€ï¼šæ¨¡æ‹Ÿ(æœ€ä¼˜)</p><p>å…³é”®åœ¨äºå¤šæ¬¡è¿›è¡Œreverseæ–¹ä¾¿è¿ç®—å’Œè¿›ä½ï¼›åŒæ—¶è¿›ä½æ•°carryçš„å¤„ç†ä¹Ÿå¾ˆå·§å¦™ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">addBinary</span><span class="params">(string a, string b)</span> </span>&#123;</span><br><span class="line">        string ans;</span><br><span class="line">        <span class="built_in">reverse</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>());</span><br><span class="line">        <span class="built_in">reverse</span>(b.<span class="built_in">begin</span>(), b.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> n = <span class="built_in">max</span>(a.<span class="built_in">size</span>(), b.<span class="built_in">size</span>()), carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            carry += i &lt; a.<span class="built_in">size</span>() ? (a[i] == <span class="string">&#x27;1&#x27;</span>) : <span class="number">0</span>;</span><br><span class="line">            carry += i &lt; b.<span class="built_in">size</span>() ? (b[i] == <span class="string">&#x27;1&#x27;</span>) : <span class="number">0</span>;</span><br><span class="line">            ans += carry % <span class="number">2</span> ? <span class="string">&quot;1&quot;</span> : <span class="string">&quot;0&quot;</span>;</span><br><span class="line">            carry /= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (carry) &#123;</span><br><span class="line">            ans += <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">reverse</span>(ans.<span class="built_in">begin</span>(), ans.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šä½è¿ç®—</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">addBinary</span><span class="params">(string a, string b)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨bitsetæ¥å¤„ç†äºŒè¿›åˆ¶ç›¸åŠ </span></span><br><span class="line">        <span class="function">bitset&lt;10000&gt; <span class="title">x</span><span class="params">(a)</span></span>;</span><br><span class="line">        <span class="function">bitset&lt;10000&gt; <span class="title">y</span><span class="params">(b)</span></span>;</span><br><span class="line">        <span class="keyword">while</span> (y.<span class="built_in">any</span>()) &#123;</span><br><span class="line">            <span class="comment">// è®¡ç®—å½“å‰ä½çš„å’Œå’Œè¿›ä½</span></span><br><span class="line">            bitset&lt;10000&gt; sum = x ^ y;</span><br><span class="line">            bitset&lt;10000&gt; carry = (x &amp; y) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// æ›´æ–°xå’Œy</span></span><br><span class="line">            x = sum;</span><br><span class="line">            y = carry;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†bitsetè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶å»é™¤å‰å¯¼é›¶</span></span><br><span class="line">        string ans = x.<span class="built_in">to_string</span>();</span><br><span class="line">        <span class="type">size_t</span> startPos = ans.<span class="built_in">find</span>(<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span> (startPos != string::npos) &#123;  <span class="comment">//èƒ½æ‰¾åˆ°</span></span><br><span class="line">            <span class="keyword">return</span> ans.<span class="built_in">substr</span>(startPos);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li><p>æ ¹æ®é¢˜å¹²ï¼Œç”±äº<code>1 &lt;= a.length, b.length &lt;= 10^4</code>ï¼Œå› æ­¤aå¯èƒ½ä½æ•°å¾ˆé•¿ï¼Œéœ€è¦å¾ˆé•¿çš„äºŒè¿›åˆ¶æ•°æ¥å­˜å‚¨ï¼Œå¸¸è§„çš„<code>int x=stoi(a,0,2)</code>ä¼šå¯¼è‡´æº¢å‡ºï¼Œå› æ­¤è¿™é‡Œä½¿ç”¨1e4ä½çš„bitsetæ¥å­˜å‚¨è½¬æ¢çš„a.aä¸éœ€è¦è½¬æ¢ä¸ºå…¶ä»–å‚æ•°ï¼Œstringæˆ–è€…intç­‰ç­‰éƒ½å¯ä»¥ç›´æ¥è½¬æ¢ä¸ºbitsetã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœaä»…ä»…æ˜¯ä¸€ä¸ªintå‹æ•´æ•°ï¼Œé‚£ä¹ˆåªéœ€è¦<code>bitset&lt;32&gt;</code>å³å¯ï¼Œå› ä¸ºintèŒƒå›´åœ¨$-2^{31}$ åˆ° $2^{31} - 1$ï¼Œ</p></li><li><p>whileå¾ªç¯ä¸­åº”è¯¥ä½¿ç”¨y.any()è€Œéyï¼šåœ¨C++ä¸­ï¼Œ<code>std::bitset</code> ç±»å‹çš„å¯¹è±¡ä¸å¯ä»¥éšå¼åœ°è¢«è½¬æ¢ä¸º <code>bool</code> ç±»å‹ã€‚å¦‚æœ <code>y</code> æ˜¯ä¸€ä¸ª <code>std::bitset</code> å¯¹è±¡ï¼Œ<code>y</code> ä¼šè¢«ç”¨ä½œä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼æ—¶ï¼Œå®ƒæ— æ³•éšå¼åœ°è½¬æ¢ä¸º <code>bool</code>ã€‚ä½¿ç”¨ <code>y.any()</code> æ˜¯ä¸€ç§æ›´æ˜ç¡®çš„æ–¹å¼æ¥è¡¨è¾¾å¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶ï¼Œå› ä¸ºå®ƒç›´æ¥æ£€æŸ¥ <code>std::bitset</code> <u>æ˜¯å¦æœ‰ä»»ä½•</u>éé›¶ä½ï¼Œæ‰€æœ‰ä½å‡ä¸º0æ—¶ä¸ºfalseé€€å‡ºå¾ªç¯ã€‚</p></li><li><p><code>(x&amp;y)&lt;&lt;1</code>:å¤„ç†è¿›ä½ã€‚</p><ol><li><p><code>x &amp; y</code>: è¿™æ˜¯ <code>x</code> å’Œ <code>y</code> çš„æŒ‰ä½ä¸è¿ç®—ã€‚åœ¨äºŒè¿›åˆ¶ä¸­ï¼Œæ¯ä¸€ä½ä¸Šçš„ç»“æœæ˜¯å–ä¸¤ä¸ªæ•°å¯¹åº”ä½ä¸Šçš„é€»è¾‘ä¸ï¼ˆANDï¼‰è¿ç®—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ <code>x</code> çš„æŸä¸€ä½æ˜¯1ï¼Œè€Œ <code>y</code> çš„ç›¸åŒä½ç½®ä¹Ÿæ˜¯1ï¼Œé‚£ä¹ˆç»“æœçš„ç›¸åº”ä½å°±æ˜¯1ï¼›å¦åˆ™ä¸º0ã€‚</p></li><li><p><code>(x &amp; y) &lt;&lt; 1</code>: è¿™æ˜¯å°†ä¸Šè¿°æŒ‰ä½ä¸è¿ç®—çš„ç»“æœå·¦ç§»ä¸€ä½ã€‚å·¦ç§»è¿ç®—æ˜¯å°†äºŒè¿›åˆ¶æ•°çš„æ¯ä¸€ä½å‘å·¦ç§»åŠ¨æŒ‡å®šçš„ä½æ•°ï¼Œå³ä¾§ç©ºå‡ºçš„ä½è¡¥0ã€‚å› æ­¤ï¼Œ<code>(x &amp; y) &lt;&lt; 1</code> å°±æ˜¯å°† <code>(x &amp; y)</code> çš„æ‰€æœ‰ä½éƒ½å‘å·¦ç§»åŠ¨ä¸€ä½ã€‚</p></li></ol></li><li><p><code>x.to_string()</code>:xä¸ºbitsetç±»å‹çš„å¯¹è±¡ã€‚<code>x.to_string()</code> æ˜¯ç”¨äºè°ƒç”¨å¯¹è±¡çš„æˆå‘˜å‡½æ•°ï¼Œè€Œ <code>to_string(x)</code> æ˜¯ç”¨äºå°†åŸºæœ¬æ•°æ®ç±»å‹(æ¯”å¦‚int)è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</p></li><li><p><code>size_t startPos = ans.find(&#39;1&#39;)</code>:å­—ç¬¦ä¸²ä¸­çš„findæ–¹æ³•åœ¨æ‰¾å¯»åˆ°ç¬¬ä¸€ä¸ªâ€˜1â€™åï¼Œè¿”å›size_tç±»å‹çš„ç»“æœã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å›<code>std::string::npos</code>ã€‚<code>size_t</code> æ˜¯ä¸€ç§æ— ç¬¦å·æ•´æ•°ç±»å‹ï¼Œé€šå¸¸ç”¨äºè¡¨ç¤ºå¯¹è±¡çš„å¤§å°ã€ç´¢å¼•æˆ–é•¿åº¦ã€‚å®ƒæ˜¯é€šè¿‡åŒ…å«å¤´æ–‡ä»¶ <code>&lt;cstddef&gt;</code>ï¼ˆæˆ– <code>&lt;stddef.h&gt;</code>ï¼Œåœ¨Cè¯­è¨€ä¸­ï¼‰æ¥å¼•å…¥çš„ã€‚</p><p>C++æ ‡å‡†è§„å®šäº† <code>size_t</code> çš„å±æ€§ï¼Œå®ƒè¢«å®šä¹‰ä¸ºä¸€ä¸ªè¶³å¤Ÿå¤§ä»¥å®¹çº³ç¨‹åºä¸­å¯èƒ½çš„æœ€å¤§å¯¹è±¡å¤§å°çš„æ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚å› æ­¤ï¼Œ<code>size_t</code> çš„å¤§å°åœ¨ä¸åŒçš„å¹³å°å’Œç¼–è¯‘å™¨ä¸­å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œä½†é€šå¸¸è¶³å¤Ÿå¤§ä»¥æ»¡è¶³å®é™…éœ€æ±‚ã€‚</p></li><li><p><code>ans.substr(startPos);</code>ï¼šsubstræ–¹æ³•å¯ä»¥åªæ¥å—ä¸€ä¸ªå‚æ•°pos,è¡¨ç¤ºè¿™ä¸ªå­å­—ç¬¦ä¸²æ—¶ä»posè¿™ä¸ªä½ç½®å¼€å§‹ä¸€ç›´åˆ°æœ€å(è¿™æ—¶å€™ä¸ç”¨å†ç‰¹åœ°è¯´æ˜é•¿åº¦length)</p></li><li><p><code>stoi(a,0,2)æˆ–è€…stoi(a,nullptr,2)</code>:å°†å­—ç¬¦ä¸²aè½¬æ¢ä¸º2è¿›åˆ¶çš„æ•°ï¼Œå¹¶ç”¨intè¡¨è¾¾ã€‚æ¯”å¦‚a=â€10101111â€ï¼Œåˆ™è½¬æ¢ä¸ºint x=101011111ã€‚<code>0</code>æˆ–è€…<code>nullptr</code> æ˜¯ç”¨äºå­˜å‚¨è½¬æ¢é”™è¯¯ä½ç½®çš„æŒ‡é’ˆã€‚å¦‚æœè½¬æ¢è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œ<code>stoi</code> å‡½æ•°ä¼šå°†é”™è¯¯çš„ä½ç½®å­˜å‚¨åœ¨è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘çš„ä½ç½®ã€‚åœ¨è¿™é‡Œï¼Œ<code>0</code>æˆ–è€…<code>nullptr</code>è¡¨ç¤ºä¸å­˜å‚¨é”™è¯¯ä½ç½®ã€‚2è¡¨ç¤ºåŸºæ•°ï¼Œå³è½¬æ¢ä¸ºå‡ è¿›åˆ¶ã€‚</p></li></ul><h2 id="8-3-å­—ç¬¦ä¸²ç›¸åŠ ï¼š415ã€å­—ç¬¦ä¸²ç›¸ä¹˜ï¼š43"><a href="#8-3-å­—ç¬¦ä¸²ç›¸åŠ ï¼š415ã€å­—ç¬¦ä¸²ç›¸ä¹˜ï¼š43" class="headerlink" title="8-3.å­—ç¬¦ä¸²ç›¸åŠ ï¼š415ã€å­—ç¬¦ä¸²ç›¸ä¹˜ï¼š43"></a>8-3.å­—ç¬¦ä¸²ç›¸åŠ ï¼š415ã€å­—ç¬¦ä¸²ç›¸ä¹˜ï¼š43</h2><p>ç±»ä¼¼8-2ï¼Œä½¿ç”¨æ¨¡æ‹Ÿæ³•</p><p>å­—ç¬¦ä¸²ç›¸ä¹˜æ³•äºŒï¼šä¼˜åŒ–ç«–å¼</p><p><img src="https://s2.loli.net/2024/01/29/vsTbwaM5f2H6Pum.png" alt=""></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">multiply</span><span class="params">(string num1, string num2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (num1 == <span class="string">&quot;0&quot;</span> || num2 == <span class="string">&quot;0&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> n = num1.<span class="built_in">length</span>() + num2.<span class="built_in">length</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">res</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = num1.<span class="built_in">length</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = num2.<span class="built_in">length</span>() - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="type">int</span> sum = res[i + j + <span class="number">1</span>] + (num1[i] - <span class="string">&#x27;0&#x27;</span>) * (num2[j] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">                res[i + j + <span class="number">1</span>] = sum % <span class="number">10</span>;</span><br><span class="line">                res[i + j] += sum / <span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        string ans = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; res[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>; <span class="comment">//å»æ‰å‰ç½®0</span></span><br><span class="line">            &#125;</span><br><span class="line">            ans += <span class="built_in">to_string</span>(res[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¹Ÿå¯ä»¥å…ˆåƒå‰é¢çš„é¢˜ä¸€æ ·åè½¬å­—ç¬¦ä¸²ä»¥åå†ä»å‰å¾€åç®—ï¼Œä¹‹åå†å€’å›æ¥ã€‚</p><h2 id="8-4-ç´¯åŠ æ•°ï¼š306"><a href="#8-4-ç´¯åŠ æ•°ï¼š306" class="headerlink" title="8-4.ç´¯åŠ æ•°ï¼š306"></a>8-4.ç´¯åŠ æ•°ï¼š306</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h1 id="9-å­—ç¬¦ä¸²å˜æ¢"><a href="#9-å­—ç¬¦ä¸²å˜æ¢" class="headerlink" title="9.å­—ç¬¦ä¸²å˜æ¢"></a>9.å­—ç¬¦ä¸²å˜æ¢</h1><h2 id="9-1-Zå­—å½¢å˜æ¢ï¼š6"><a href="#9-1-Zå­—å½¢å˜æ¢ï¼š6" class="headerlink" title="9-1.Zå­—å½¢å˜æ¢ï¼š6"></a>9-1.Zå­—å½¢å˜æ¢ï¼š6</h2><p>æ³•ä¸€ï¼šå‹ç¼©çŸ©é˜µå­˜å‚¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">convert</span><span class="params">(string s, <span class="type">int</span> numRows)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">length</span>(), r = numRows;</span><br><span class="line">        <span class="keyword">if</span> (r == <span class="number">1</span> || r == n) &#123;</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">vector&lt;string&gt; <span class="title">mat</span><span class="params">(r)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, x = <span class="number">0</span>, t = r * <span class="number">2</span> - <span class="number">2</span>; i &lt; n; i++) &#123;</span><br><span class="line">            mat[x] += s[i];<span class="comment">//xè®°å½•è¡Œæ•°</span></span><br><span class="line">            i % t &lt; r - <span class="number">1</span> ? ++x : --x;<span class="comment">//ç¬¬i%tè¡Œè¯»å–ç»“æŸå°±ç»§ç»­ä¸‹ä¸€è¡Œ</span></span><br><span class="line">        &#125;</span><br><span class="line">        string ans;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; row : mat) &#123;</span><br><span class="line">            ans += row;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šç›´æ¥æ„é€ </p><p>è§‚å¯Ÿä¸‹æ ‡è§„å¾‹ï¼š</p><p><img src="https://s2.loli.net/2024/02/03/g97q4Kv86TSiy1b.png" alt=""></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">convert</span><span class="params">(string s, <span class="type">int</span> numRows)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">length</span>(), r = numRows;</span><br><span class="line">        <span class="keyword">if</span> (r == <span class="number">1</span> || r == n) &#123;</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        &#125;</span><br><span class="line">        string ans;</span><br><span class="line">        <span class="type">int</span> t = r * <span class="number">2</span> - <span class="number">2</span>; <span class="comment">//ä½¿å¾—s[t]æ˜¯ç¬¬äºŒä¸ªç«–ç›´åˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; r; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j + i &lt; n; j += t) &#123; <span class="comment">//éå†ç¬¬iè¡Œçš„å…ƒç´ </span></span><br><span class="line">                ans += s[j + i];</span><br><span class="line">                <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; i &lt; r - <span class="number">1</span> &amp;&amp; j + t - i &lt; n) &#123;</span><br><span class="line">                    ans += s[j + t - i];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="9-2-æ–‡æœ¬å·¦å³å¯¹é½ï¼š68"><a href="#9-2-æ–‡æœ¬å·¦å³å¯¹é½ï¼š68" class="headerlink" title="9-2.æ–‡æœ¬å·¦å³å¯¹é½ï¼š68"></a>9-2.æ–‡æœ¬å·¦å³å¯¹é½ï¼š68</h2><p>è´ªå¿ƒç®—æ³•+æ¨¡æ‹Ÿ</p><p>è¯¦è§ï¼š<a href="https://leetcode.cn/problems/text-justification/solutions/181651/text-justification-by-ikaruga/">å¹³å‡åˆ†å¸ƒé¢å¤–ç©ºæ ¼</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">fillWords</span><span class="params">(vector&lt;string&gt;&amp; words, <span class="type">int</span> bg, <span class="type">int</span> ed, <span class="type">int</span> maxWidth,</span></span></span><br><span class="line"><span class="params"><span class="function">                     <span class="type">bool</span> lastLine = <span class="literal">false</span>)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> wordCount = ed - bg + <span class="number">1</span>;<span class="comment">//endå‡å»beginåå†åŠ 1</span></span><br><span class="line">        <span class="type">int</span> spaceCount =</span><br><span class="line">            maxWidth + <span class="number">1</span> - wordCount; <span class="comment">// é™¤å»æ¯ä¸ªå•è¯å°¾éƒ¨ç©ºæ ¼ï¼Œ + 1</span></span><br><span class="line">                                      <span class="comment">// æ˜¯æœ€åä¸€ä¸ªå•è¯çš„å°¾éƒ¨ç©ºæ ¼çš„ç‰¹æ®Šå¤„ç†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = bg; i &lt;= ed; i++) &#123;</span><br><span class="line">            spaceCount -= words[i].<span class="built_in">size</span>(); <span class="comment">// é™¤å»æ‰€æœ‰å•è¯çš„é•¿åº¦</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> spaceSuffix = <span class="number">1</span>; <span class="comment">// è¯å°¾ç©ºæ ¼</span></span><br><span class="line">        <span class="type">int</span> spaceAvg = (wordCount == <span class="number">1</span>)</span><br><span class="line">                           ? <span class="number">1</span></span><br><span class="line">                           : spaceCount / (wordCount - <span class="number">1</span>); <span class="comment">// é¢å¤–ç©ºæ ¼çš„å¹³å‡å€¼</span></span><br><span class="line">        <span class="type">int</span> spaceExtra = (wordCount == <span class="number">1</span>)</span><br><span class="line">                             ? <span class="number">0</span></span><br><span class="line">                             : spaceCount % (wordCount - <span class="number">1</span>); <span class="comment">// é¢å¤–ç©ºæ ¼çš„ä½™æ•°</span></span><br><span class="line">        string ans;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = bg; i &lt; ed; i++) &#123;</span><br><span class="line">            ans += words[i]; <span class="comment">// å¡«å…¥å•è¯</span></span><br><span class="line">            <span class="keyword">if</span> (lastLine) &#123;  <span class="comment">// ç‰¹æ®Šå¤„ç†æœ€åä¸€è¡Œ</span></span><br><span class="line">                <span class="built_in">fill_n</span>(<span class="built_in">back_inserter</span>(ans), <span class="number">1</span>, <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">fill_n</span>(<span class="built_in">back_inserter</span>(ans),</span><br><span class="line">                   spaceSuffix + spaceAvg + ((i - bg) &lt; spaceExtra),</span><br><span class="line">                   <span class="string">&#x27; &#x27;</span>); <span class="comment">// æ ¹æ®è®¡ç®—ç»“æœè¡¥ä¸Šç©ºæ ¼</span></span><br><span class="line">        &#125;</span><br><span class="line">        ans += words[ed]; <span class="comment">// å¡«å…¥æœ€åä¸€ä¸ªå•è¯</span></span><br><span class="line">        <span class="built_in">fill_n</span>(<span class="built_in">back_inserter</span>(ans), maxWidth - ans.<span class="built_in">size</span>(), <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">        <span class="comment">// è¡¥ä¸Šè¿™ä¸€è¡Œæœ€åçš„ç©ºæ ¼</span></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">fullJustify</span><span class="params">(vector&lt;string&gt;&amp; words, <span class="type">int</span> maxWidth)</span> </span>&#123;</span><br><span class="line">        vector&lt;string&gt; ans;</span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> bg = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; words.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            cnt += words[i].<span class="built_in">size</span>() + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (i + <span class="number">1</span> == words.<span class="built_in">size</span>() ||</span><br><span class="line">                cnt + words[i + <span class="number">1</span>].<span class="built_in">size</span>() &gt;</span><br><span class="line">                    maxWidth) &#123; <span class="comment">// å¦‚æœæ˜¯æœ€åä¸€ä¸ªå•è¯ï¼Œæˆ–è€…åŠ ä¸Šä¸‹ä¸€ä¸ªè¯å°±è¶…è¿‡é•¿åº¦äº†ï¼Œå³å¯å‡‘æˆä¸€è¡Œ</span></span><br><span class="line">                ans.<span class="built_in">push_back</span>(</span><br><span class="line">                    <span class="built_in">fillWords</span>(words, bg, i, maxWidth, i + <span class="number">1</span> == words.<span class="built_in">size</span>()));</span><br><span class="line">                bg = i + <span class="number">1</span>;</span><br><span class="line">                cnt = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="10-å­—ç¬¦ä¸²åŒ¹é…-éš¾åº¦è¾ƒé«˜"><a href="#10-å­—ç¬¦ä¸²åŒ¹é…-éš¾åº¦è¾ƒé«˜" class="headerlink" title="10.å­—ç¬¦ä¸²åŒ¹é…(éš¾åº¦è¾ƒé«˜)"></a>10.å­—ç¬¦ä¸²åŒ¹é…(éš¾åº¦è¾ƒé«˜)</h1><h2 id="10-1-æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡-28"><a href="#10-1-æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡-28" class="headerlink" title="10-1.æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡:28"></a>10-1.æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡:28</h2><p>æ³•ä¸€ï¼šæš´åŠ›åŒ¹é…</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">strStr</span><span class="params">(string haystack, string needle)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = haystack.<span class="built_in">size</span>(), m = needle.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i + m &lt;= n; i++) &#123;</span><br><span class="line">            <span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (haystack[i + j] != needle[j]) &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨substrä¸ä¹‹åŒç†ï¼š</p><p><code>substr()</code>çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$,ç©ºé—´å¤æ‚åº¦æ˜¯$O(1)$.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">strStr</span><span class="params">(string haystack, string needle)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; haystack.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (haystack[i] == needle[<span class="number">0</span>]) &#123; <span class="comment">//ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ç›¸ç­‰å†å†³å®šæ˜¯ä¸æ˜¯è¦å°è¯•åŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">                string x = haystack.<span class="built_in">substr</span>(i, needle.<span class="built_in">size</span>());</span><br><span class="line">                <span class="keyword">if</span> (x == needle) &#123;</span><br><span class="line">                    <span class="keyword">return</span> i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šKMPç®—æ³•</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">strStr</span><span class="params">(string haystack, string needle)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = haystack.<span class="built_in">size</span>(), m = needle.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (m == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">next</span><span class="params">(m)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>, j = <span class="number">0</span>; i &lt; m; i++) &#123; <span class="comment">//è®¡ç®—å‡ºnextæ•°ç»„</span></span><br><span class="line">            <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; needle[i] != needle[j]) &#123;</span><br><span class="line">                j = next[j - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (needle[i] == needle[j]) &#123;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            next[i] = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; n; i++) &#123; <span class="comment">//æ ¹æ®nextæ•°ç»„è¿›è¡ŒåŒ¹é…</span></span><br><span class="line">            <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; haystack[i] != needle[j]) &#123;</span><br><span class="line">                j = next[j - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (haystack[i] == needle[j]) &#123;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j == m) &#123;</span><br><span class="line">                <span class="keyword">return</span> i - m + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å…³äºKMP"><a href="#å…³äºKMP" class="headerlink" title="å…³äºKMP"></a>å…³äºKMP</h2><p><img src="https://s2.loli.net/2024/02/03/SAhEnMkz5LfJD1W.png" alt=""></p><p><img src="https://s2.loli.net/2024/02/03/B6Z1blgJqCnyRpv.png" title="" alt="" width="473"></p><h2 id="å¸¸è§å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•"><a href="#å¸¸è§å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•" class="headerlink" title="å¸¸è§å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•"></a>å¸¸è§å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•</h2><p>è®²è§£ï¼š<a href="https://zhuanlan.zhihu.com/p/159879354">å­—ç¬¦ä¸²åŒ¹é…ä¹‹Sundayã€KMPå’ŒBMç®—æ³•å…¥é—¨çº§è®²è§£</a></p><ol><li><p><strong>æš´åŠ›åŒ¹é…ç®—æ³•ï¼ˆBrute Forceï¼‰</strong>ï¼šä¹Ÿç§°ä¸ºæœ´ç´ å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œå®ƒé€šè¿‡é€ä¸ªæ¯”è¾ƒæ–‡æœ¬å’Œæ¨¡å¼ä¸²çš„å­—ç¬¦æ¥è¿›è¡ŒåŒ¹é…ã€‚</p></li><li><p><strong>KMPç®—æ³•</strong>ï¼šKMPç®—æ³•åˆ©ç”¨æ¨¡å¼ä¸²è‡ªèº«çš„ç‰¹ç‚¹ï¼Œé€šè¿‡æ„å»ºéƒ¨åˆ†åŒ¹é…è¡¨ï¼ˆnextæ•°ç»„ï¼‰æ¥å®ç°å¿«é€ŸåŒ¹é…ã€‚</p></li><li><p><strong>Boyer-Mooreç®—æ³•</strong>ï¼šè¯¥ç®—æ³•é€šè¿‡ä»å³å¾€å·¦æ¯”è¾ƒæ¨¡å¼ä¸²å’Œæ–‡æœ¬ä¸²ï¼Œåˆ©ç”¨åå­—ç¬¦è§„åˆ™å’Œå¥½åç¼€è§„åˆ™æ¥å¿«é€Ÿå®šä½åŒ¹é…ä½ç½®ã€‚</p></li><li><p><strong>Rabin-Karpç®—æ³•</strong>ï¼šRabin-Karpç®—æ³•åˆ©ç”¨å“ˆå¸Œå‡½æ•°æ¥å¿«é€Ÿæ¯”è¾ƒæ–‡æœ¬ä¸­çš„å­ä¸²å’Œæ¨¡å¼ä¸²ï¼Œä»¥ç¡®å®šæ˜¯å¦éœ€è¦è¿›è¡Œè¿›ä¸€æ­¥çš„ç²¾ç¡®æ¯”è¾ƒï¼ˆé¦–å…ˆæ˜¯è®¡ç®—ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ï¼Œç„¶åé€šè¿‡æ¯”è¾ƒè¿™ä¸¤ä¸ªå“ˆå¸Œå€¼çš„å¤§å°æ¥åˆ¤æ–­æ˜¯å¦å‡ºç°åŒ¹é…ï¼‰ã€‚</p></li><li><p><strong>Sundayç®—æ³•</strong>ï¼šSundayç®—æ³•æ˜¯ä¸€ç§ç®€å•è€Œé«˜æ•ˆçš„å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œå®ƒåˆ©ç”¨é¢„å¤„ç†æ¨¡å¼ä¸²å¾—åˆ°çš„åç§»è¡¨ï¼Œä»¥ä¾¿åœ¨åŒ¹é…å¤±è´¥æ—¶å¿«é€Ÿç§»åŠ¨æ¨¡å¼ä¸²ã€‚</p></li></ol><hr><h2 id="10-2-é‡å¤å åŠ å­—ç¬¦ä¸²åŒ¹é…ï¼š686"><a href="#10-2-é‡å¤å åŠ å­—ç¬¦ä¸²åŒ¹é…ï¼š686" class="headerlink" title="10-2.é‡å¤å åŠ å­—ç¬¦ä¸²åŒ¹é…ï¼š686"></a>10-2.é‡å¤å åŠ å­—ç¬¦ä¸²åŒ¹é…ï¼š686</h2><p>æ³•ä¸€ï¼šKMP.</p><p>æ—¶é—´å¤æ‚åº¦ï¼š$O(n+m)$ï¼Œç©ºé—´å¤æ‚åº¦ï¼š$O(m)$ã€‚</p><p>è¯¥é¢˜ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">strStr</span><span class="params">(string haystack, string needle)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = haystack.<span class="built_in">size</span>(), m = needle.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (m == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">next</span><span class="params">(m)</span></span>;</span><br><span class="line">        <span class="comment">// è®¡ç®—å‡ºnextæ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>, j = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; needle[i] != needle[j]) &#123;</span><br><span class="line">                j = next[j - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (needle[i] == needle[j]) &#123;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            next[i] = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ ¹æ®nextæ•°å€¼è¿›è¡ŒåŒ¹é…</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i - j &lt; n; i++) &#123; <span class="comment">// b å¼€å§‹åŒ¹é…çš„ä½ç½®æ˜¯å¦è¶…è¿‡ç¬¬ä¸€ä¸ªå åŠ çš„ a</span></span><br><span class="line">            <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; haystack[i % n] != needle[j]) &#123; <span class="comment">//i%n,å› ä¸ºå¯èƒ½æ˜¯å¤šä¸ªhaystacké‡å¤</span></span><br><span class="line">                j = next[j - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (haystack[i % n] == needle[j]) &#123;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j == m) &#123;</span><br><span class="line">                <span class="keyword">return</span> i - m + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">repeatedStringMatch</span><span class="params">(string a, string b)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> an = a.<span class="built_in">size</span>(), bn = b.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> index = <span class="built_in">strStr</span>(a, b);</span><br><span class="line">        <span class="keyword">if</span> (index == <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (an - index &gt;= bn) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (bn + index - an - <span class="number">1</span>) / an + <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šRabin-Karpç®—æ³•</p><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n+m)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚</p><p>å…³äºRabin-Karpçš„è®²è§£:<a href="https://zhuanlan.zhihu.com/p/563551141?utm_id=0">Rabinâ€“Karp ç®—æ³•</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> BASE 256</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MODULUS 101</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">RabinKarp</span><span class="params">(<span class="type">char</span> t[], <span class="type">char</span> p[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t_len = <span class="built_in">strlen</span>(t);</span><br><span class="line">    <span class="type">int</span> p_len = <span class="built_in">strlen</span>(p);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å“ˆå¸Œæ»šåŠ¨ä¹‹ç”¨</span></span><br><span class="line">    <span class="type">int</span> h = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; p_len - <span class="number">1</span>; i++)</span><br><span class="line">        h = (h * BASE) % MODULUS;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> t_hash = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> p_hash = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; p_len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        t_hash = (BASE * t_hash + t[i]) % MODULUS;</span><br><span class="line">        p_hash = (BASE * p_hash + p[i]) % MODULUS;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= t_len - p_len)</span><br><span class="line">    &#123;</span><br><span class="line">         <span class="comment">// è€ƒè™‘åˆ°å“ˆå¸Œç¢°æ’çš„å¯èƒ½æ€§ï¼Œè¿˜éœ€è¦ç”¨ memcmp å†æ¯”å¯¹ä¸€ä¸‹</span></span><br><span class="line">        <span class="keyword">if</span> (t_hash == p_hash &amp;&amp; <span class="built_in">memcmp</span>(p, t + i, p_len) == <span class="number">0</span>)</span><br><span class="line">            cout &lt;&lt; p &lt;&lt; <span class="string">&quot; is found at index &quot;</span> &lt;&lt; i &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å“ˆå¸Œæ»šåŠ¨</span></span><br><span class="line">        t_hash = (BASE * (t_hash - t[i] * h) + t[i + p_len]) % MODULUS;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é˜²æ­¢å‡ºç°è´Ÿæ•°</span></span><br><span class="line">        <span class="keyword">if</span> (t_hash &lt; <span class="number">0</span>)</span><br><span class="line">            t_hash = t_hash + MODULUS;</span><br><span class="line"></span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="C:\Users\huangjiakun\Pictures\Marktextå…¨å±€å›¾ç‰‡\09710814ec32b4e67959fb730df10269ff888601.png" alt=""></p><p>è¯¥é¢˜ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">strStr</span><span class="params">(string haystack, string needle)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = haystack.<span class="built_in">size</span>(), m = needle.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (m == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> k1 = <span class="number">1e9</span> + <span class="number">7</span>;  <span class="comment">// é€‰æ‹©ä¸€ä¸ªè¾ƒå¤§çš„è´¨æ•°ä½œä¸ºæ¨¡æ•°</span></span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> k2 = <span class="number">1337</span>;  <span class="comment">// å¦é€‰ä¸€ä¸ªè¾ƒå°çš„è´¨æ•°</span></span><br><span class="line">        <span class="built_in">srand</span>((<span class="type">unsigned</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));  <span class="comment">// åˆå§‹åŒ–éšæœºæ•°ç§å­</span></span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> kMod1 = <span class="built_in">rand</span>() % k1 + k1;  <span class="comment">// ç”Ÿæˆä¸€ä¸ªéšæœºæ•°ä½œä¸ºæ¨¡æ•°</span></span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> kMod2 = <span class="built_in">rand</span>() % k2 + k2;  <span class="comment">// ç”Ÿæˆå¦ä¸€ä¸ªéšæœºæ•°ä½œä¸ºæ¨¡æ•°</span></span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> hash_needle = <span class="number">0</span>;  <span class="comment">// åˆå§‹åŒ–æ¨¡å¼ä¸²çš„å“ˆå¸Œå€¼</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> c : needle) &#123;</span><br><span class="line">            hash_needle = (hash_needle * kMod2 + c) % kMod1;  <span class="comment">// è®¡ç®—æ¨¡å¼ä¸²çš„å“ˆå¸Œå€¼</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> hash_haystack = <span class="number">0</span>, extra = <span class="number">1</span>;  <span class="comment">// åˆå§‹åŒ–æ–‡æœ¬ä¸²çš„å“ˆå¸Œå€¼å’Œé¢å¤–å˜é‡</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            hash_haystack = (hash_haystack * kMod2 + haystack[i % n]) % kMod1;  <span class="comment">// è®¡ç®—æ–‡æœ¬ä¸²çš„å“ˆå¸Œå€¼</span></span><br><span class="line">            extra = (extra * kMod2) % kMod1;  <span class="comment">// æ›´æ–°é¢å¤–å˜é‡</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = m - <span class="number">1</span>; (i - m + <span class="number">1</span>) &lt; n; i++) &#123;</span><br><span class="line">            hash_haystack = (hash_haystack * kMod2 + haystack[i % n]) % kMod1;  <span class="comment">// æ›´æ–°æ–‡æœ¬ä¸²çš„å“ˆå¸Œå€¼</span></span><br><span class="line">            <span class="keyword">if</span> (hash_haystack == hash_needle) &#123;  <span class="comment">// æ£€æŸ¥å“ˆå¸Œå€¼æ˜¯å¦åŒ¹é…</span></span><br><span class="line">                <span class="keyword">return</span> i - m + <span class="number">1</span>;  <span class="comment">// è¿”å›åŒ¹é…ä½ç½®</span></span><br><span class="line">            &#125;</span><br><span class="line">            hash_haystack = (hash_haystack - extra * haystack[(i - m + <span class="number">1</span>) % n]) % kMod1;  <span class="comment">// æ›´æ–°æ–‡æœ¬ä¸²çš„å“ˆå¸Œå€¼</span></span><br><span class="line">            hash_haystack = (hash_haystack + kMod1) % kMod1;  <span class="comment">// å¤„ç†è´Ÿæ•°æƒ…å†µ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;  <span class="comment">// æœªæ‰¾åˆ°åŒ¹é…ï¼Œè¿”å›-1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">repeatedStringMatch</span><span class="params">(string a, string b)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> an = a.<span class="built_in">size</span>(), bn = b.<span class="built_in">size</span>();  <span class="comment">// è·å–å­—ç¬¦ä¸²aå’Œbçš„é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span> index = <span class="built_in">strStr</span>(a, b);  <span class="comment">// è°ƒç”¨strStrå‡½æ•°æŸ¥æ‰¾båœ¨aä¸­çš„åŒ¹é…ä½ç½®</span></span><br><span class="line">        <span class="keyword">if</span> (index == <span class="number">-1</span>) &#123;  <span class="comment">// å¦‚æœæœªæ‰¾åˆ°åŒ¹é…ä½ç½®</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;  <span class="comment">// è¿”å›-1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (an - index &gt;= bn) &#123;  <span class="comment">// å¦‚æœåŒ¹é…ä½ç½®ä¹‹åçš„é•¿åº¦å¤§äºç­‰äºbçš„é•¿åº¦</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;  <span class="comment">// è¿”å›1ï¼Œè¡¨ç¤ºaæœ¬èº«å°±åŒ…å«äº†è‡³å°‘ä¸€ä¸ªb</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (bn + index - an - <span class="number">1</span>) / an + <span class="number">2</span>;  <span class="comment">// è¿”å›é‡å¤æ‹¼æ¥aåèƒ½å¤ŸåŒ…å«bçš„æœ€å°æ¬¡æ•°</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="10-3-é‡å¤çš„å­å­—ç¬¦ä¸²ï¼š459"><a href="#10-3-é‡å¤çš„å­å­—ç¬¦ä¸²ï¼š459" class="headerlink" title="10-3.é‡å¤çš„å­å­—ç¬¦ä¸²ï¼š459"></a>10-3.é‡å¤çš„å­å­—ç¬¦ä¸²ï¼š459</h2><h2 id="10-4-æœ€çŸ­å›æ–‡ä¸²ï¼š214ï¼ˆå›°éš¾ï¼‰"><a href="#10-4-æœ€çŸ­å›æ–‡ä¸²ï¼š214ï¼ˆå›°éš¾ï¼‰" class="headerlink" title="10-4.æœ€çŸ­å›æ–‡ä¸²ï¼š214ï¼ˆå›°éš¾ï¼‰"></a>10-4.æœ€çŸ­å›æ–‡ä¸²ï¼š214ï¼ˆå›°éš¾ï¼‰</h2><h1 id="11-ä¸­å¿ƒæ‹“å±•æ³•"><a href="#11-ä¸­å¿ƒæ‹“å±•æ³•" class="headerlink" title="11.ä¸­å¿ƒæ‹“å±•æ³•"></a>11.ä¸­å¿ƒæ‹“å±•æ³•</h1><p>ä¸­å¿ƒæ‹“å±•æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯ä»¥å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼ˆæˆ–è€…æ¯ä¸¤ä¸ªå­—ç¬¦ä¹‹é—´ï¼‰ä¸ºä¸­å¿ƒï¼Œå‘ä¸¤è¾¹æ‰©å±•ï¼Œä»¥<u>å¯»æ‰¾æœ€é•¿çš„å›æ–‡ä¸²</u>ã€‚è¿™ç§æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦è¾ƒä½ï¼Œå› ä¸ºåœ¨ä¸­å¿ƒæ‹“å±•æ—¶ï¼Œåªéœ€è¦çº¿æ€§çš„æ—¶é—´ã€‚</p><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>éå†å­—ç¬¦ä¸²ï¼Œä»¥æ¯ä¸ªå­—ç¬¦ï¼ˆæˆ–è€…æ¯ä¸¤ä¸ªå­—ç¬¦ä¹‹é—´ï¼‰ä¸ºä¸­å¿ƒï¼Œå‘ä¸¤è¾¹æ‰©å±•ï¼Œç›´åˆ°ä¸å†æ»¡è¶³å›æ–‡ä¸²çš„æ¡ä»¶ã€‚</li><li>åœ¨æ‰©å±•çš„è¿‡ç¨‹ä¸­ï¼Œè®°å½•ä¸‹æœ€é•¿çš„å›æ–‡ä¸²çš„èµ·å§‹ä½ç½®å’Œé•¿åº¦ã€‚</li></ol><p>ä¸­å¿ƒæ‹“å±•æ³•åœ¨è§£å†³å›æ–‡ä¸²ç›¸å…³é—®é¢˜æ—¶éå¸¸æœ‰æ•ˆï¼Œä¾‹å¦‚åœ¨å¯»æ‰¾æœ€é•¿å›æ–‡å­ä¸²æˆ–è€…ç»Ÿè®¡å›æ–‡å­ä¸²çš„ä¸ªæ•°æ—¶ï¼Œè¯¥æ–¹æ³•å¯ä»¥æä¾›è¾ƒé«˜çš„æ•ˆç‡ã€‚</p><h2 id="11-1-æœ€é•¿å›æ–‡å­ä¸²ï¼š5"><a href="#11-1-æœ€é•¿å›æ–‡å­ä¸²ï¼š5" class="headerlink" title="11-1.æœ€é•¿å›æ–‡å­ä¸²ï¼š5"></a>11-1.æœ€é•¿å›æ–‡å­ä¸²ï¼š5</h2><p>æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">longestPalindrome</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> maxLen = <span class="number">1</span>, begin = <span class="number">0</span>;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(n, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n));</span><br><span class="line">        <span class="comment">// è¾¹ç•Œæ¡ä»¶P(i,i)=true</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            dp[i][i] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æšä¸¾å­ä¸²é•¿åº¦L</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> L = <span class="number">2</span>; L &lt;= n; L++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                <span class="type">int</span> j = L + i - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (j &gt;= n) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (s[i] != s[j]) &#123;</span><br><span class="line">                    dp[i][j] = <span class="literal">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (j - i &lt; <span class="number">3</span>) &#123; <span class="comment">//(j-1)-(i+1)&lt;=0</span></span><br><span class="line">                        dp[i][j] = <span class="literal">true</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        dp[i][j] = dp[i + <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// åªè¦ dp[i][j] == true æˆç«‹ï¼Œå°±è¡¨ç¤ºå­ä¸² s[i..j]</span></span><br><span class="line">                <span class="comment">// æ˜¯å›æ–‡ï¼Œæ­¤æ—¶è®°å½•å›æ–‡é•¿åº¦å’Œèµ·å§‹ä½ç½®</span></span><br><span class="line">                <span class="keyword">if</span> (dp[i][j]) &#123;</span><br><span class="line">                    maxLen = <span class="built_in">max</span>(maxLen, j - i + <span class="number">1</span>);</span><br><span class="line">                    begin = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s.<span class="built_in">substr</span>(begin, maxLen);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šä¸­å¿ƒæ‰©å±•æ³•</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">expandAroundCenter</span><span class="params">(<span class="type">const</span> string&amp; s, <span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (left &gt;= <span class="number">0</span> &amp;&amp; right &lt; s.<span class="built_in">size</span>() &amp;&amp; s[left] == s[right]) &#123;</span><br><span class="line">            <span class="comment">// æ»¡è¶³å›æ–‡æ¡ä»¶ï¼Œå‘ä¸¤è¾¹æ‰©å±•</span></span><br><span class="line">            --left;</span><br><span class="line">            ++right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;left + <span class="number">1</span>, right - <span class="number">1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">string <span class="title">longestPalindrome</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> start = <span class="number">0</span>, end = <span class="number">0</span>; <span class="comment">// ä»æœ€å·¦ä¾§è¾¹ç•Œå¼€å§‹</span></span><br><span class="line">        <span class="comment">// å¦‚æœä»æœ€å³ä¾§è¾¹ç•Œï¼Œåˆ™startå’Œendåˆå§‹å€¼åº”ä¸ºs.size;åŒæ—¶auto [left2,right2]=expandAroundCenter(s,i-1,i);</span></span><br><span class="line">        <span class="comment">// ç„¶åiä»s.size()-1åå‘éå†nter(s,i-1,i);</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">auto</span> [left1, right1] = <span class="built_in">expandAroundCenter</span>(s, i, i);     <span class="comment">// a&#x27;b&#x27;a</span></span><br><span class="line">            <span class="keyword">auto</span> [left2, right2] = <span class="built_in">expandAroundCenter</span>(s, i, i + <span class="number">1</span>); <span class="comment">// a&#x27;bb&#x27;a</span></span><br><span class="line">            <span class="keyword">if</span> (right1 - left1 &gt; end - start) &#123;</span><br><span class="line">                start = left1;</span><br><span class="line">                end = right1;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (right2 - left2 &gt; end - start) &#123;</span><br><span class="line">                start = left2;</span><br><span class="line">                end = right2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s.<span class="built_in">substr</span>(start, end - start + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•ä¸‰ï¼šManacherç®—æ³•(äº†è§£)</p><h2 id="11-2-ç»Ÿè®¡å›æ–‡å­ä¸²æ•°ç›®ï¼š647"><a href="#11-2-ç»Ÿè®¡å›æ–‡å­ä¸²æ•°ç›®ï¼š647" class="headerlink" title="11-2.ç»Ÿè®¡å›æ–‡å­ä¸²æ•°ç›®ï¼š647"></a>11-2.ç»Ÿè®¡å›æ–‡å­ä¸²æ•°ç›®ï¼š647</h2><p>ä¸‰ä¸ªæ–¹æ³•ç±»ä¼¼11-1ï¼Œè¿™é‡Œå±•ç¤ºä¸­å¿ƒæ‰©å±•æ³•ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">expandAroundCenter</span><span class="params">(<span class="type">const</span> string&amp; s, <span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &gt;= <span class="number">0</span> &amp;&amp; right &lt; s.<span class="built_in">size</span>() &amp;&amp; s[left] == s[right]) &#123;</span><br><span class="line">            --left;</span><br><span class="line">            ++right;</span><br><span class="line">            ++ans;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countSubstrings</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>, ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            ans +=<span class="built_in">expandAroundCenter</span>(s, i, i) + <span class="built_in">expandAroundCenter</span>(s, i, i + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> leetcodeåˆ·é¢˜ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> leetcode </tag>
            
            <tag> string </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.1å­—ç¬¦ä¸²ç¯‡(2)</title>
      <link href="/posts/283bba67.html"/>
      <url>/posts/283bba67.html</url>
      
        <content type="html"><![CDATA[<h1 id="6-æ•°å­—ä¸å­—ç¬¦ä¸²ä¹‹é—´è½¬æ¢"><a href="#6-æ•°å­—ä¸å­—ç¬¦ä¸²ä¹‹é—´è½¬æ¢" class="headerlink" title="6.æ•°å­—ä¸å­—ç¬¦ä¸²ä¹‹é—´è½¬æ¢"></a>6.æ•°å­—ä¸å­—ç¬¦ä¸²ä¹‹é—´è½¬æ¢</h1><p>299:ä½¿ç”¨é¢å¤–ä¸¤ä¸ªæ•°ç»„è®°å½•Bulls,cows</p><h2 id="6-1-ç›¸å¯¹åæ¬¡ï¼š506"><a href="#6-1-ç›¸å¯¹åæ¬¡ï¼š506" class="headerlink" title="6-1.ç›¸å¯¹åæ¬¡ï¼š506"></a>6-1.ç›¸å¯¹åæ¬¡ï¼š506</h2><p><code>make_pair(a,b)</code>:å½¢æˆè¯¸å¦‚<code>pair&lt;int,int&gt;</code>çš„å½¢å¼</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">findRelativeRanks</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; score)</span> </span>&#123;</span><br><span class="line">        vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; arr;</span><br><span class="line">        <span class="type">int</span> n = score.<span class="built_in">size</span>();</span><br><span class="line">        string rankTop[<span class="number">3</span>] = &#123;<span class="string">&quot;Gold Medal&quot;</span>, <span class="string">&quot;Silver Medal&quot;</span>, <span class="string">&quot;Bronze Medal&quot;</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            arr.<span class="built_in">emplace_back</span>(</span><br><span class="line">                <span class="built_in">make_pair</span>(-score[i], i)); <span class="comment">//-score[i]ä»¥ä¿è¯sortæ’åºæ—¶ç”±å¤§åˆ°å°</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">sort</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>());<span class="comment">//æ ¹æ®arr[index].firstçš„å¤§å°æ’åº</span></span><br><span class="line">        <span class="function">vector&lt;string&gt; <span class="title">res</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &lt; <span class="number">3</span>) &#123;</span><br><span class="line">                res[arr[i].second] = rankTop[i];<span class="comment">//arr[i].secondè®°å½•åŸä¸‹æ ‡</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                res[arr[i].second] = <span class="built_in">to_string</span>(i + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åœ¨C++ä¸­ï¼Œ<code>arr</code>å¯ä»¥æ˜¯ä»»ä½•<u>æ”¯æŒéšæœºè®¿é—®è¿­ä»£å™¨çš„å®¹å™¨</u>ç±»å‹ï¼Œä¾‹å¦‚ï¼š</p><ul><li><code>std::vector</code></li><li><code>std::array</code></li><li><code>std::deque</code></li><li><code>std::string</code></li><li>å†…ç½®æ•°ç»„ï¼ˆä¾‹å¦‚<code>int arr[5]</code>ï¼‰</li></ul><p>è¿™äº›ç±»å‹éƒ½æ”¯æŒ<code>begin()</code>å’Œ<code>end()</code>æˆå‘˜å‡½æ•°ï¼Œå› æ­¤å¯ä»¥ä½œä¸º<code>sort</code>å‡½æ•°çš„å‚æ•°ã€‚</p><hr><p><code>vector</code>ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯<code>pair</code>ç±»å‹æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>sort</code>å‡½æ•°ã€‚å› ä¸º<code>vector&lt;pair&lt;T1, T2&gt;&gt;</code>æ”¯æŒéšæœºè®¿é—®è¿­ä»£å™¨ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½œä¸º<code>sort</code>å‡½æ•°çš„å‚æ•°,æ’åºé»˜è®¤æ˜¯æŒ‰ç…§<code>pair</code>çš„<mark>ç¬¬ä¸€ä¸ª</mark>å…ƒç´ è¿›è¡Œæ¯”è¾ƒçš„ã€‚å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œåˆ™ä¼šæ¯”è¾ƒç¬¬äºŒä¸ªå…ƒç´ ã€‚</p><hr><p>æ³•äºŒï¼šä½¿ç”¨map(ä¸æ˜¯unordered_map),å®ƒèƒ½å¤Ÿå®ç°è‡ªä¸»æ’åº</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">findRelativeRanks</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; score)</span> </span>&#123;</span><br><span class="line">        map&lt;<span class="type">int</span>, <span class="type">int</span>, greater&lt;<span class="type">int</span>&gt;&gt; mp; <span class="comment">//ç”±å¤§åˆ°å°,çœ‹ç¬¬ä¸€ä¸ªint</span></span><br><span class="line">        <span class="type">int</span> n = score.<span class="built_in">size</span>();</span><br><span class="line">        string rankTop[<span class="number">3</span>] = &#123;<span class="string">&quot;Gold Medal&quot;</span>, <span class="string">&quot;Silver Medal&quot;</span>, <span class="string">&quot;Bronze Medal&quot;</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            mp[score[i]] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">vector&lt;string&gt; <span class="title">res</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">auto</span> it = mp.<span class="built_in">begin</span>(); <span class="comment">// itæ˜¯è¿­ä»£å™¨</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &lt; <span class="number">3</span>) &#123;</span><br><span class="line">                res[(*it).second] = rankTop[i];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                res[(*it).second] = <span class="built_in">to_string</span>(i + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            it++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•ä¸‰ï¼šä½¿ç”¨set,æ–¹æ³•ä¸ä½¿ç”¨mapç±»ä¼¼</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">findRelativeRanks</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; score)</span> </span>&#123;</span><br><span class="line">        set&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;, greater&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt;&gt; s; <span class="comment">//ç”±å¤§åˆ°å°</span></span><br><span class="line">        <span class="type">int</span> n = score.<span class="built_in">size</span>();</span><br><span class="line">        string rankTop[<span class="number">3</span>] = &#123;<span class="string">&quot;Gold Medal&quot;</span>, <span class="string">&quot;Silver Medal&quot;</span>, <span class="string">&quot;Bronze Medal&quot;</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            s.<span class="built_in">emplace</span>(score[i], i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">vector&lt;string&gt; <span class="title">res</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">auto</span> it = s.<span class="built_in">begin</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &lt; <span class="number">3</span>) &#123;</span><br><span class="line">                res[(*it).second] = rankTop[i];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                res[(*it).second] = <span class="built_in">to_string</span>(i + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            it++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„çš„æ˜¯:1.set<mark>ä¸å­˜åœ¨</mark>ç±»ä¼¼s[i]çš„è¡¨ç¤ºå½¢å¼</p><p>2.å‘setä¸­åŠ å…¥å…ƒç´ åº”è¯¥ä½¿ç”¨<code>emplace</code>è€Œéempalce_back</p><p>3.å…ƒç´ å½¢å¼ä¸ºpairæ—¶ï¼Œå®šä¹‰åº”è¯¥ä¸º<code>set&lt;pair&lt;int, int&gt;, greater&lt;pair&lt;int, int&gt;&gt;&gt; s</code>ï¼Œè¿™é‡Œçš„æ’åºå†™æ³•ä¸æ˜¯greater<int>!<code>greater&lt;int&gt;</code>è¡¨ç¤º<mark>æŒ‰ç…§é”®å€¼</mark>è¿›è¡Œé™åºæ’åºï¼Œåªæœ‰mapã€vectorè¿™ç§å…ƒç´ å¯¹åº”é”®å€¼æ‰æ˜¯å›ºå®šçš„ï¼Œsetåˆ™éšæ—¶æ”¹å˜å…ƒç´ çš„ä½ç½®ï¼Œåœ¨å…ƒç´ ä¸ºintç±»å‹æ—¶greater<int>æ²¡æœ‰é—®é¢˜ï¼Œä½†åœ¨pair<int,int>ç±»å‹æ—¶ï¼Œä¼šå‡ºé”™ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<code>greater&lt;pair&lt;int, int&gt;&gt;</code>è€Œä¸æ˜¯<code>greater&lt;int&gt;</code>ï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¦æŒ‰ç…§åˆ†æ•°é™åºæ’åˆ—ï¼Œå¹¶ä¸”åœ¨åˆ†æ•°ç›¸åŒæ—¶ï¼ŒæŒ‰ç…§ç´¢å¼•å‡åºæ’åˆ—ã€‚ä½¿ç”¨<code>greater&lt;pair&lt;int, int&gt;&gt;</code>å¯ä»¥ç¡®ä¿é¦–å…ˆæŒ‰ç…§åˆ†æ•°é™åºæ’åˆ—ï¼Œç„¶åæŒ‰ç…§ç´¢å¼•å‡åºæ’åˆ—ã€‚ </p><hr><p>é¸½å·¢åŸç†ï¼š539æ³•äºŒã€‚ç”±é¸½å·¢åŸç†å¯çŸ¥ï¼Œå¦‚æœ timePoints çš„é•¿åº¦è¶…è¿‡ 1440ï¼Œé‚£ä¹ˆå¿…ç„¶ä¼šæœ‰ä¸¤ä¸ªç›¸åŒçš„æ—¶é—´ï¼Œæ­¤æ—¶å¯ä»¥ç›´æ¥è¿”å› 0.</p><h2 id="6-2-æ­£åˆ™è¡¨è¾¾å¼ï¼š537"><a href="#6-2-æ­£åˆ™è¡¨è¾¾å¼ï¼š537" class="headerlink" title="6-2.æ­£åˆ™è¡¨è¾¾å¼ï¼š537"></a>6-2.æ­£åˆ™è¡¨è¾¾å¼ï¼š537</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string <span class="title">complexNumberMultiply</span><span class="params">(string num1, string num2)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨äºåŒ¹é…&quot;+&quot;å’Œ&quot;i&quot;</span></span><br><span class="line">    <span class="function">regex <span class="title">re</span><span class="params">(<span class="string">&quot;\\+|i&quot;</span>)</span></span>; </span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯¹å¤æ•°å­—ç¬¦ä¸²è¿›è¡Œåˆ†å‰²ï¼Œå­˜å‚¨åˆ°vectorä¸­</span></span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">complex1</span><span class="params">(sregex_token_iterator(num1.begin(), num1.end(), re, <span class="number">-1</span>), std::sregex_token_iterator())</span></span>;</span><br><span class="line">    <span class="function">vector&lt;string&gt; <span class="title">complex2</span><span class="params">(sregex_token_iterator(num2.begin(), num2.end(), re, <span class="number">-1</span>), std::sregex_token_iterator())</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†åˆ†å‰²åçš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°éƒ¨åˆ†å’Œè™šæ•°éƒ¨åˆ†</span></span><br><span class="line">    <span class="type">int</span> real1 = <span class="built_in">stoi</span>(complex1[<span class="number">0</span>]);</span><br><span class="line">    <span class="type">int</span> imag1 = <span class="built_in">stoi</span>(complex1[<span class="number">1</span>]);</span><br><span class="line">    <span class="type">int</span> real2 = <span class="built_in">stoi</span>(complex2[<span class="number">0</span>]);</span><br><span class="line">    <span class="type">int</span> imag2 = <span class="built_in">stoi</span>(complex2[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¡ç®—ä¸¤ä¸ªå¤æ•°çš„ä¹˜ç§¯</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">to_string</span>(real1 * real2 - imag1 * imag2) + <span class="string">&quot;+&quot;</span> + <span class="built_in">to_string</span>(real1 * imag2 + imag1 * real2) + <span class="string">&quot;i&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="å…³äºæ­£åˆ™"><a href="#å…³äºæ­£åˆ™" class="headerlink" title="å…³äºæ­£åˆ™"></a>å…³äºæ­£åˆ™</h2><p>1.<strong>regex</strong>:<code>regex</code>æ˜¯C++æ ‡å‡†åº“ä¸­ç”¨äºå¤„ç†æ­£åˆ™è¡¨è¾¾å¼çš„ç±»ã€‚å®ƒå…è®¸ä½ ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥è¿›è¡Œå­—ç¬¦ä¸²çš„åŒ¹é…ã€æœç´¢å’Œæ›¿æ¢æ“ä½œã€‚é€šè¿‡ä½¿ç”¨<code>regex</code>ç±»ï¼Œä½ å¯ä»¥åœ¨C++ä¸­æ‰§è¡Œä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸å…³çš„æ“ä½œï¼Œä¾‹å¦‚æŸ¥æ‰¾æ¨¡å¼åŒ¹é…ã€æå–éƒ¨åˆ†å­—ç¬¦ä¸²ã€æ›¿æ¢æ–‡æœ¬ç­‰ã€‚éœ€è¦å¤´æ–‡ä»¶<code>&lt;regex&gt;</code></p><p>2.<strong>sregex_token_iterator</strong>:<code>sregex_token_iterator</code>æ˜¯C++æ ‡å‡†åº“ä¸­ç”¨äºåœ¨å­—ç¬¦ä¸²ä¸Šæ‰§è¡Œæ­£åˆ™è¡¨è¾¾å¼åˆ†è¯æ“ä½œçš„è¿­ä»£å™¨ã€‚å®ƒå…è®¸ä½ åœ¨å­—ç¬¦ä¸²ä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥è¿›è¡Œåˆ†è¯ï¼Œä»è€Œå°†å­—ç¬¦ä¸²åˆ†å‰²ä¸ºç¬¦åˆç‰¹å®šæ¨¡å¼çš„å­å­—ç¬¦ä¸²ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>sregex_token_iterator</code>æ¥å°†å¤æ•°å­—ç¬¦ä¸²æ ¹æ®æ­£åˆ™è¡¨è¾¾å¼åˆ†å‰²ä¸ºæ•´æ•°éƒ¨åˆ†å’Œè™šæ•°éƒ¨åˆ†ã€‚</p><p><mark>è¯­æ³•</mark>ï¼šsregex_token_iterator(èµ·å§‹ä½ç½®ï¼Œç»ˆæ­¢ä½ç½®ï¼Œæ­£åˆ™, è¿”å›çš„åŒ¹é…ç±»å‹ï¼ˆ-1æ˜¯è¿”å›æœªåŒ¹é…çš„éƒ¨åˆ†ï¼Œå³åˆ†éš”æ“ä½œï¼‰)ã€‚</p><p>ä¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨çš„é¦–åœ°å€ï¼Œ<code>std::sregex_token_iterator()</code>ä¼šè¿”å›ä¸€ä¸ªendã€‚vectorç”¨è¿™ä¸¤ä¸ªè¿­ä»£å™¨æ„é€ å¾—åˆ°ç¬¦åˆåŒ¹é…çš„åºåˆ—</p><p>3.<strong>æ­£åˆ™åŒ¹é…</strong>ï¼š<a href="https://www.cnblogs.com/yongchao/p/17165643.html">æ­£åˆ™è¡¨è¾¾å¼-èœé¸Ÿæ•™ç¨‹ - Theseusâ€˜Ship - åšå®¢å›­</a></p><p><a href="https://www.cnblogs.com/chen-cs/p/13387914.html">C++ æ­£åˆ™è¡¨è¾¾å¼ - Chenæ²‰å°˜ - åšå®¢å›­</a></p><p><a href="https://blog.51cto.com/u_12071646/3752288">[ç¬”è®°]c++åŸºç¡€å®è·µã€ŠäºŒã€‹regexæ­£åˆ™è¡¨è¾¾å¼_51CTOåšå®¢_c++ æ­£åˆ™è¡¨è¾¾å¼</a></p><p>4.<code>&quot;\\+|i&quot;</code> è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œ<code>\\+</code> åŒ¹é…åŠ å· â€œ+â€ï¼Œ<code>|</code> è¡¨ç¤ºæˆ–ï¼Œ<code>i</code> åŒ¹é…å­—ç¬¦ â€œiâ€ã€‚å› æ­¤ï¼Œè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ç”¨äºåŒ¹é…å¤æ•°å­—ç¬¦ä¸²ä¸­çš„åŠ å·å’Œè™šæ•°å•ä½ â€œiâ€ã€‚</p><p>  <code>&quot;(-?\\d+)/(\\d+)([+-])(-?\\d+)/(\\d+)&quot;</code>è¡¨ç¤ºä¸¤ä¸ªåˆ†æ•°ç›¸åŠ ã€‚</p><ul><li><code>-?</code>ï¼šè¡¨ç¤ºåŒ¹é…ä¸€ä¸ªå¯é€‰çš„å‡å·ï¼ˆè´Ÿå·ï¼‰ã€‚<code>-</code> è¡¨ç¤ºå‡å·ï¼Œ<code>?</code> è¡¨ç¤ºå‰é¢çš„å­—ç¬¦ï¼ˆè¿™é‡Œæ˜¯å‡å·ï¼‰åœ¨æ–‡æœ¬ä¸­å¯ä»¥å‡ºç° 0 æ¬¡æˆ– 1 æ¬¡ã€‚</li><li><code>\\d+</code>ï¼šè¡¨ç¤ºåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—ã€‚<code>\\d</code> è¡¨ç¤ºä¸€ä¸ªæ•°å­—ï¼Œ<code>+</code> è¡¨ç¤ºå‰é¢çš„å…ƒç´ ï¼ˆè¿™é‡Œæ˜¯æ•°å­—ï¼‰å¯ä»¥å‡ºç°ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚(<code>\\.</code>ç”¨æ¥è¡¨ç¤ºå°æ•°ç‚¹)</li><li><code>[+-]</code> æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ï¼Œç”¨äºåŒ¹é…åŠ å·(+)æˆ–å‡å·(-)ã€‚åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œæ–¹æ‹¬å· <code>[]</code> ç”¨äºè¡¨ç¤ºä¸€ä¸ªå­—ç¬¦é›†ï¼Œå…¶ä¸­åˆ—å‡ºçš„å­—ç¬¦ä¹‹ä¸€éƒ½å¯ä»¥åŒ¹é…æˆåŠŸã€‚å› æ­¤ï¼Œ<code>[+-]</code> è¡¨ç¤ºåŒ¹é…ä¸€ä¸ªåŠ å·æˆ–å‡å·ã€‚</li></ul><p>5.<strong>smatch</strong>:<code>smatch</code> æ˜¯ C++ æ ‡å‡†åº“ä¸­çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„ç»“æœã€‚å®ƒæ˜¯ <code>std::match_results</code> ç±»å‹çš„åˆ«åï¼Œç”¨äºä¿å­˜æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„ç»“æœå’Œå­åŒ¹é…çš„ä½ç½®ä¿¡æ¯ã€‚å½“ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…æ—¶ï¼ŒåŒ¹é…ç»“æœä¼šè¢«å­˜å‚¨åœ¨ <code>smatch</code> å¯¹è±¡ä¸­ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•æˆ–è¿­ä»£å™¨æ¥è®¿é—®åŒ¹é…çš„å­å­—ç¬¦ä¸²ã€‚åœ¨T592ä¸­ï¼Œä½¿ç”¨ <code>smatch</code> å¯¹è±¡æ¥å­˜å‚¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„ç»“æœï¼Œå¹¶ä»ä¸­æå–åˆ†æ•°çš„åˆ†å­ã€åˆ†æ¯ä»¥åŠæ“ä½œç¬¦ç­‰ä¿¡æ¯ã€‚</p><p>  <code>matches[5].str()</code> è¡¨ç¤ºä» <code>smatch</code> å¯¹è±¡ä¸­è·å–ç¬¬ 5 ä¸ªåŒ¹é…çš„å­å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶ä½œä¸º <code>std::string</code> ç±»å‹è¿”å›ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>matches[5]</code> ç”¨äºè®¿é—®æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ä¸­çš„ç¬¬ 5 ä¸ªæ•è·ç»„ï¼Œå³ç¬¬ 5 ä¸ªæ‹¬å·å†…åŒ¹é…çš„å†…å®¹ã€‚åœ¨T592ä¸­ï¼Œ<code>matches[5].str()</code> ç”¨äºè·å–ç¬¬ 5 ä¸ªæ•è·ç»„çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼<code>(\\d+)</code>ï¼Œè¿™ä¸ªæ•è·ç»„å¯¹åº”äºåˆ†æ•°çš„åˆ†æ¯ã€‚</p><p>  <code>matches.prefix().str()</code> è¡¨ç¤ºä» <code>smatch</code> å¯¹è±¡ä¸­è·å–<mark>åŒ¹é…çš„å­å­—ç¬¦ä¸²ä¹‹å‰</mark>çš„éƒ¨åˆ†ï¼Œå¹¶å°†å…¶ä½œä¸º <code>std::string</code> ç±»å‹è¿”å›ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>matches.prefix()</code> ç”¨äºè·å–åŒ¹é…å­å­—ç¬¦ä¸²ä¹‹å‰çš„éƒ¨åˆ†ï¼Œç„¶åé€šè¿‡ <code>str()</code> æ–¹æ³•å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚</p><p>  <code>matches.suffix().str()</code>åˆ™è¡¨ç¤ºä¹‹åçš„é‚£éƒ¨åˆ†ã€‚</p><p>6.<strong>ç”¨æ‹¬å·å°†æ­£åˆ™è¡¨è¾¾å¼åˆ†æˆå¤šç»„</strong></p><p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨æ‹¬å·å¯ä»¥å°†åŒ¹é…çš„éƒ¨åˆ†åˆ†ç»„ï¼Œè¿™æ ·åšæœ‰å‡ ä¸ªå¥½å¤„ï¼š</p><ul><li><p><strong>æå–å­åŒ¹é…</strong>ï¼šæ‹¬å·å¯ä»¥å°†åŒ¹é…çš„éƒ¨åˆ†åˆ†æˆå¤šä¸ªç»„ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°ä»æ•´ä¸ªåŒ¹é…ä¸­æå–å‡ºæˆ‘ä»¬æ„Ÿå…´è¶£çš„éƒ¨åˆ†ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ‹¬å·å°†åˆ†æ•°çš„åˆ†å­ã€åˆ†æ¯ä»¥åŠæ“ä½œç¬¦åˆ†æˆäº†å¤šä¸ªç»„ï¼Œæ–¹ä¾¿åç»­çš„å¤„ç†ã€‚</p></li><li><p><strong>æ–¹ä¾¿åç»­å¤„ç†</strong>ï¼šåˆ†ç»„å¯ä»¥è®©æˆ‘ä»¬æ›´æ–¹ä¾¿åœ°å¯¹åŒ¹é…åˆ°çš„å†…å®¹è¿›è¡Œåç»­å¤„ç†ï¼Œæ¯”å¦‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æå–å‡ºåˆ†æ•°çš„åˆ†å­å’Œåˆ†æ¯ï¼Œç„¶åè¿›è¡ŒåŠ å‡æ³•è¿ç®—ã€‚</p></li><li><p><strong>æ•è·åŒ¹é…ä¿¡æ¯</strong>ï¼šåˆ†ç»„å¯ä»¥æ•è·åŒ¹é…çš„ä¿¡æ¯ï¼Œæ–¹ä¾¿åç»­çš„å¼•ç”¨ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>matches[1]</code>ã€<code>matches[2]</code>ã€<code>matches[3]</code> ç­‰æ¥å¼•ç”¨ä¸åŒçš„åŒ¹é…ç»„ã€‚</p></li></ul><p>å› æ­¤ï¼Œä½¿ç”¨æ‹¬å·å°†æ­£åˆ™è¡¨è¾¾å¼çš„éƒ¨åˆ†åˆ†æˆå¤šä¸ªç»„å¯ä»¥ä½¿ä»£ç æ›´æ¸…æ™°ã€æ›´æ˜“äºç†è§£ï¼Œå¹¶ä¸”æ–¹ä¾¿åç»­çš„å¤„ç†å’Œæå–ã€‚</p><p>7.<strong>regex_search</strong>:<code>regex_search(expression, matches, pattern)</code>ç”¨äºåœ¨å­—ç¬¦ä¸² <code>expression</code> ä¸­æœç´¢æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ <code>pattern</code> çš„éƒ¨åˆ†ï¼Œå¹¶å°†åŒ¹é…çš„ç»“æœå­˜å‚¨åœ¨ <code>matches</code> å¯¹è±¡ä¸­ï¼Œä»¥ä¾¿åç»­çš„å¤„ç†å’Œæå–ã€‚</p><p>8.<strong>regex_match</strong>:<code>regex_match(string code, regex pattern)</code>ç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼åŒ¹é…ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä¼šå°è¯•ä½¿ç”¨ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼patternæ¥åŒ¹é…è¾“å…¥çš„ä»£ç å­—ç¬¦ä¸²codeï¼Œå¹¶è¿”å›boolå€¼ã€‚</p><p>9.<strong>ç›¸å…³å­¦ä¹ ç½‘ç«™</strong>ï¼š<a href="https://r2coding.com/#/?id=æ­£åˆ™è¡¨è¾¾å¼">Road 2 Coding</a></p><p>æ­£åˆ™è¡¨è¾¾å¼æµ‹è¯•ç½‘ç«™ï¼š<a href="https://regex101.com/">regex101</a></p><blockquote><p>åœ¨å¯¹æ€§èƒ½æ•æ„Ÿçš„ç¨‹åºä¸­å°½é‡é¿å…ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œå°½é‡ä½¿ç”¨æ›´åŠ é«˜æ•ˆã€æ›´åŠ ç®€å•çš„å­—ç¬¦ä¸²åŒ¹é…æ–¹æ¡ˆæ¥æé«˜ç¨‹åºæ€§èƒ½ã€‚åœ¨C++ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨<u>ECMAScriptè¯­æ³•</u>ä½œä¸ºé»˜è®¤è¯­æ³•ã€‚è¿™æ„å‘³ç€å®ƒä½¿ç”¨ç±»ä¼¼äºJavaScriptå’ŒPythonçš„æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•ã€‚ä½†C++çš„æ­£åˆ™è¡¨è¾¾å¼ä¸å…¶ä»–è¯­è¨€çš„æ­£åˆ™è¡¨è¾¾å¼ç›¸æ¯”ï¼Œ<u>ç¼ºå°‘äº†ç‹¬å æ¨¡å¼</u>ï¼Œåªæœ‰è´ªå©ªæ¨¡å¼å’Œéè´ªå©ªæ¨¡å¼(æ‡’æƒ°æ¨¡å¼)ï¼Œè¿™ä½¿å¾—åŒ¹é…æ‰€æ¶ˆè€—çš„æ—¶é—´æ›´é•¿ã€‚</p><p>ECMAScriptè¯­æ³•ï¼š<a href="https://zhuanlan.zhihu.com/p/634341574">Modern C++ å­¦ä¹ ç¬”è®°â€”â€”æ­£åˆ™è¡¨è¾¾å¼</a></p><p><a href="https://zhuanlan.zhihu.com/p/38278481/">è—åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„é™·é˜±â€”çŸ¥ä¹</a></p><p><a href="https://www.cnblogs.com/lixuwu/p/16201714.html">æ­£åˆ™è¡¨è¾¾å¼å¼•èµ·çš„æ€§èƒ½ä¸‹é™â€”åšå®¢å›­</a></p></blockquote><hr><h2 id="æ­£åˆ™è§„åˆ™æ±‡æ€»"><a href="#æ­£åˆ™è§„åˆ™æ±‡æ€»" class="headerlink" title="æ­£åˆ™è§„åˆ™æ±‡æ€»"></a>æ­£åˆ™è§„åˆ™æ±‡æ€»</h2><hr><h2 id="6-3-åˆ†æ•°åŠ å‡è¿ç®—ï¼š592"><a href="#6-3-åˆ†æ•°åŠ å‡è¿ç®—ï¼š592" class="headerlink" title="6-3.åˆ†æ•°åŠ å‡è¿ç®—ï¼š592"></a>6-3.åˆ†æ•°åŠ å‡è¿ç®—ï¼š592</h2><p>æ³•ä¸€ï¼šæ¨¡æ‹Ÿï¼Œéå†æ•´ä¸ªå­—ç¬¦ä¸²</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">fractionAddition</span><span class="params">(string expression)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = expression.<span class="built_in">size</span>(), index = <span class="number">0</span>;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> x = <span class="number">0</span>, y = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (index &lt; n) &#123;</span><br><span class="line">            <span class="comment">//åˆ†å­</span></span><br><span class="line">            <span class="type">long</span> <span class="type">long</span> x1 = <span class="number">0</span>, sign = <span class="number">1</span>; <span class="comment">// x1è®°å½•å½“å‰æ•°å­—,signè®°å½•æ­£è´Ÿå·</span></span><br><span class="line">            <span class="keyword">if</span> (expression[index] == <span class="string">&#x27;-&#x27;</span> || expression[index] == <span class="string">&#x27;+&#x27;</span>) &#123;</span><br><span class="line">                sign = expression[index] == <span class="string">&#x27;-&#x27;</span> ? <span class="number">-1</span> : <span class="number">1</span>;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (index &lt; n &amp;&amp; <span class="built_in">isdigit</span>(expression[index])) &#123; <span class="comment">// index&lt;nåˆ«å¿˜äº†</span></span><br><span class="line">                x1 = x1 * <span class="number">10</span> + expression[index] - <span class="string">&#x27;0&#x27;</span>;       <span class="comment">//æ›´æ–°x1</span></span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//é‡åˆ°â€œ/â€</span></span><br><span class="line">            x1 *= sign; <span class="comment">//æœ€åæŠŠç¬¦å·å¸¦ä¸Š</span></span><br><span class="line">            index++;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//åˆ†æ¯.å†æ¬¡é‡åˆ°+/-æ—¶åˆ™ç»“æŸ</span></span><br><span class="line">            <span class="type">long</span> <span class="type">long</span> y1 = <span class="number">0</span>; <span class="comment">//åˆ†æ¯ä¸å¯èƒ½æœ‰ç¬¦å·ï¼Œæ‰€ä»¥æ— éœ€sign</span></span><br><span class="line">            <span class="keyword">while</span> (index &lt; n &amp;&amp; <span class="built_in">isdigit</span>(expression[index])) &#123;</span><br><span class="line">                y1 = y1 * <span class="number">10</span> + expression[index] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//æ›´æ–°å½“å‰æ•°å­—(å†æ¬¡é‡åˆ°â€œ+/-â€æ—¶),x/y+=x1/y1</span></span><br><span class="line">            x = x * y1 + x1 * y;</span><br><span class="line">            y *= y1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;0/1&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> g = <span class="built_in">gcd</span>(<span class="built_in">abs</span>(x), y); <span class="comment">//è·å–æœ€å¤§å…¬çº¦æ•°ï¼Œç”¨æ¥åŒ–ç®€åˆ†æ•°</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">to_string</span>(x / g) + <span class="string">&quot;/&quot;</span> + <span class="built_in">to_string</span>(y / g);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šæ­£åˆ™åŒ¹é…,è¯¥è§£æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º$ O(n^2)$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º $O(1)$,ä½†æ³•ä¸€æ—¶é—´å¤æ‚åº¦ä»…ä¸º$O(n+logâ¡C)$ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;regex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">performOperation</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> den1, <span class="type">int</span> num2, <span class="type">int</span> den2, <span class="type">char</span> op)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> numerator, denominator;</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="string">&#x27;+&#x27;</span>) &#123;</span><br><span class="line">            numerator = num1 * den2 + num2 * den1;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            numerator = num1 * den2 - num2 * den1;</span><br><span class="line">        &#125;</span><br><span class="line">        denominator = den1 * den2;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">toLowestTerms</span>(numerator, denominator);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">string <span class="title">toLowestTerms</span><span class="params">(<span class="type">int</span> numerator, <span class="type">int</span> denominator)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> divisor = <span class="built_in">gcd</span>(<span class="built_in">abs</span>(numerator), <span class="built_in">abs</span>(denominator));</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">to_string</span>(numerator / divisor) + <span class="string">&quot;/&quot;</span> +</span><br><span class="line">               <span class="built_in">to_string</span>(denominator / divisor);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">string <span class="title">fractionAddition</span><span class="params">(string expression)</span> </span>&#123;</span><br><span class="line">        <span class="function">regex <span class="title">pattern</span><span class="params">(<span class="string">&quot;(-?\\d+)/(\\d+)([+-])(-?\\d+)/(\\d+)&quot;</span>)</span></span>;</span><br><span class="line">        smatch matches;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">regex_search</span>(expression, matches, pattern)) &#123;</span><br><span class="line">            <span class="type">int</span> num1 = std::<span class="built_in">stoi</span>(matches[<span class="number">1</span>].<span class="built_in">str</span>());</span><br><span class="line">            <span class="type">int</span> den1 = std::<span class="built_in">stoi</span>(matches[<span class="number">2</span>].<span class="built_in">str</span>());</span><br><span class="line">            <span class="type">int</span> num2 = std::<span class="built_in">stoi</span>(matches[<span class="number">4</span>].<span class="built_in">str</span>());</span><br><span class="line">            <span class="type">int</span> den2 = std::<span class="built_in">stoi</span>(matches[<span class="number">5</span>].<span class="built_in">str</span>());</span><br><span class="line">            <span class="type">char</span> op = matches[<span class="number">3</span>].<span class="built_in">str</span>()[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">            expression = matches.<span class="built_in">prefix</span>().<span class="built_in">str</span>() +</span><br><span class="line">                         <span class="built_in">performOperation</span>(num1, den1, num2, den2, op) +</span><br><span class="line">                         matches.<span class="built_in">suffix</span>().<span class="built_in">str</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> expression;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å…³äºæœ€å¤§å…¬çº¦æ•°gcdå’Œæœ€å°å…¬å€æ•°lcm:</p><p>(Greatest Common Divisorã€Least Common Multiple)</p><p>éœ€è¦çš„å¤´æ–‡ä»¶ä¸º<code>&lt;numeric&gt;</code></p><h2 id="6-4-åˆ†æ•°åˆ°å°æ•°-åˆ†æ•°ä¹˜é™¤è¿ç®—-ï¼š166"><a href="#6-4-åˆ†æ•°åˆ°å°æ•°-åˆ†æ•°ä¹˜é™¤è¿ç®—-ï¼š166" class="headerlink" title="6-4.åˆ†æ•°åˆ°å°æ•°(åˆ†æ•°ä¹˜é™¤è¿ç®—)ï¼š166"></a>6-4.åˆ†æ•°åˆ°å°æ•°(åˆ†æ•°ä¹˜é™¤è¿ç®—)ï¼š166</h2><p>ä¸¤ä¸ªæ•´æ•°ç›¸é™¤ï¼Œç»“æœä¸€å®šæ˜¯æœ‰ç†æ•°ï¼Œä¸€å®šæœ‰å¾ªç¯ã€‚ä½¿ç”¨äº†å“ˆå¸Œè¡¨å­˜å‚¨ç«–å¼æ¨¡æ‹Ÿè¿‡ç¨‹ä¸­å‡ºç°è¿‡çš„ä½™æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">fractionToDecimal</span><span class="params">(<span class="type">int</span> numerator, <span class="type">int</span> denominator)</span> </span>&#123;</span><br><span class="line">        <span class="type">long</span> numeratorLong = numerator;</span><br><span class="line">        <span class="type">long</span> denominatorLong = denominator;</span><br><span class="line">        <span class="keyword">if</span> (numeratorLong % denominatorLong == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">to_string</span>(numeratorLong / denominatorLong);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        string ans;</span><br><span class="line">        <span class="keyword">if</span> (numeratorLong &lt; <span class="number">0</span> ^ denominatorLong &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            ans.<span class="built_in">push_back</span>(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ•´æ•°éƒ¨åˆ†</span></span><br><span class="line">        numeratorLong = <span class="built_in">abs</span>(numeratorLong);</span><br><span class="line">        denominatorLong = <span class="built_in">abs</span>(denominatorLong);</span><br><span class="line">        <span class="type">long</span> integerPart = numeratorLong / denominatorLong;</span><br><span class="line">        ans += <span class="built_in">to_string</span>(integerPart);</span><br><span class="line">        ans.<span class="built_in">push_back</span>(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°æ•°éƒ¨åˆ†</span></span><br><span class="line">        string fractionPart;</span><br><span class="line">        unordered_map&lt;<span class="type">long</span>, <span class="type">int</span>&gt; remainderIndexMap;</span><br><span class="line">        <span class="type">long</span> remainder = numeratorLong % denominatorLong;</span><br><span class="line">        <span class="type">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (remainder != <span class="number">0</span> &amp;&amp; !remainderIndexMap.<span class="built_in">count</span>(remainder)) &#123;</span><br><span class="line">            remainderIndexMap[remainder] = index;</span><br><span class="line">            remainder *= <span class="number">10</span>;</span><br><span class="line">            fractionPart += <span class="built_in">to_string</span>(remainder / denominatorLong);</span><br><span class="line">            remainder %= denominatorLong;</span><br><span class="line">            index++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (remainder != <span class="number">0</span>) &#123; <span class="comment">// æœ‰å¾ªç¯èŠ‚</span></span><br><span class="line">            <span class="type">int</span> insertIndex = remainderIndexMap[remainder];</span><br><span class="line">            fractionPart = fractionPart.<span class="built_in">substr</span>(<span class="number">0</span>,insertIndex) + <span class="string">&#x27;(&#x27;</span> + fractionPart.<span class="built_in">substr</span>(insertIndex);</span><br><span class="line">            fractionPart.<span class="built_in">push_back</span>(<span class="string">&#x27;)&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        ans += fractionPart;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="6-5-æ±‚è§£æ–¹ç¨‹ï¼š640"><a href="#6-5-æ±‚è§£æ–¹ç¨‹ï¼š640" class="headerlink" title="6-5.æ±‚è§£æ–¹ç¨‹ï¼š640"></a>6-5.æ±‚è§£æ–¹ç¨‹ï¼š640</h2><p><img src="https://s2.loli.net/2024/01/23/NfTy7ME3SJHCcKV.png" alt=""></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">solveEquation</span><span class="params">(string equation)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> index = <span class="number">0</span>, n = equation.<span class="built_in">size</span>(), sign1 = <span class="number">1</span>; <span class="comment">// sign1è®°å½•ç­‰å¼å³è¾¹ç³»æ•°</span></span><br><span class="line">        <span class="type">int</span> factor = <span class="number">0</span>, val = <span class="number">0</span>; <span class="comment">//è®°å½•å˜é‡çš„ç³»æ•°ï¼Œå¸¸é‡å€¼</span></span><br><span class="line">        <span class="keyword">while</span> (index &lt; n) &#123;</span><br><span class="line">            <span class="keyword">if</span> (equation[index] == <span class="string">&#x27;=&#x27;</span>) &#123;</span><br><span class="line">                sign1 = <span class="number">-1</span>; <span class="comment">//ç­‰å¼å³è¾¹é»˜è®¤ç³»æ•°ä¸ºè´Ÿ</span></span><br><span class="line">                index++;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> sign2 = sign1, number = <span class="number">0</span>;</span><br><span class="line">            <span class="type">bool</span> valid = <span class="literal">false</span>; <span class="comment">//è®°å½•numberæ˜¯å¦æœ‰æ•ˆ</span></span><br><span class="line">            <span class="keyword">if</span> (equation[index] == <span class="string">&#x27;-&#x27;</span> ||</span><br><span class="line">                equation[index] == <span class="string">&#x27;+&#x27;</span>) &#123; <span class="comment">//å»æ‰å‰é¢çš„ç¬¦å·</span></span><br><span class="line">                sign2 = (equation[index] == <span class="string">&#x27;-&#x27;</span>) ? -sign1 : sign1;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (index &lt; n &amp;&amp; <span class="built_in">isdigit</span>(equation[index])) &#123;</span><br><span class="line">                number = number * <span class="number">10</span> + equation[index] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                index++;</span><br><span class="line">                valid = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (index &lt; n &amp;&amp; equation[index] == <span class="string">&#x27;x&#x27;</span>) &#123; <span class="comment">//å˜é‡</span></span><br><span class="line">                factor += valid ? sign2 * number : sign2;</span><br><span class="line">                index++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">//æ•°å€¼</span></span><br><span class="line">                val += sign2 * number;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!factor) &#123;  <span class="comment">//factor * x + val = 0</span></span><br><span class="line">            <span class="keyword">return</span> val == <span class="number">0</span> ? <span class="string">&quot;Infinite solutions&quot;</span> : <span class="string">&quot;No solution&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;x=&quot;</span> + <span class="built_in">to_string</span>(-val / factor);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="6-6-å¤–è§‚æ•°åˆ—ï¼š38"><a href="#6-6-å¤–è§‚æ•°åˆ—ï¼š38" class="headerlink" title="6-6.å¤–è§‚æ•°åˆ—ï¼š38"></a>6-6.å¤–è§‚æ•°åˆ—ï¼š38</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">countAndSay</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        string prev = <span class="string">&quot;1&quot;</span>; <span class="comment">//è®°å½•ä¸‹å‰ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä»€ä¹ˆï¼Œé»˜è®¤ä¸ºç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²&quot;1&quot;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            string curr = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="type">int</span> start = <span class="number">0</span>, pos = <span class="number">0</span>;<span class="comment">//åŒæŒ‡é’ˆ</span></span><br><span class="line">            <span class="keyword">while</span> (pos &lt; prev.<span class="built_in">size</span>()) &#123;</span><br><span class="line">                <span class="keyword">while</span> (pos &lt; prev.<span class="built_in">size</span>() &amp;&amp; prev[pos] == prev[start]) &#123;</span><br><span class="line">                    pos++;</span><br><span class="line">                &#125;</span><br><span class="line">                curr += <span class="built_in">to_string</span>(pos - start) + prev[start];</span><br><span class="line">                start = pos; <span class="comment">//æ›´æ–°start</span></span><br><span class="line">            &#125;</span><br><span class="line">            prev = curr; <span class="comment">//æ›´æ–°prevä¸ºä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prev;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>6-6.è‡ªå®šä¹‰å­—ç¬¦ä¸²è½¬æ¢æ•´æ•°ï¼š8</p><p>æ³•ä¸€ï¼šä¾æ¬¡éå†</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">strToInt</span><span class="params">(string str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (str.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> index = <span class="number">0</span>, n = str.<span class="built_in">size</span>(), sign = <span class="number">1</span>, res = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// å¤„ç†å‰ç½®ç©ºæ ¼</span></span><br><span class="line">        <span class="keyword">while</span> (index &lt; n &amp;&amp; str[index] == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">            ++index;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¤„ç†ç¬¦å·ï¼Œåº”è¯¥ç»§ç»­å‘åï¼Œå› ä¸º+-12çš„ç»“æœåº”ä¸º0</span></span><br><span class="line">        <span class="keyword">if</span> (index &lt; n &amp;&amp; (str[index] == <span class="string">&#x27;+&#x27;</span> || str[index] == <span class="string">&#x27;-&#x27;</span>)) &#123;</span><br><span class="line">            sign = str[index++] == <span class="string">&#x27;+&#x27;</span> ? <span class="number">1</span> : <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¤„ç†æ•°å­—</span></span><br><span class="line">        <span class="keyword">while</span> (index &lt; n &amp;&amp; <span class="built_in">isdigit</span>(str[index])) &#123;</span><br><span class="line">            <span class="type">int</span> digit = str[index++] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            <span class="comment">// åˆ¤æ–­æ˜¯å¦æº¢å‡º</span></span><br><span class="line">            <span class="keyword">if</span> (res &gt; (INT_MAX - digit) / <span class="number">10</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> sign == <span class="number">1</span> ? INT_MAX : INT_MIN;</span><br><span class="line">            &#125;</span><br><span class="line">            res = res * <span class="number">10</span> + digit;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res * sign;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æœ¬é¢˜å…³é”®ï¼šå¤„ç†æ•´æ•°æº¢å‡ºçš„æƒ…å†µï¼ŒåŸé¢˜ï¼šå¦‚æœæ•´æ•°æ•°è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ $[âˆ’2^{31},  2^{31} âˆ’ 1]$ ï¼Œéœ€è¦æˆªæ–­è¿™ä¸ªæ•´æ•°ï¼Œä½¿å…¶ä¿æŒåœ¨è¿™ä¸ªèŒƒå›´å†…ã€‚å…·ä½“æ¥è¯´ï¼Œå°äº $2^{31}$ çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º $2^{31}$ ï¼Œå¤§äº $2^{31}âˆ’ 1$ çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º $2^{31}âˆ’ 1 $ã€‚</p><hr><p>æ³•äºŒï¼šè‡ªåŠ¨æœº</p><p><img src="https://s2.loli.net/2024/01/24/TAa7d6Hgjy4iYqC.png" alt=""></p><p><img src="https://s2.loli.net/2024/01/24/QxOmc2DHh3U51nf.png" alt=""></p><p><img src="https://s2.loli.net/2024/01/24/d13ieFt2Aa4SQIX.png" alt=""></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Automaton</span> &#123;</span><br><span class="line">    string state = <span class="string">&quot;start&quot;</span>;</span><br><span class="line">    unordered_map&lt;string, vector&lt;string&gt;&gt; table = &#123;</span><br><span class="line">        &#123;<span class="string">&quot;start&quot;</span>, &#123;<span class="string">&quot;start&quot;</span>, <span class="string">&quot;signed&quot;</span>, <span class="string">&quot;in_number&quot;</span>, <span class="string">&quot;end&quot;</span>&#125;&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;signed&quot;</span>, &#123;<span class="string">&quot;end&quot;</span>, <span class="string">&quot;end&quot;</span>, <span class="string">&quot;in_number&quot;</span>, <span class="string">&quot;end&quot;</span>&#125;&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;in_number&quot;</span>, &#123;<span class="string">&quot;end&quot;</span>, <span class="string">&quot;end&quot;</span>, <span class="string">&quot;in_number&quot;</span>, <span class="string">&quot;end&quot;</span>&#125;&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;end&quot;</span>, &#123;<span class="string">&quot;end&quot;</span>, <span class="string">&quot;end&quot;</span>, <span class="string">&quot;end&quot;</span>, <span class="string">&quot;end&quot;</span>&#125;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">get_col</span><span class="params">(<span class="type">char</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">isspace</span>(c)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (c == <span class="string">&#x27;+&#x27;</span> <span class="keyword">or</span> c == <span class="string">&#x27;-&#x27;</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">isdigit</span>(c)) <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> sign = <span class="number">1</span>;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">get</span><span class="params">(<span class="type">char</span> c)</span> </span>&#123;</span><br><span class="line">        state = table[state][<span class="built_in">get_col</span>(c)];</span><br><span class="line">        <span class="keyword">if</span> (state == <span class="string">&quot;in_number&quot;</span>) &#123;</span><br><span class="line">            ans = ans * <span class="number">10</span> + c - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            ans = sign == <span class="number">1</span> ? <span class="built_in">min</span>(ans, (<span class="type">long</span> <span class="type">long</span>)INT_MAX) : <span class="built_in">min</span>(ans, -(<span class="type">long</span> <span class="type">long</span>)INT_MIN);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (state == <span class="string">&quot;signed&quot;</span>)</span><br><span class="line">            sign = c == <span class="string">&#x27;+&#x27;</span> ? <span class="number">1</span> : <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">myAtoi</span><span class="params">(string str)</span> </span>&#123;</span><br><span class="line">        Automaton automaton;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> c : str)</span><br><span class="line">            automaton.<span class="built_in">get</span>(c);</span><br><span class="line">        <span class="keyword">return</span> automaton.sign * automaton.ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å…³äºè‡ªåŠ¨æœº"><a href="#å…³äºè‡ªåŠ¨æœº" class="headerlink" title="å…³äºè‡ªåŠ¨æœº"></a>å…³äºè‡ªåŠ¨æœº</h2><p>åœ¨C++ä¸­ï¼Œè‡ªåŠ¨æœºé€šå¸¸æŒ‡çš„æ˜¯æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆFinite State Machineï¼ŒFSMï¼‰ï¼Œå®ƒæ˜¯ä¸€ç§æŠ½è±¡çš„æ•°å­¦æ¨¡å‹ï¼Œç”¨äºæè¿°ç³»ç»Ÿçš„çŠ¶æ€åŠçŠ¶æ€ä¹‹é—´çš„è½¬ç§»ã€‚</p><p>ä¸€ä¸ªç®€å•çš„æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ç»„æˆï¼š</p><ul><li>ä¸€ç»„çŠ¶æ€ï¼šæè¿°ç³»ç»Ÿå¯èƒ½å¤„äºçš„çŠ¶æ€ã€‚</li><li>ä¸€ç»„è½¬ç§»ï¼šæè¿°çŠ¶æ€ä¹‹é—´çš„è½¬ç§»æ¡ä»¶ã€‚</li><li>åˆå§‹çŠ¶æ€ï¼šæè¿°ç³»ç»Ÿçš„åˆå§‹çŠ¶æ€ã€‚</li><li>ç»ˆæ­¢çŠ¶æ€ï¼šæè¿°ç³»ç»Ÿçš„ç»“æŸçŠ¶æ€ã€‚</li></ul><p>åœ¨C++ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»å’Œæšä¸¾ç±»å‹æ¥å®ç°æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†ä¸€ä¸ªæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼Œç”¨äºæ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„ç¯çš„çŠ¶æ€å˜åŒ–ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æšä¸¾ç±»å‹è¡¨ç¤ºç¯çš„çŠ¶æ€</span></span><br><span class="line"><span class="keyword">enum class</span> <span class="title class_">LightState</span> &#123;</span><br><span class="line">    OFF,</span><br><span class="line">    ON,</span><br><span class="line">    DIM</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LightStateMachine</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    LightState state;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">LightStateMachine</span>() : <span class="built_in">state</span>(LightState::OFF) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">transition</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (state) &#123;</span><br><span class="line">            <span class="keyword">case</span> LightState::OFF:</span><br><span class="line">                state = LightState::ON;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> LightState::ON:</span><br><span class="line">                state = LightState::DIM;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> LightState::DIM:</span><br><span class="line">                state = LightState::OFF;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">LightState <span class="title">getState</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    LightStateMachine light;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Initial state: &quot;</span> &lt;&lt; <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(light.<span class="built_in">getState</span>()) &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    light.<span class="built_in">transition</span>();</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;State after transition: &quot;</span> &lt;&lt; <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(light.<span class="built_in">getState</span>()) &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    light.<span class="built_in">transition</span>();</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;State after transition: &quot;</span> &lt;&lt; <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(light.<span class="built_in">getState</span>()) &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç®€å•çš„æœ‰é™çŠ¶æ€è‡ªåŠ¨æœº <code>LightStateMachine</code>ï¼Œç”¨äºæ¨¡æ‹Ÿç¯çš„çŠ¶æ€å˜åŒ–ã€‚é€šè¿‡è°ƒç”¨ <code>transition</code> æ–¹æ³•ï¼ŒçŠ¶æ€æœºä¼šæ ¹æ®å½“å‰çŠ¶æ€è¿›è¡Œè½¬ç§»ï¼Œå¹¶å¯ä»¥é€šè¿‡ <code>getState</code> æ–¹æ³•è·å–å½“å‰çŠ¶æ€ã€‚</p><h2 id="6-6-æ•´æ•°è½¬ç½—é©¬æ•°å­—ï¼š12"><a href="#6-6-æ•´æ•°è½¬ç½—é©¬æ•°å­—ï¼š12" class="headerlink" title="6-6.æ•´æ•°è½¬ç½—é©¬æ•°å­—ï¼š12"></a>6-6.æ•´æ•°è½¬ç½—é©¬æ•°å­—ï¼š12</h2><p>æ³•ä¸€ï¼šæ¨¡æ‹Ÿ</p><p>æ³¨æ„ï¼Œè¿™é‡Œ<mark>ä¸èƒ½</mark>ç”¨unordered_mapï¼Œå› ä¸ºå…¶éå†çš„æ—¶å€™æ˜¯ä¹±åºçš„ï¼Œåº”è¯¥ç”¨èƒ½è®¾ç½®æ’åˆ—è§„åˆ™çš„mapï¼Œç”¨<code>greater&lt;int&gt;</code>ä¿è¯ç”±å¤§åˆ°å°éå†ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">const</span> map&lt;<span class="type">int</span>, string, greater&lt;<span class="type">int</span>&gt;&gt; valueSymbols = &#123;</span><br><span class="line">        &#123;<span class="number">1000</span>, <span class="string">&quot;M&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="number">900</span>,  <span class="string">&quot;CM&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="number">500</span>,  <span class="string">&quot;D&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="number">400</span>,  <span class="string">&quot;CD&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="number">100</span>,  <span class="string">&quot;C&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="number">90</span>,   <span class="string">&quot;XC&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="number">50</span>,   <span class="string">&quot;L&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="number">40</span>,   <span class="string">&quot;XL&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="number">10</span>,   <span class="string">&quot;X&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="number">9</span>,    <span class="string">&quot;IX&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="number">5</span>,    <span class="string">&quot;V&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="number">4</span>,    <span class="string">&quot;IV&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="number">1</span>,    <span class="string">&quot;I&quot;</span>&#125;,</span><br><span class="line">    &#125;;</span><br><span class="line"><span class="comment">//ä½¿ç”¨äº†greater&lt;int&gt;æ‰èƒ½ä¿è¯éå†é¡ºåºæ˜¯æŒ‰ç…§å½“å‰1000-&gt;500-&gt;...</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">intToRoman</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;</span><br><span class="line">        string roman;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; [value, symbol] : valueSymbols) &#123; <span class="comment">//æ³¨æ„autoå‰é¢è¿™é‡Œéœ€è¦åŠ ä¸Šconst</span></span><br><span class="line">            <span class="keyword">while</span> (num &gt;= value) &#123;</span><br><span class="line">                num -= value;</span><br><span class="line">                roman += symbol;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> roman;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ å‡ä¸ºpairç±»å‹ã€‚éå†æ•°ç»„çš„é¡ºåºå¹¶ä¸æ˜¯ä¹±åºã€‚pairæ•°ç»„é™¤äº†ç¬¬ä¸€è¡Œçš„å®šä¹‰ä»¥å¤–ï¼Œå…¶ä»–ä»£ç å‡ ä¹æ²¡æœ‰åŒºåˆ«ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> pair&lt;<span class="type">int</span>, string&gt; valueSymbols[] = &#123;</span><br><span class="line">    &#123;<span class="number">1000</span>, <span class="string">&quot;M&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">900</span>,  <span class="string">&quot;CM&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">500</span>,  <span class="string">&quot;D&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">400</span>,  <span class="string">&quot;CD&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">100</span>,  <span class="string">&quot;C&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">90</span>,   <span class="string">&quot;XC&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">50</span>,   <span class="string">&quot;L&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">40</span>,   <span class="string">&quot;XL&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">10</span>,   <span class="string">&quot;X&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">9</span>,    <span class="string">&quot;IX&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">5</span>,    <span class="string">&quot;V&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">4</span>,    <span class="string">&quot;IV&quot;</span>&#125;,</span><br><span class="line">    &#123;<span class="number">1</span>,    <span class="string">&quot;I&quot;</span>&#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">intToRoman</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;</span><br><span class="line">        string roman;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span> &amp;[value, symbol] : valueSymbols) &#123;</span><br><span class="line">            <span class="keyword">while</span> (num &gt;= value) &#123;</span><br><span class="line">                num -= value;</span><br><span class="line">                roman += symbol;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> roman;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šç¡¬ç¼–ç æ•°å­—</p><p><img src="https://s2.loli.net/2024/01/24/wqVmOtoUaXb4H7A.png" alt=""></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> string thousands[] = &#123;<span class="string">&quot;&quot;</span>, <span class="string">&quot;M&quot;</span>, <span class="string">&quot;MM&quot;</span>, <span class="string">&quot;MMM&quot;</span>&#125;;</span><br><span class="line"><span class="type">const</span> string hundreds[]  = &#123;<span class="string">&quot;&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;CC&quot;</span>, <span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;CD&quot;</span>, <span class="string">&quot;D&quot;</span>, <span class="string">&quot;DC&quot;</span>, <span class="string">&quot;DCC&quot;</span>, <span class="string">&quot;DCCC&quot;</span>, <span class="string">&quot;CM&quot;</span>&#125;;</span><br><span class="line"><span class="type">const</span> string tens[]      = &#123;<span class="string">&quot;&quot;</span>, <span class="string">&quot;X&quot;</span>, <span class="string">&quot;XX&quot;</span>, <span class="string">&quot;XXX&quot;</span>, <span class="string">&quot;XL&quot;</span>, <span class="string">&quot;L&quot;</span>, <span class="string">&quot;LX&quot;</span>, <span class="string">&quot;LXX&quot;</span>, <span class="string">&quot;LXXX&quot;</span>, <span class="string">&quot;XC&quot;</span>&#125;;</span><br><span class="line"><span class="type">const</span> string ones[]      = &#123;<span class="string">&quot;&quot;</span>, <span class="string">&quot;I&quot;</span>, <span class="string">&quot;II&quot;</span>, <span class="string">&quot;III&quot;</span>, <span class="string">&quot;IV&quot;</span>, <span class="string">&quot;V&quot;</span>, <span class="string">&quot;VI&quot;</span>, <span class="string">&quot;VII&quot;</span>, <span class="string">&quot;VIII&quot;</span>, <span class="string">&quot;IX&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">intToRoman</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> thousands[num / <span class="number">1000</span>] + hundreds[num % <span class="number">1000</span> / <span class="number">100</span>] + tens[num % <span class="number">100</span> / <span class="number">10</span>] + ones[num % <span class="number">10</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="6-7-æ¯”è¾ƒç‰ˆæœ¬å·ï¼š165"><a href="#6-7-æ¯”è¾ƒç‰ˆæœ¬å·ï¼š165" class="headerlink" title="6-7.æ¯”è¾ƒç‰ˆæœ¬å·ï¼š165"></a>6-7.æ¯”è¾ƒç‰ˆæœ¬å·ï¼š165</h2><p>æ³¨æ„å…¶ä¸­ç»†èŠ‚å³å¯ï¼ŒåŒæŒ‡é’ˆæ³•ï¼Œå°½å¯èƒ½ç®€åŒ–ä»£ç </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">compareVersion</span><span class="params">(string version1, string version2)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> pos1 = <span class="number">0</span>, pos2 = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> n1 = version1.<span class="built_in">length</span>(), n2 = version2.<span class="built_in">length</span>();</span><br><span class="line">        <span class="keyword">while</span> (pos1 &lt; n1 || pos2 &lt; n2) &#123; <span class="comment">//ç”¨æˆ–ï¼Œéœ€è¦æŠŠä¸¤ä¸ªéƒ½éå†å®Œ</span></span><br><span class="line">            <span class="type">long</span> <span class="type">int</span> v1 = <span class="number">0</span>, v2 = <span class="number">0</span>; <span class="comment">//ç‰ˆæœ¬å·å¯èƒ½æ˜¯&quot;1.2147483647&quot;</span></span><br><span class="line">            <span class="keyword">while</span> (pos1 &lt; n1 &amp;&amp; version1[pos1] != <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">                v1 = v1 * <span class="number">10</span> + version1[pos1++] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (pos2 &lt; n2 &amp;&amp; version2[pos2] != <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">                v2 = v2 * <span class="number">10</span> + version2[pos2++] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (v1 != v2) &#123;</span><br><span class="line">                <span class="keyword">return</span> v1 &gt; v2 ? <span class="number">1</span> : <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            pos1++;</span><br><span class="line">            pos2++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>stoi(stringVar)</code>ä¸­ï¼ŒstringVarä¸èƒ½ä¸ºç©ºã€‚</p><h2 id="6-8-ç¥å¥‡å­—ç¬¦ä¸²ï¼š481"><a href="#6-8-ç¥å¥‡å­—ç¬¦ä¸²ï¼š481" class="headerlink" title="6-8.ç¥å¥‡å­—ç¬¦ä¸²ï¼š481"></a>6-8.ç¥å¥‡å­—ç¬¦ä¸²ï¼š481</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">magicalString</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        string s = <span class="string">&quot;\1\2\2&quot;</span>; <span class="comment">//éœ€è¦ç”¨åæ–œæ </span></span><br><span class="line">        <span class="comment">// å€¼å°±æ˜¯ 1,2,2ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥ç”¨ s[i] å½“ä½œä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; s.<span class="built_in">length</span>() &lt; n; ++i) &#123;</span><br><span class="line">            s += <span class="built_in">string</span>(s[i], s.<span class="built_in">back</span>() ^ <span class="number">3</span>);</span><br><span class="line">            <span class="comment">// 1^3=2, 2^3=1ï¼Œè¿™æ ·å°±èƒ½åœ¨ 1 å’Œ 2 ä¹‹é—´è½¬æ¢</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">count</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">begin</span>() + n, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol><li><p><code>string s = &quot;\1\2\2&quot;;</code>å’Œ<code>string s = &quot;122&quot;;</code>çš„åŒºåˆ«:åœ¨C++ä¸­ï¼Œå­—ç¬¦ä¸²å­—é¢å€¼ä¸­çš„è½¬ä¹‰åºåˆ—æ˜¯ä»¥åæ–œæ ï¼ˆ<code>\</code>ï¼‰å¼€å¤´çš„å­—ç¬¦åºåˆ—ã€‚<code>&quot;\1\2\2&quot;</code> å’Œ <code>&quot;122&quot;</code> çš„åŒºåˆ«åœ¨äº<mark>è½¬ä¹‰åºåˆ—</mark>çš„ä½¿ç”¨ã€‚<code>&quot;\1\2\2&quot;</code>ï¼šè¿™ä¸ªå­—ç¬¦ä¸²åŒ…å«äº†è½¬ä¹‰åºåˆ— <code>\1</code>ã€<code>\2</code> å’Œ <code>\2</code>ã€‚è¿™äº›æ˜¯å…«è¿›åˆ¶è½¬ä¹‰åºåˆ—ï¼Œä»£è¡¨ç‰¹å®šçš„ASCIIå­—ç¬¦ã€‚å…·ä½“è€Œè¨€ï¼Œ<code>\1</code> å¯¹åº”ASCIIå€¼1ï¼Œ<code>\2</code> å¯¹åº”ASCIIå€¼2ã€‚å› æ­¤ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å®é™…ä¸Šæ˜¯åŒ…å«äº†ä¸‰ä¸ªå­—ç¬¦ï¼Œåˆ†åˆ«æ˜¯1ã€2å’Œ2ã€‚<code>&quot;122&quot;</code>è¿™ä¸ªå­—ç¬¦ä¸²æ²¡æœ‰ä½¿ç”¨å…«è¿›åˆ¶è½¬ä¹‰åºåˆ—ï¼Œå®ƒåªåŒ…å«äº†ä¸‰ä¸ªå­—ç¬¦ï¼Œåˆ†åˆ«æ˜¯â€™1â€™ã€â€™2â€™å’Œâ€™2â€™ã€‚å‰è€…çš„s[i]å¯ä»¥ç›´æ¥ç”¨æ¥å½“åšä¸ªæ•°ã€‚</p></li><li><p><code>s += string(s[i], s.back()^3)</code>ï¼š<code>string(int count,char value);</code>è¿™æ˜¯è¡¨ç¤ºsåŠ ä¸Šä¸€ä¸ªåŒ…å«valueå­—ç¬¦ï¼Œä¸”é•¿åº¦ä¸ºcountçš„å­—ç¬¦ä¸²ã€‚æ¯”å¦‚<code>s+=string(&#39;\2&#39;, 1)</code>å°±æ˜¯<code>s+=&quot;11&quot;</code>,å¸¸è§„å†™æ³•æ˜¯<code>string(2, &#39;1&#39;)</code>;</p></li><li><p><code>s.back()^3</code>:s.back()å°±æ˜¯å­—ç¬¦ä¸²sçš„æœ€åä¸€ä¸ªå­—ç¬¦ã€‚<code>^3</code>ç”¨äºå®ç°1ä¸2çš„ä¸æ–­åˆ‡æ¢ï¼Œ1^3=2, 2^3=1.(äºŒè¿›åˆ¶è¿ç®—)</p></li><li><p><code>count(s.begin(), s.begin()+n, 1)</code>:è®¡æ•°ç‰¹å®šåŒºé—´å†…æœ‰å¤šå°‘ä¸ªå€¼ä¸º1çš„å­—ç¬¦ã€‚æ¨¡æ¿<code>count(T.begin(),T.end(),value)</code>ã€‚</p></li></ol><hr><p>ç°åœ¨ä¸ç”¨åæ–œæ ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">magicalString</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">        string s = <span class="string">&quot;122&quot;</span>; <span class="comment">//ä¸ç”¨åæ–œæ </span></span><br><span class="line">        <span class="comment">// è¿™æ ·å°±ä¸å¯ä»¥ç›´æ¥ç”¨ s[i] å½“ä½œä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; s.<span class="built_in">length</span>() &lt; n; ++i) &#123;</span><br><span class="line">            s += <span class="built_in">string</span>(s[i]-<span class="string">&#x27;0&#x27;</span>, (s.<span class="built_in">back</span>()-<span class="string">&#x27;0&#x27;</span>) ^ <span class="number">3</span> +<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            <span class="comment">// 1^3=2, 2^3=1ï¼Œè¿™æ ·å°±èƒ½åœ¨ 1 å’Œ 2 ä¹‹é—´è½¬æ¢</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">count</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">begin</span>() + n, <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> leetcodeåˆ·é¢˜ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> leetcode </tag>
            
            <tag> string </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.0å­—ç¬¦ä¸²ç¯‡</title>
      <link href="/posts/10e5d792.html"/>
      <url>/posts/10e5d792.html</url>
      
        <content type="html"><![CDATA[<h1 id="å…³äºstringå’Œcstring"><a href="#å…³äºstringå’Œcstring" class="headerlink" title="å…³äºstringå’Œcstring"></a>å…³äºstringå’Œcstring</h1><p><code>&lt;string&gt;</code> å’Œ <code>&lt;cstring&gt;</code> æ˜¯ C++ ä¸­çš„ä¸¤ä¸ªä¸åŒçš„å¤´æ–‡ä»¶ï¼Œå®ƒä»¬æœ‰ä¸åŒçš„ä½œç”¨å’ŒåŠŸèƒ½ï¼š</p><ul><li><p><code>&lt;string&gt;</code> å¤´æ–‡ä»¶åŒ…å«äº† C++ æ ‡å‡†åº“ä¸­çš„å­—ç¬¦ä¸²ç±» <code>std::string</code>ï¼Œä»¥åŠä¸å­—ç¬¦ä¸²ç›¸å…³çš„ä¸€äº›å‡½æ•°å’Œæ“ä½œç¬¦é‡è½½ã€‚è¿™ä¸ªå¤´æ–‡ä»¶ç”¨äºå¤„ç† C++ ä¸­çš„å­—ç¬¦ä¸²æ“ä½œï¼Œæä¾›äº†æ›´å¤šçš„å­—ç¬¦ä¸²å¤„ç†åŠŸèƒ½å’Œä¾¿åˆ©ã€‚</p></li><li><p><code>&lt;cstring&gt;</code> å¤´æ–‡ä»¶æ˜¯ C æ ‡å‡†åº“ä¸­çš„å¤´æ–‡ä»¶ï¼Œå…¶ä¸­å®šä¹‰äº†ä¸€äº› C è¯­è¨€å­—ç¬¦ä¸²æ“ä½œçš„å‡½æ•°ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²å¤åˆ¶ã€è¿æ¥ã€æ¯”è¾ƒç­‰ã€‚åœ¨ C++ ä¸­ï¼Œè¿™äº›å‡½æ•°é€šå¸¸è¢«åŒ…å«åœ¨ <code>std</code> å‘½åç©ºé—´ä¸­ï¼Œæ¯”å¦‚ <code>std::strcpy</code>ã€<code>std::strcat</code> ç­‰ã€‚</p></li></ul><p>æ€»çš„æ¥è¯´ï¼Œ<code>&lt;string&gt;</code> æ›´é€‚åˆç”¨äº C++ ä¸­çš„å­—ç¬¦ä¸²æ“ä½œï¼Œè€Œ <code>&lt;cstring&gt;</code> åˆ™æ›´é€‚åˆç”¨äº C é£æ ¼çš„å­—ç¬¦ä¸²æ“ä½œã€‚</p><hr><h1 id="å…³äºstringåŒ…å«çš„å¸¸è§å‡½æ•°"><a href="#å…³äºstringåŒ…å«çš„å¸¸è§å‡½æ•°" class="headerlink" title="å…³äºstringåŒ…å«çš„å¸¸è§å‡½æ•°"></a>å…³äºstringåŒ…å«çš„å¸¸è§å‡½æ•°</h1><ul><li><code>length()</code> æˆ– <code>size()</code>: è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</li><li><code>append(str)</code>: åœ¨å­—ç¬¦ä¸²æœ«å°¾æ·»åŠ å¦ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</li><li><code>insert(pos, str)</code>: åœ¨æŒ‡å®šä½ç½®æ’å…¥å¦ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</li><li><code>erase(pos, len)</code>: ä»æŒ‡å®šä½ç½®åˆ é™¤æŒ‡å®šé•¿åº¦çš„å­—ç¬¦ã€‚</li><li><code>find(str)</code>: æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­å­—ç¬¦ä¸²ã€‚</li><li><code>substr(pos, len)</code>: è¿”å›ä»æŒ‡å®šä½ç½®å¼€å§‹çš„æŒ‡å®šé•¿åº¦çš„å­å­—ç¬¦ä¸²ã€‚</li><li><code>compare(str)</code>: æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚</li><li><code>replace(pos, len, str)</code>: ç”¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²æ›¿æ¢æŒ‡å®šä½ç½®çš„æŒ‡å®šé•¿åº¦çš„å­—ç¬¦ã€‚</li><li><code>push_back()ã€pop_back()</code>:ç±»ä¼¼æ•°ç»„çš„æ“ä½œæ–¹å¼ï¼Œå¯¹å­—ç¬¦ä¸²ä¾ç„¶ä½¿ç”¨ã€‚</li></ul><hr><p>å¼‚æˆ–ï¼š<code>^</code>.è¿ç®—è§„åˆ™ï¼š<code>N^0=N;N^N=0;</code></p><p>åˆ¤æ–­å¤§å°å†™ï¼š<code>islower</code>ã€<code>isupper</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">detectCapitalUse</span><span class="params">(string word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (word.<span class="built_in">size</span>() &gt;= <span class="number">2</span> &amp;&amp; <span class="built_in">islower</span>(word[<span class="number">0</span>]) &amp;&amp; <span class="built_in">isupper</span>(word[<span class="number">1</span>])) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//æ’é™¤å½¢å¦‚uSAçš„æƒ…å†µ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; word.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">islower</span>(word[i]) ^ <span class="built_in">islower</span>(word[<span class="number">1</span>])) &#123;</span><br><span class="line">                <span class="comment">//é™¤äº†ç¬¬ä¸€ä¸ªå­—æ¯ä»¥å¤–çš„å­—æ¯å¤§å°å†™ä¸ä¸€è‡´</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è½¬ä¸ºå°å†™ï¼š<code>tolower</code>/è½¬ä¸ºå¤§å†™:<code>toupper</code>(æ³¨æ„ï¼Œè¿”å›å€¼ç±»å‹ä¸ºintã€‚å¯ä»¥å†™ä½œ<code>char ch = tolower(c);</code>æˆ–è€…<code>auto ch = char(tolower(c));</code>)ã€‚å¦‚æœæ˜¯æ•°å­—ï¼Œåˆ™æ— å˜åŒ–ï¼Œ<mark>å¯ä»¥æ¥å—æ•°å­—</mark></p><p>æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯å­—æ¯æˆ–æ•°å­—:<code>isalnum</code>,éœ€è¦å¤´æ–‡ä»¶<code>&lt;cctype&gt;</code>.å¦‚æœåˆ¤æ–­æ˜¯å¦ä¸ºå­—æ¯:<code>isalpha</code>,åˆ¤æ–­æ˜¯å¦ä¸ºæ•°å­—:<code>isdigit</code>.ä¹Ÿæ˜¯éœ€è¦å¤´æ–‡ä»¶<code>&lt;cctype&gt;</code></p><p>å®šä¹‰bä¸ºaçš„é€†åºå­—ç¬¦ä¸²ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string b(a.rbgin(),a.rend());</span><br></pre></td></tr></table></figure><h1 id="1-å›æ–‡ä¸²çš„å®šä¹‰"><a href="#1-å›æ–‡ä¸²çš„å®šä¹‰" class="headerlink" title="1.å›æ–‡ä¸²çš„å®šä¹‰"></a>1.å›æ–‡ä¸²çš„å®šä¹‰</h1><h2 id="éªŒè¯å›æ–‡ä¸²ï¼š125"><a href="#éªŒè¯å›æ–‡ä¸²ï¼š125" class="headerlink" title="éªŒè¯å›æ–‡ä¸²ï¼š125"></a>éªŒè¯å›æ–‡ä¸²ï¼š125</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPalindrome</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        string schange;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> ch : s) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">isalnum</span>(ch)) &#123;</span><br><span class="line">                schange += <span class="built_in">tolower</span>(ch); <span class="comment">//é˜²æ­¢å¤§å°å†™å¹²æ‰°ä¹‹åçš„ç›¸ç­‰åˆ¤æ–­</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">string <span class="title">schangeReverse</span><span class="params">(schange.rbegin(), schange.rend())</span></span>;</span><br><span class="line">        <span class="keyword">return</span> schange == schangeReverse;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç©ºé—´ä¼˜åŒ–:ä½¿ç”¨åŒæŒ‡é’ˆï¼Œåœ¨åŸå­—ç¬¦ä¸²ä¸Šç›´æ¥åˆ¤æ–­</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isPalindrome</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n=s.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> left=<span class="number">0</span>,right=n<span class="number">-1</span>;</span><br><span class="line">        <span class="comment">//æ¯æ¬¡å°†æŒ‡é’ˆç§»åˆ°ä¸‹ä¸€ä¸ªå­—æ¯å­—ç¬¦æˆ–æ•°å­—å­—ç¬¦ï¼Œå†åˆ¤æ–­è¿™ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦æ˜¯å¦ç›¸åŒ</span></span><br><span class="line">        <span class="keyword">while</span>(left&lt;right)&#123;</span><br><span class="line">            <span class="keyword">while</span>(left&lt;right&amp;&amp;!<span class="built_in">isalnum</span>(s[left]))&#123;</span><br><span class="line">                ++left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span>(left&lt;right&amp;&amp;!<span class="built_in">isalnum</span>(s[right]))&#123;</span><br><span class="line">                --right;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(left&lt;right)&#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">tolower</span>(s[left])!=<span class="built_in">tolower</span>(s[right]))&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                ++left;</span><br><span class="line">                --right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å–å­—ç¬¦ä¸²strä»ç´¢å¼• 0 å¼€å§‹ã€é•¿åº¦ä¸º index çš„å­å­—ç¬¦ä¸²ï¼š(æ³¨æ„åŒ…æ‹¬çš„æ˜¯str[0]åˆ°str[i-1]çš„éƒ¨åˆ†ï¼)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str.<span class="built_in">substr</span>(<span class="number">0</span>, index);</span><br></pre></td></tr></table></figure><h1 id="2-å…¬å…±å‰ç¼€"><a href="#2-å…¬å…±å‰ç¼€" class="headerlink" title="2.å…¬å…±å‰ç¼€"></a>2.å…¬å…±å‰ç¼€</h1><h2 id="æœ€é•¿å…¬å…±å‰ç¼€ï¼š14"><a href="#æœ€é•¿å…¬å…±å‰ç¼€ï¼š14" class="headerlink" title="æœ€é•¿å…¬å…±å‰ç¼€ï¼š14"></a>æœ€é•¿å…¬å…±å‰ç¼€ï¼š14</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//çºµå‘æ‰«æ</span></span><br><span class="line"><span class="comment">//ä»å‰å¾€åéå†æ‰€æœ‰å­—ç¬¦ä¸²çš„æ¯ä¸€åˆ—ï¼Œæ¯”è¾ƒç›¸åŒåˆ—ä¸Šçš„å­—ç¬¦æ˜¯å¦ç›¸åŒï¼Œ</span></span><br><span class="line"><span class="comment">//å¦‚æœç›¸åŒåˆ™ç»§ç»­å¯¹ä¸‹ä¸€åˆ—è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¸ç›¸åŒåˆ™å½“å‰åˆ—ä¸å†å±äºå…¬å…±å‰ç¼€ï¼Œ</span></span><br><span class="line"><span class="comment">//å½“å‰åˆ—ä¹‹å‰çš„éƒ¨åˆ†ä¸ºæœ€é•¿å…¬å…±å‰ç¼€ã€‚</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">string <span class="title">longestCommonPrefix</span><span class="params">(vector&lt;string&gt;&amp; strs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!strs.<span class="built_in">size</span>()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; strs[<span class="number">0</span>].<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; strs.<span class="built_in">size</span>(); j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (strs[<span class="number">0</span>][i] != strs[j][i]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> strs[<span class="number">0</span>].<span class="built_in">substr</span>(<span class="number">0</span>, i) ;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> strs[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="3-å•è¯"><a href="#3-å•è¯" class="headerlink" title="3.å•è¯"></a>3.å•è¯</h1><h2 id="åˆ¤æ–­å•è¯æ•°ï¼š434"><a href="#åˆ¤æ–­å•è¯æ•°ï¼š434" class="headerlink" title="åˆ¤æ–­å•è¯æ•°ï¼š434"></a>åˆ¤æ–­å•è¯æ•°ï¼š434</h2><p>å…³é”®åœ¨äºçœ‹è¯¥å­—ç¬¦çš„<u>å‰ä¸€ä¸ª</u>å­—ç¬¦s[i-1]æ˜¯å¦ä¸ºç©º(è¿™æ ·å¯ä»¥éå†åˆ°æ‰€æœ‰å­—ç¬¦è€Œä¸”ä¸éœ€è¦é¢å¤–åˆ¤æ–­)ï¼Œè€Œä¸æ˜¯çœ‹ä¸‹ä¸€ä¸ªå­—ç¬¦s[i+1]æ˜¯å¦ä¸ºç©º</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countSegments</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] != <span class="string">&#x27; &#x27;</span> &amp;&amp; (i == <span class="number">0</span> || s[i - <span class="number">1</span>] == <span class="string">&#x27; &#x27;</span>)) &#123;</span><br><span class="line">                <span class="comment">// i==0å¿…é¡»å†™åœ¨s[i-1]å‰é¢ï¼Œå¦åˆ™ä¼šæº¢å‡º</span></span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="4-å­—ç¬¦ä¸²çš„åè½¬"><a href="#4-å­—ç¬¦ä¸²çš„åè½¬" class="headerlink" title="4.å­—ç¬¦ä¸²çš„åè½¬"></a>4.å­—ç¬¦ä¸²çš„åè½¬</h1><h2 id="åè½¬å­—ç¬¦ä¸²s"><a href="#åè½¬å­—ç¬¦ä¸²s" class="headerlink" title="åè½¬å­—ç¬¦ä¸²s"></a>åè½¬å­—ç¬¦ä¸²s</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">reverseString</span><span class="params">(vector&lt;<span class="type">char</span>&gt;&amp; s)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æ³•ä¸€</span></span><br><span class="line">    <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n / <span class="number">2</span> - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="built_in">swap</span>(s[i], s[n - <span class="number">1</span> - i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ³•äºŒï¼šè‡ªå¸¦æ–¹æ³•</span></span><br><span class="line">    <span class="built_in">reverse</span>(s.<span class="built_in">begin</span>(),s.<span class="built_in">end</span>());</span><br><span class="line">    <span class="comment">//æ³•ä¸‰ï¼šåŒæŒ‡é’ˆ</span></span><br><span class="line">    <span class="type">int</span> n = s.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> left = <span class="number">0</span>, right = n - <span class="number">1</span>; left &lt; right; ++left, --right) &#123;</span><br><span class="line">        <span class="built_in">swap</span>(s[left], s[right]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šå…³äºmin()ï¼Œä¸¤ä¸ªå‚æ•°éƒ½å¿…é¡»æ˜¯intç±»å‹ï¼Œè€Œs.size()æ˜¯unsigned intç±»å‹ï¼Œéœ€è¦è½¬æ¢ï¼(æˆ–è€…ä¸€å¼€å§‹å°±å†™æˆ<code>int n=s.size()</code>ï¼Œç„¶ååé¢ç”¨nä»£æ›¿)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">reverse</span>(s.<span class="built_in">begin</span>() + i, s.<span class="built_in">begin</span>() + <span class="built_in">min</span>(i + k, (<span class="type">int</span>)s.<span class="built_in">size</span>()));</span><br></pre></td></tr></table></figure><p>åè½¬å­—ç¬¦ä¸²ä¸­çš„å„ä¸ªå•è¯ï¼š557(è¿›é˜¶ï¼šåŒ…æ‹¬å‰ç½®åç½®ä»¥åä¸­é—´ä¸å¤šä¸ªç©ºæ ¼æ—¶ï¼Œstringstreamèƒ½å¤Ÿå¾ˆå¥½è§£å†³,åªä¸è¿‡ç”¨åˆ°äº†é¢å¤–ç©ºé—´anså’Œtå¹¶éåŸåœ°è§£æ³•,æ—¶é—´å¤æ‚åº¦ä¸ºO(n * m + k)ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(n)ã€‚åŸåœ°è§£æ³•åº”è¯¥ç”¨åŒæŒ‡é’ˆ)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string <span class="title">reverseWords</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">    <span class="function">stringstream <span class="title">ss</span><span class="params">(s)</span></span>;</span><br><span class="line">    string t, ans;</span><br><span class="line">    <span class="keyword">while</span> (ss &gt;&gt; t) &#123;</span><br><span class="line">        <span class="built_in">reverse</span>(t.<span class="built_in">begin</span>(), t.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">if</span> (!ans.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            ans += <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans += t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="5-ç»Ÿè®¡å­—ç¬¦ä¸²-å“ˆå¸Œè¡¨"><a href="#5-ç»Ÿè®¡å­—ç¬¦ä¸²-å“ˆå¸Œè¡¨" class="headerlink" title="5.ç»Ÿè®¡å­—ç¬¦ä¸²(å“ˆå¸Œè¡¨)"></a>5.ç»Ÿè®¡å­—ç¬¦ä¸²(å“ˆå¸Œè¡¨)</h1><h2 id="5-1-å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå”¯ä¸€å­—ç¬¦ï¼š387"><a href="#5-1-å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå”¯ä¸€å­—ç¬¦ï¼š387" class="headerlink" title="5-1.å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå”¯ä¸€å­—ç¬¦ï¼š387"></a>5-1.å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå”¯ä¸€å­—ç¬¦ï¼š387</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">firstUniqChar</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = s.<span class="built_in">length</span>();</span><br><span class="line">    unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; count;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">char</span> ch : s) &#123;</span><br><span class="line">        count[ch]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (count[s[i]] == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜å¯ä»¥ç”¨find()å’Œrfind():(ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$,æ—¶é—´å¤æ‚åº¦$O(n^2)$)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">firstUniqChar</span><span class="params">(string s)</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>( i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(s.<span class="built_in">find</span>(s[i]) == s.<span class="built_in">rfind</span>(s[i]))<span class="comment">//find()æ—¶é—´å¤æ‚åº¦O(n)</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¼˜åŒ–ï¼šè®°å½•é¢‘æ•°æ”¹ä¸ºè®°å½•<strong>ç´¢å¼•</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">firstUniqChar</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">length</span>();</span><br><span class="line">        unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; position;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (position.<span class="built_in">count</span>(s[i])) &#123; <span class="comment">//è¯¥å­—ç¬¦å·²ç»å‡ºç°è¿‡è‡³å°‘ä¸€æ¬¡</span></span><br><span class="line">                position[s[i]] = <span class="number">-1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                position[s[i]] = i; <span class="comment">//åªå‡ºç°ç¬¬ä¸€æ¬¡çš„ï¼Œè®°å½•ä¸‹å¯¹åº”ç´¢å¼•</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> first = n;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; [_, pos] : position) &#123;</span><br><span class="line">            <span class="keyword">if</span> (pos != <span class="number">-1</span>) &#123;</span><br><span class="line">                first = <span class="built_in">min</span>(first, pos);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> first == n ? <span class="number">-1</span> : first;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šï¼ˆç”¨çº¯æ•°ç»„æ›´å¿«ï¼Œå°½ç®¡æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ç›¸åŒï¼Œä½†æ˜¯å“ˆå¸Œè¡¨ç‰µæ¶‰åˆ°å»ºè¡¨ã€å“ˆå¸Œç¢°æ’ç­‰ç­‰ï¼‰</p><p>æ–¹æ³•äºŒï¼šä½¿ç”¨é˜Ÿåˆ—queueï¼ˆæ—¶é—´ç©ºé—´å¤æ‚åº¦åŒæ³•ä¸€ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">firstUniqChar</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = s.<span class="built_in">length</span>();</span><br><span class="line">        unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; position;</span><br><span class="line">        queue&lt;pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;&gt; q;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (position.<span class="built_in">count</span>(s[i])) &#123; <span class="comment">//è¯¥å­—ç¬¦å·²ç»å‡ºç°è¿‡è‡³å°‘ä¸€æ¬¡</span></span><br><span class="line">                position[s[i]] = <span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">while</span> (!q.<span class="built_in">empty</span>() &amp;&amp; position[q.<span class="built_in">front</span>().first] == <span class="number">-1</span>) &#123;</span><br><span class="line">                    q.<span class="built_in">pop</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                position[s[i]] = i; <span class="comment">//åªå‡ºç°ç¬¬ä¸€æ¬¡çš„ï¼Œè®°å½•ä¸‹å¯¹åº”ç´¢å¼•</span></span><br><span class="line">                q.<span class="built_in">emplace</span>(s[i], i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> q.<span class="built_in">empty</span>() ? <span class="number">-1</span> : q.<span class="built_in">front</span>().second;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>emplace()</code> æ˜¯ C++ ä¸­å®¹å™¨ç±»çš„ä¸€ä¸ªæˆå‘˜å‡½æ•°ï¼Œç”¨äºåœ¨å®¹å™¨ä¸­å°±åœ°æ„é€ å…ƒç´ ï¼Œè€Œä¸æ˜¯é€šè¿‡æ‹·è´æˆ–ç§»åŠ¨æ„é€ å‡½æ•°ã€‚</p><p>å¯¹äº<mark>å®¹å™¨ç±»</mark>ï¼ˆå¦‚ <code>std::vector</code>ã€<code>std::map</code>ã€<code>std::unordered_map</code> ç­‰ï¼‰ï¼Œ<code>emplace()</code> å‡½æ•°æ¥å—æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œå¹¶åœ¨å®¹å™¨ä¸­ç›´æ¥æ„é€ ä¸€ä¸ªæ–°çš„å…ƒç´ ï¼Œè€Œä¸æ˜¯å°†ä¸€ä¸ªå·²ç»æ„é€ å¥½çš„å¯¹è±¡æ’å…¥å®¹å™¨ã€‚</p><p>è¿™ç§å°±åœ°æ„é€ çš„æ–¹å¼å¯ä»¥é¿å…é¢å¤–çš„æ‹·è´æˆ–ç§»åŠ¨æ“ä½œï¼Œæé«˜ä»£ç çš„æ•ˆç‡ã€‚å®ƒå¯¹äºå¤§å‹å¯¹è±¡æˆ–è€…ä¸å¯å¤åˆ¶/ç§»åŠ¨çš„å¯¹è±¡ç‰¹åˆ«æœ‰ç”¨ã€‚</p><hr><h3 id="æ³¨ï¼šå…³äºå“ˆå¸Œè¡¨"><a href="#æ³¨ï¼šå…³äºå“ˆå¸Œè¡¨" class="headerlink" title="æ³¨ï¼šå…³äºå“ˆå¸Œè¡¨"></a>æ³¨ï¼šå…³äºå“ˆå¸Œè¡¨</h3><p>ç»Ÿè®¡å‡ºç°æ¬¡æ•°(æ—¶é—´å¤æ‚åº¦$O(1)$)ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">position.<span class="built_in">count</span>(s[i]);</span><br></pre></td></tr></table></figure><p>å†…éƒ¨å®šä¹‰ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; mp = &#123;</span><br><span class="line">        &#123;<span class="string">&#x27;I&#x27;</span>, <span class="number">1</span>&#125;,  </span><br><span class="line">        &#123;<span class="string">&#x27;V&#x27;</span>, <span class="number">5</span>&#125;,   </span><br><span class="line">        &#123;<span class="string">&#x27;X&#x27;</span>, <span class="number">10</span>&#125;,   </span><br><span class="line">        &#123;<span class="string">&#x27;L&#x27;</span>, <span class="number">50</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;C&#x27;</span>, <span class="number">100</span>&#125;, </span><br><span class="line">        &#123;<span class="string">&#x27;D&#x27;</span>, <span class="number">500</span>&#125;, </span><br><span class="line">        &#123;<span class="string">&#x27;M&#x27;</span>, <span class="number">1000</span>&#125;,</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure><p>éå†å…ƒç´ ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span>&amp; [_, pos] : position) &#123;</span><br><span class="line">     <span class="keyword">if</span> (pos != <span class="number">-1</span>) &#123;</span><br><span class="line">          first = <span class="built_in">min</span>(first, pos);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ä½¿ç”¨äº† C++17 ä¸­çš„ç»“æ„åŒ–ç»‘å®šï¼ˆstructured bindingsï¼‰è¯­æ³•ï¼Œç”¨äºéå†åä¸º <code>position</code> çš„å®¹å™¨ä¸­çš„å…ƒç´ ã€‚éå†çš„é¡ºåºå¹¶ä¸æ˜¯unordered_mapä¸­å…ƒç´ çš„æ’å…¥é¡ºåºï¼Œç”±äºunordered_map<mark>æ²¡æœ‰ä¿è¯</mark>å…ƒç´ çš„æ’å…¥é¡ºåºï¼Œéå†é¡ºåºä¸ºä¹±åºï¼Œä»è€Œå½±å“ç»“æœã€‚è¿™æ˜¯å› ä¸º <code>std::unordered_map</code> ä½¿ç”¨å“ˆå¸Œè¡¨å®ç°ï¼Œå…ƒç´ çš„å­˜å‚¨ä½ç½®æ˜¯æ ¹æ®å“ˆå¸Œå€¼è®¡ç®—å¾—åˆ°çš„ï¼Œè€Œä¸æ˜¯æŒ‰ç…§æ’å…¥é¡ºåºæˆ–å…¶ä»–ç‰¹å®šé¡ºåºã€‚</p><p>åœ¨æ¯æ¬¡å¾ªç¯è¿­ä»£ä¸­ï¼Œ<code>auto&amp; [_, pos]</code> å°†å®¹å™¨ä¸­çš„é”®å€¼å¯¹è§£æ„ä¸ºä¸¤ä¸ªå˜é‡ <code>_</code> å’Œ <code>pos</code>ã€‚è¿™é‡Œä½¿ç”¨ <code>_</code> è¡¨ç¤º<u>ä¸éœ€è¦ä½¿ç”¨</u>çš„å˜é‡ï¼Œè€Œ <code>pos</code> åˆ™è¡¨ç¤ºå®¹å™¨ä¸­çš„å€¼ã€‚</p><p>è¿™ä¸¤ä¸ªforå¾ªç¯ç­‰ä»·ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span>&amp; [_,strArray]:mp)&#123;</span><br><span class="line">    res.<span class="built_in">emplace_back</span>(strArray);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = mp.<span class="built_in">begin</span>(); it != mp.<span class="built_in">end</span>(); ++it) &#123;</span><br><span class="line">     res.<span class="built_in">emplace_back</span>(it-&gt;second);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨ï¼šunordered_map&lt;string, vector&lt;string&gt;&gt; mp;</span></span><br><span class="line"><span class="comment">//vector&lt;vector&lt;string&gt;&gt; res;è¯¦ç»†å¯è§49é¢˜</span></span><br></pre></td></tr></table></figure><p>å“ˆå¸Œè¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ çš„ç±»å‹ä¸ºpair</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line">vector&lt;pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;&gt; cnt;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span>&amp; it : mp) &#123; <span class="comment">// itçš„ç±»å‹æ˜¯pair&lt;char,int&gt;</span></span><br><span class="line">     cnt.<span class="built_in">emplace_back</span>(it);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡ªå®šä¹‰æ¯”è¾ƒæ–¹æ³•(è¿™é‡Œsecondå€¼å¤§çš„æ’åœ¨å‰é¢)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span>(cnt.<span class="built_in">begin</span>(), cnt.<span class="built_in">end</span>(),</span><br><span class="line">     [](<span class="type">const</span> pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;&amp; a, <span class="type">const</span> pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt;&amp; b) &#123;</span><br><span class="line">         <span class="keyword">return</span> a.second &gt; b.second;</span><br><span class="line">     &#125;);</span><br></pre></td></tr></table></figure><hr><h2 id="5-2-å­—ç¬¦ä¸²æ‰¾ä¸åŒï¼š389ã€242"><a href="#5-2-å­—ç¬¦ä¸²æ‰¾ä¸åŒï¼š389ã€242" class="headerlink" title="5-2.å­—ç¬¦ä¸²æ‰¾ä¸åŒï¼š389ã€242"></a>5-2.å­—ç¬¦ä¸²æ‰¾ä¸åŒï¼š389ã€242</h2><p>ä¸€ã€è®¡æ•°ï¼šé¦–å…ˆéå†å­—ç¬¦ä¸² sï¼Œå¯¹å…¶ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½å°†è®¡æ•°å€¼åŠ  1ï¼›ç„¶åéå†å­—ç¬¦ä¸² tï¼Œå¯¹å…¶ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½å°†è®¡æ•°å€¼å‡ 1ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨ï¼Œä½†æ³•ä¸€ç©ºé—´å¤æ‚åº¦è¾ƒé«˜ã€‚(å¦‚æœæ˜¯Unicodeå­—ç¬¦å°±è€è€å®å®ç”¨è¿™ç§æ–¹æ³•)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">char</span> <span class="title">findTheDifference</span><span class="params">(string s, string t)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = t.<span class="built_in">size</span>(), n1 = s.<span class="built_in">size</span>();</span><br><span class="line">        unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; count;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n1; i++) &#123;</span><br><span class="line">            count[t[i]]++;</span><br><span class="line">            count[s[i]]--;</span><br><span class="line">        &#125;</span><br><span class="line">        count[t[n - <span class="number">1</span>]]++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; [pos, cnt] : count) &#123;<span class="comment">//posæ˜¯key,cntæ˜¯å€¼ã€‚éƒ½ç”¨åˆ°äº†ä¸èƒ½å†™ä¸º_</span></span><br><span class="line">            <span class="keyword">if</span> (cnt != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> pos;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>äºŒã€æ±‚å’Œ:å°†å­—ç¬¦ä¸² s ä¸­æ¯ä¸ªå­—ç¬¦çš„ ASCII ç çš„å€¼æ±‚å’Œï¼Œå¾—åˆ° $A_s$â€‹ï¼›å¯¹å­—ç¬¦ä¸² t åŒæ ·çš„æ–¹æ³•å¾—åˆ° $A_t$ã€‚ä¸¤è€…çš„å·®å€¼ $A_t-A_s$â€‹ å³ä»£è¡¨äº†è¢«æ·»åŠ çš„å­—ç¬¦ã€‚</p><p>ä¸‰ã€<mark>ä½è¿ç®—</mark>:å°†ä¸¤ä¸ªå­—ç¬¦ä¸²æ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™é—®é¢˜è½¬æ¢æˆæ±‚å­—ç¬¦ä¸²ä¸­å‡ºç°<u>å¥‡æ•°æ¬¡</u>çš„å­—ç¬¦ã€‚(136é¢˜ä¹Ÿæ˜¯ä½è¿ç®—ï¼Œç”¨åˆ°äº†å¼‚æˆ–<code>^</code>)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">char</span> <span class="title">findTheDifference</span><span class="params">(string s, string t)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> ch: s) &#123;</span><br><span class="line">            ret ^= ch;<span class="comment">//å¼‚æˆ–è¿ç®—æ—¶chä¼šå…ˆè¢«è½¬æ¢æˆASCIIç (æ­¤å¤„ä¸ºintå‹)</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> ch: t) &#123;</span><br><span class="line">            ret ^= ch;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å› ä¸ºåœ¨så’Œtä¹‹ä¸­éƒ½å‡ºç°çš„ch,åœ¨å¼‚æˆ–è¿ç®—ä¹‹åå˜æˆäº†0ï¼Œç›¸å½“äº<code>ret^s[0]^s[1]...^t[0]^t[1]...=0^(s[0]^t[0])^(s[1]^t[1])^...^t[more]=0^0^0^...^0^t[more]=t[more].</code></p><p>(è¿™é‡Œå‡è®¾s[0]==t[0],s[1]==t[1]â€¦)</p><p>å®¹å™¨è§’åº¦ä¸€èˆ¬çš„ä¼˜åŒ–æ€è·¯ã€‚å®Œæ•´çš„æ˜¯å¤šå®¹å™¨-&gt;å¤šæ¬¡æ–°å»ºå®¹å™¨-&gt;å•å®¹å™¨-&gt;æ•°ç»„-&gt;äºŒè¿›åˆ¶ä½ã€‚</p><h2 id="5-3-å­—æ¯å¼‚ä½è¯åˆ†ç»„ï¼š49"><a href="#5-3-å­—æ¯å¼‚ä½è¯åˆ†ç»„ï¼š49" class="headerlink" title="5-3.å­—æ¯å¼‚ä½è¯åˆ†ç»„ï¼š49"></a>5-3.å­—æ¯å¼‚ä½è¯åˆ†ç»„ï¼š49</h2><p>æ³•ä¸€ï¼šæ’åº(ç”±äºäº’ä¸ºå­—æ¯å¼‚ä½è¯çš„ä¸¤ä¸ªå­—ç¬¦ä¸²åŒ…å«çš„å­—æ¯ç›¸åŒï¼Œå› æ­¤å¯¹ä¸¤ä¸ªå­—ç¬¦ä¸²åˆ†åˆ«è¿›è¡Œæ’åºä¹‹åå¾—åˆ°çš„å­—ç¬¦ä¸²ä¸€å®šæ˜¯ç›¸åŒçš„ï¼Œæ•…å¯ä»¥å°†<strong>æ’åºä¹‹åçš„å­—ç¬¦ä¸²ä½œä¸ºå“ˆå¸Œè¡¨çš„é”®</strong>ã€‚)å¯ä»¥ä¸ç”¨sort()æ¥æ’åºä»¥èŠ‚çœæ—¶é—´å¼€é”€ï¼Œä½†æ˜¯å¯èƒ½å¢åŠ ç©ºé—´å¼€é”€ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;string&gt;&gt; <span class="built_in">groupAnagrams</span>(vector&lt;string&gt;&amp; strs) &#123;</span><br><span class="line">        unordered_map&lt;string, vector&lt;string&gt;&gt; mp;</span><br><span class="line">        <span class="keyword">for</span> (string&amp; str : strs) &#123;</span><br><span class="line">            string key = str;</span><br><span class="line">            <span class="built_in">sort</span>(key.<span class="built_in">begin</span>(), key.<span class="built_in">end</span>());</span><br><span class="line">            mp[key].<span class="built_in">emplace_back</span>(str);</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;vector&lt;string&gt;&gt; res;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> it = mp.<span class="built_in">begin</span>(); it != mp.<span class="built_in">end</span>(); it++) &#123;</span><br><span class="line">            res.<span class="built_in">emplace_back</span>(it-&gt;second);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ³•äºŒï¼šè®¡æ•°(å°†æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œä½œä¸ºå“ˆå¸Œè¡¨çš„é”®ã€‚æ—¶é—´å¤æ‚åº¦æ›´ä½ï¼Œç©ºé—´å¤æ‚åº¦æ›´é«˜)</p><h2 id="5-4-æ ¹æ®å­—ç¬¦ä¸²å‡ºç°é¢‘ç‡æ’åºï¼š451"><a href="#5-4-æ ¹æ®å­—ç¬¦ä¸²å‡ºç°é¢‘ç‡æ’åºï¼š451" class="headerlink" title="5-4.æ ¹æ®å­—ç¬¦ä¸²å‡ºç°é¢‘ç‡æ’åºï¼š451"></a>5-4.æ ¹æ®å­—ç¬¦ä¸²å‡ºç°é¢‘ç‡æ’åºï¼š451</h2><p>æ¡¶æ’åºï¼šé€Ÿåº¦æ¯”sort()å¿«</p><p>1.éå†å­—ç¬¦ä¸²ï¼Œç»Ÿè®¡æ¯ä¸ªå­—ç¬¦å‡ºç°çš„é¢‘ç‡ï¼ŒåŒæ—¶è®°å½•æœ€é«˜é¢‘ç‡ maxFreqï¼›</p><p>2.åˆ›å»ºæ¡¶ï¼Œå­˜å‚¨ä» 1 åˆ° maxFreq çš„æ¯ä¸ªå‡ºç°é¢‘ç‡çš„å­—ç¬¦ï¼›</p><p>3.æŒ‰ç…§å‡ºç°é¢‘ç‡ä»å¤§åˆ°å°çš„é¡ºåºéå†æ¡¶ï¼Œå¯¹äºæ¯ä¸ªå‡ºç°é¢‘ç‡ï¼Œè·å¾—å¯¹åº”çš„å­—ç¬¦ï¼Œç„¶åå°†æ¯ä¸ªå­—ç¬¦æŒ‰ç…§å‡ºç°é¢‘ç‡æ‹¼æ¥åˆ°æ’åºåçš„å­—ç¬¦ä¸²ã€‚</p><h2 id="5-5-æ±‚è¿ç»­é€’å¢å­ä¸²çš„ä¸ªæ•°ï¼Œå¹¶å»é‡ï¼š467"><a href="#5-5-æ±‚è¿ç»­é€’å¢å­ä¸²çš„ä¸ªæ•°ï¼Œå¹¶å»é‡ï¼š467" class="headerlink" title="5-5.æ±‚è¿ç»­é€’å¢å­ä¸²çš„ä¸ªæ•°ï¼Œå¹¶å»é‡ï¼š467"></a>5-5.æ±‚è¿ç»­é€’å¢å­ä¸²çš„ä¸ªæ•°ï¼Œå¹¶å»é‡ï¼š467</h2><p>åŠ¨æ€è§„åˆ’</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">findSubstringInWraproundString</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(<span class="number">26</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">length</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &amp;&amp; (s[i] - s[i - <span class="number">1</span>] + <span class="number">26</span>) % <span class="number">26</span> == <span class="number">1</span>) &#123; <span class="comment">// s[i-1]åœ¨s[i]å‰é¢</span></span><br><span class="line">                k++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                k = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            dp[s[i] - <span class="string">&#x27;a&#x27;</span>] = <span class="built_in">max</span>(dp[s[i] - <span class="string">&#x27;a&#x27;</span>], k);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">accumulate</span>(dp.<span class="built_in">begin</span>(), dp.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="5-6-URLçš„è§£å¯†ä¸åŠ å¯†ï¼š535"><a href="#5-6-URLçš„è§£å¯†ä¸åŠ å¯†ï¼š535" class="headerlink" title="5-6.URLçš„è§£å¯†ä¸åŠ å¯†ï¼š535"></a>5-6.URLçš„è§£å¯†ä¸åŠ å¯†ï¼š535</h2><p>å¦‚æœæƒ³è¦å®ç°ç›¸åŒçš„ URL åŠ å¯†æˆåŒä¸€ä¸ª TinyURLï¼Œåˆ™é¢å¤–ä¿å­˜ä¸€ä¸ªä» URLåˆ° TinyURL çš„æ˜ å°„ã€‚</p><p>æ³¨ï¼šint-&gt;string:<code>to_string(intVar);</code></p><p>string-&gt;int:<code>stoi(stringVar);</code></p><h3 id="å…³äºéšæœºæ•°"><a href="#å…³äºéšæœºæ•°" class="headerlink" title="å…³äºéšæœºæ•°"></a>å…³äºéšæœºæ•°</h3><p><code>time(0)</code>å‡½æ•°è¿”å›å½“å‰çš„ç³»ç»Ÿæ—¶é—´ï¼ˆä»æŸä¸€æ—¶åˆ»å¼€å§‹çš„ç§’æ•°ï¼‰ï¼Œè€Œ<code>srand</code>å‡½æ•°æ˜¯ç”¨æ¥è®¾ç½®éšæœºæ•°ç”Ÿæˆå™¨çš„ç§å­ã€‚å°†<code>time(0)</code>çš„è¿”å›å€¼ä¼ é€’ç»™<code>srand</code>å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨å½“å‰æ—¶é—´ä½œä¸ºéšæœºæ•°ç”Ÿæˆå™¨çš„ç§å­ï¼Œä»è€Œä½¿å¾—æ¯æ¬¡ç¨‹åºè¿è¡Œæ—¶ç”Ÿæˆçš„éšæœºæ•°åºåˆ—éƒ½ä¸åŒã€‚</p><p>åœ¨C++ä¸­ï¼Œé€šå¸¸åœ¨ä½¿ç”¨éšæœºæ•°ç”Ÿæˆå‡½æ•°<code>rand</code>ä¹‹å‰ï¼Œä¼šè°ƒç”¨<code>srand(time(0))</code>æ¥<u>åˆå§‹åŒ–éšæœºæ•°ç”Ÿæˆå™¨</u>ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æ¯æ¬¡ç¨‹åºè¿è¡Œæ—¶éƒ½ä¼šç”Ÿæˆä¸åŒçš„éšæœºæ•°åºåˆ—ï¼Œå› ä¸ºç§å­ä¸åŒä¼šå¯¼è‡´ä¸åŒçš„éšæœºæ•°åºåˆ—ã€‚ä¹‹åå°±å¯ä»¥ä½¿ç”¨<code>randomNumber=rand();</code></p>]]></content>
      
      
      <categories>
          
          <category> leetcodeåˆ·é¢˜ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> leetcode </tag>
            
            <tag> string </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.æ•°ç»„ç¯‡</title>
      <link href="/posts/254d58d4.html"/>
      <url>/posts/254d58d4.html</url>
      
        <content type="html"><![CDATA[<p>æ•°ç»„çš„éå†:414</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">thirdMax</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//sort(nums.begin(),nums.end(),greater&lt;&gt;());//ä»å¤§åˆ°å°æ’åº</span></span><br><span class="line">        <span class="comment">//ä½¿ç”¨äº†setå°±æ²¡æœ‰å¿…è¦sort()ï¼Œæ’åºéœ€è¦ O(nlogâ¡n)çš„æ—¶é—´</span></span><br><span class="line">        set&lt;<span class="type">int</span>&gt;s;<span class="comment">//setä¼šè‡ªåŠ¨ä»å°åˆ°å¤§æ’åºï¼ˆé»˜è®¤æ—¶ï¼‰,ä¸€ä¸ªå…ƒç´ åªèƒ½å‡ºç°ä¸€æ¬¡</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> num:nums)&#123;</span><br><span class="line">            s.<span class="built_in">insert</span>(num);<span class="comment">//setè‡ªåŠ¨å»é‡</span></span><br><span class="line">            <span class="keyword">if</span>(s.<span class="built_in">size</span>()&gt;<span class="number">3</span>)&#123;</span><br><span class="line">                s.<span class="built_in">erase</span>(s.<span class="built_in">begin</span>());<span class="comment">//æ³¨æ„s.begin()æ˜¯è¿­ä»£å™¨ç±»å‹</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s.<span class="built_in">size</span>()==<span class="number">3</span>?*s.<span class="built_in">begin</span>():*s.<span class="built_in">rbegin</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç»Ÿè®¡æ•°ç»„ä¸­çš„å…ƒç´ ï¼š645(å“ˆå¸Œè¡¨è§£æ³•)ã€‚å…³é”®æ€æƒ³:<strong>åŸåœ°å“ˆå¸Œ</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">findErrorNums</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        vector&lt;<span class="type">int</span>&gt;<span class="built_in">res</span>(<span class="number">2</span>);</span><br><span class="line">        unordered_map&lt;<span class="type">int</span>,<span class="type">int</span>&gt;mp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; num:nums)&#123;    <span class="comment">//éœ€è¦åˆ©ç”¨è¿­ä»£å™¨è¿›è¡Œéå†</span></span><br><span class="line">            mp[num]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=nums.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">            <span class="type">int</span> count=mp[i];</span><br><span class="line">            <span class="keyword">if</span>(count==<span class="number">2</span>)&#123;</span><br><span class="line">                res[<span class="number">0</span>]=i;<span class="comment">//é‡å¤çš„æ•°å­—</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(count==<span class="number">0</span>)&#123;</span><br><span class="line">                res[<span class="number">1</span>]=i;<span class="comment">//ç¼ºå¤±çš„æ•°å­—</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>éš¾é¢˜ï¼š41</p><p>äºŒåˆ†æœç´¢ï¼š274</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">hIndex</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; citations)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//åŒæŒ‡é’ˆï¼ŒäºŒåˆ†æœç´¢</span></span><br><span class="line">        <span class="type">int</span> left = <span class="number">0</span>, right = citations.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> mid = <span class="number">0</span>, count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            mid = (left + right + <span class="number">1</span>) / <span class="number">2</span>;<span class="comment">//åŠ 1é˜²æ­¢æ­»å¾ªç¯</span></span><br><span class="line">            count = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; citations.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (citations[i] &gt;= mid) &#123;</span><br><span class="line">                    count++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (count &gt;= mid) &#123;</span><br><span class="line">                left = mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç±»ä¼¼minçš„å‡½æ•°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> minNum = *<span class="built_in">min_element</span>(nums.<span class="built_in">begin</span>(),nums.<span class="built_in">end</span>());</span><br></pre></td></tr></table></figure><p>æ‰«æï¼š419</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">countBattleships</span><span class="params">(vector&lt;vector&lt;<span class="type">char</span>&gt;&gt;&amp; board)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> row = board.<span class="built_in">size</span>(), col = board[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">&#x27;X&#x27;</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> ((i &gt;= <span class="number">1</span> &amp;&amp; board[i - <span class="number">1</span>][j] == <span class="string">&#x27;X&#x27;</span>) ||</span><br><span class="line">                        (j &gt;= <span class="number">1</span> &amp;&amp; board[i][j - <span class="number">1</span>] == <span class="string">&#x27;X&#x27;</span>)) &#123;</span><br><span class="line">                        <span class="comment">//å¦‚æœå‘ç°å…¶ä¸Šæ–¹æˆ–è€…å·¦è¾¹æœ‰è¿‡X,åˆ™ç»§ç»­å‘å³ä¸‹æ‰«æ</span></span><br><span class="line">                        <span class="comment">//æ­¤æ—¶resä¸å¢åŠ ï¼Œç›´æ¥continueè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯</span></span><br><span class="line">                        <span class="comment">//ç›´åˆ°ç¡®å®èµ°åˆ°å°½å¤´æ‰ä¼šç»“æŸï¼Œç„¶åè®¡æ•°+1</span></span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    res++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿­ä»£ï¼š396</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">maxRotateFunction</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>(), res = INT_MIN, Fk = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> sum = <span class="built_in">accumulate</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            Fk += i * nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        res = Fk; <span class="comment">//ä¹Ÿå°±æ˜¯è®©res=F(0)ï¼Œé¿å…numsåªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶return INT_MIN</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">            Fk += sum - n * nums[i];</span><br><span class="line">            res = <span class="built_in">max</span>(res, Fk);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ¨¡æ‹Ÿï¼š54ã€59</p><p>å¯¹è§’çº¿éå†498ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m + n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span>) &#123;</span><br><span class="line">                <span class="type">int</span> x = (i &lt; n ? <span class="number">0</span> : i - n + <span class="number">1</span>);</span><br><span class="line">                <span class="type">int</span> y = (i &lt; n ? i : n - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">while</span> (x &lt; m &amp;&amp; y &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    res.<span class="built_in">emplace_back</span>(mat[x][y]);</span><br><span class="line">                    x++;</span><br><span class="line">                    y--; </span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">int</span> x = (i &lt; m ? i : m - <span class="number">1</span>);</span><br><span class="line">                <span class="type">int</span> y = (i &lt; m ? <span class="number">0</span> : i - m + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">while</span> (x &gt;= <span class="number">0</span> &amp;&amp; y &lt; n) &#123;</span><br><span class="line">                    res.<span class="built_in">emplace_back</span>(mat[x][y]);</span><br><span class="line">                    x--;</span><br><span class="line">                    y++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨é€‰æ‹©ä½¿ç”¨ <code>emplace_back</code> è¿˜æ˜¯ <code>push_back</code> æ—¶ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œ<code>emplace_back</code> æ›´å¥½ä¸€äº›ã€‚è¿™æ˜¯å› ä¸º <code>emplace_back</code> å¯ä»¥é¿å…åˆ›å»ºä¸´æ—¶å¯¹è±¡ï¼Œä»è€Œæé«˜äº†æ€§èƒ½ã€‚</p><p>å¦å¤–ï¼Œ<code>emplace_back</code> ä¹Ÿæ›´åŠ çµæ´»ï¼Œå› ä¸ºå®ƒå…è®¸ä½ ç›´æ¥ä¼ é€’æ„é€ å…ƒç´ æ‰€éœ€çš„å‚æ•°ï¼Œè€Œä¸éœ€è¦æ˜¾å¼åœ°åˆ›å»ºå¯¹è±¡ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œå¦‚æœä½ éœ€è¦å‘ <code>vector</code> ä¸­æ·»åŠ æ–°å…ƒç´ ï¼Œé€šå¸¸æƒ…å†µä¸‹ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨ <code>emplace_back</code>ã€‚</p><p>äºŒç»´æ•°ç»„å˜æ¢è¡Œåˆ—é•¿å®½ï¼š566</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> m = mat.<span class="built_in">size</span>(), n = mat[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m * n; i++) &#123;</span><br><span class="line">     res[i / c][i % c] =mat[i / n][i % n]; </span><br><span class="line">     <span class="comment">//æ‰¾åˆ°ç¬¬iä¸ªæ•°åˆ°åº•åˆ†åˆ«åœ¨æ•°ç»„çš„å“ªä¸ªä½ç½®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>äºŒç»´çŸ©é˜µé¡ºæ—¶é’ˆæ—‹è½¬ï¼ˆ48ï¼‰=<code>æ°´å¹³</code>ç¿»è½¬(ç«–ç›´çº¿å¯¹ç§°ç¿»è½¬)+(æ²¿)<code>ä¸»å¯¹è§’</code>çº¿ç¿»è½¬</p><p><u>çŸ©é˜µåŸåœ°ç½®æ¢(73)</u>ï¼šç”¨çŸ©é˜µç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ä»£æ›¿æ ‡è®°è¡Œå’Œåˆ—çš„ä¸¤ä¸ªæ ‡è®°æ•°ç»„ï¼Œä½¿å¾—ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(row*col)$.ä½†è¿™æ ·ä¼šå¯¼è‡´åŸæ•°ç»„çš„ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—è¢«ä¿®æ”¹ï¼Œæ— æ³•è®°å½•å®ƒä»¬æ˜¯å¦åŸæœ¬åŒ…å« 0ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦é¢å¤–ä½¿ç”¨ä¸¤ä¸ªæ ‡è®°å˜é‡åˆ†åˆ«è®°å½•ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—æ˜¯å¦åŸæœ¬åŒ…å« 0ã€‚</p><p>   åœ¨å®é™…ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆé¢„å¤„ç†å‡ºä¸¤ä¸ªæ ‡è®°å˜é‡ï¼Œæ¥ç€ä½¿ç”¨å…¶ä»–è¡Œä¸åˆ—å»å¤„ç†ç¬¬ä¸€è¡Œä¸ç¬¬ä¸€åˆ—ï¼Œç„¶ååè¿‡æ¥ä½¿ç”¨ç¬¬ä¸€è¡Œä¸ç¬¬ä¸€åˆ—å»æ›´æ–°å…¶ä»–è¡Œä¸åˆ—ï¼Œæœ€åä½¿ç”¨ä¸¤ä¸ªæ ‡è®°å˜é‡æ›´æ–°ç¬¬ä¸€è¡Œä¸ç¬¬ä¸€åˆ—å³å¯ã€‚</p><pre><code>æˆ‘ä»¬å¯ä»¥å¯¹æ–¹æ³•äºŒè¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œåªä½¿ç”¨ä¸€ä¸ªæ ‡è®°å˜é‡è®°å½•ç¬¬ä¸€åˆ—æ˜¯å¦åŸæœ¬å­˜åœ¨ 0ã€‚è¿™æ ·ï¼Œç¬¬ä¸€åˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ å³å¯ä»¥æ ‡è®°ç¬¬ä¸€è¡Œæ˜¯å¦å‡ºç° 0ã€‚ä½†ä¸ºäº†é˜²æ­¢æ¯ä¸€åˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ è¢«æå‰æ›´æ–°ï¼Œæˆ‘ä»¬éœ€è¦ä»æœ€åä¸€è¡Œå¼€å§‹ï¼Œå€’åºåœ°å¤„ç†çŸ©é˜µå…ƒç´ ã€‚</code></pre><p><u>çŸ©é˜µåŸåœ°ç½®æ¢æ‹“å±•(289)</u>ï¼šåˆ›å»ºå¤åˆçŠ¶æ€2ï¼Œå¯ä»¥çŸ¥é“ä¿®æ”¹å‰æ˜¯0ï¼Œè€Œä¹‹åå˜ä¸º1.å¸¸ç”¨äºéœ€è¦åŒæ­¥æ›´æ–°æƒ…å†µã€‚</p><p>æ¶‰åŠåˆ°ç±»ï¼š303</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">NumArray</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; sum;</span><br><span class="line">    <span class="built_in">NumArray</span>(vector&lt;<span class="type">int</span>&gt;&amp; nums) &#123; <span class="comment">//åˆå§‹åŒ–sumæ•°ç»„</span></span><br><span class="line">        <span class="type">int</span> n = nums.<span class="built_in">size</span>();</span><br><span class="line">        sum.<span class="built_in">resize</span>(n + <span class="number">1</span>); <span class="comment">//æ³¨æ„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            sum[i + <span class="number">1</span>] = sum[i] + nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">sumRange</span><span class="params">(<span class="type">int</span> left, <span class="type">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//é”™è¯¯ï¼šnumsæ˜¯ä¸´æ—¶æ•°ç»„ï¼Œåº”è¯¥ç”¨sum</span></span><br><span class="line">        <span class="comment">// return accumulate(nums.begin() + left, nums.begin() + right, 0);</span></span><br><span class="line">        <span class="keyword">return</span> sum[right + <span class="number">1</span>] - sum[left];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>äºŒç»´æ•°ç»„resize:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sums.<span class="built_in">resize</span>(m + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n + <span class="number">1</span>));</span><br></pre></td></tr></table></figure><p>äºŒç»´æ•°ç»„å®šä¹‰ï¼š(åˆ›å»ºnÃ—nçš„æ•°ç»„ï¼Œé»˜è®¤åˆå§‹åŒ–æ‰€æœ‰å…ƒç´ ä¸º0)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">res</span>(n, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n));</span><br></pre></td></tr></table></figure><p>å‰ç¼€/åç¼€ä¹‹å’Œ/ä¹‹ç§¯ï¼š238</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">productExceptSelf</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">res</span><span class="params">(nums.size())</span></span>;</span><br><span class="line">        res[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">            res[i]=res[i<span class="number">-1</span>]*nums[i<span class="number">-1</span>];<span class="comment">//å…ˆç”¨reså­˜å‚¨å‰ç¼€ä¹‹ç§¯</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> r=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=nums.<span class="built_in">size</span>()<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">            res[i]=res[i]*r;<span class="comment">//æ›´æ–°res,res[i]æœ€ç»ˆåº”ä¸ºnums[i]çš„å‰ç¼€ä¹‹ç§¯Ã—åç¼€ä¹‹ç§¯</span></span><br><span class="line">            r*=nums[i];<span class="comment">//ç”¨Rå­˜å‚¨å½“å‰å¯¹åº”å…ƒç´ çš„åç¼€ä¹‹ç§¯</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> leetcodeåˆ·é¢˜ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> leetcode </tag>
            
            <tag> æ•°ç»„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>0.å¸¸ç”¨çš„C++ STLç”¨æ³•</title>
      <link href="/posts/123456.html"/>
      <url>/posts/123456.html</url>
      
        <content type="html"><![CDATA[<p>è½¬è½½è‡ªgithub.</p><p><strong>C++ æ ‡å‡†æ¨¡æ¿åº“ (STL, Standard Template Library)</strong>ï¼šåŒ…å«ä¸€äº›å¸¸ç”¨æ•°æ®ç»“æ„ä¸ç®—æ³•çš„æ¨¡æ¿çš„ C++ è½¯ä»¶åº“ã€‚å…¶åŒ…å«å››ä¸ªç»„ä»¶â€”â€”ç®—æ³• (Algorithms)ã€å®¹å™¨ (Containers)ã€ä»¿å‡½æ•° (Functors)ã€è¿­ä»£å™¨ (Iterators).</p><span id="more"></span><p>ç¤ºä¾‹ï¼š</p><ul><li>ç®—æ³•ï¼š<code>sort(a.begin(), a.end())</code></li><li>å®¹å™¨ï¼š<code>priority_queue&lt;int&gt; pque</code></li><li>ä»¿å‡½æ•°ï¼š<code>greater&lt;int&gt;()</code></li><li>è¿­ä»£å™¨ï¼š<code>vector&lt;int&gt;::iterator it = a.begin()</code></li></ul><h1 id="1-å‰è¨€"><a href="#1-å‰è¨€" class="headerlink" title="1 å‰è¨€"></a>1 å‰è¨€</h1><p>STL ä½œä¸ºä¸€ä¸ªå°è£…è‰¯å¥½ï¼Œæ€§èƒ½åˆæ ¼çš„ C++ æ ‡å‡†åº“ï¼Œåœ¨ç®—æ³•ç«èµ›ä¸­è¿ç”¨æå…¶å¸¸è§ã€‚çµæ´»ä¸”æ­£ç¡®ä½¿ç”¨ STL å¯ä»¥èŠ‚çœéå¸¸å¤šè§£é¢˜æ—¶é—´ï¼Œè¿™ä¸€ç‚¹ä¸ä»…æ˜¯ç”±äºå¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œè¿˜æ˜¯å› ä¸ºå®ƒå°è£…è‰¯å¥½ï¼Œå¯ä»¥è®©ä»£ç çš„å¯è¯»æ€§å˜é«˜ï¼Œè§£é¢˜æ€è·¯æ›´æ¸…æ™°ï¼Œè°ƒè¯•è¿‡ç¨‹ <del>å¾€å¾€</del> æ›´é¡ºåˆ©ã€‚</p><p>ä¸è¿‡ STL æ¯•ç«Ÿä½¿ç”¨äº†å¾ˆå¤šå¤æ‚çš„ç»“æ„æ¥å®ç°ä¸°å¯Œçš„åŠŸèƒ½ï¼Œå®ƒçš„æ•ˆç‡å¾€å¾€æ˜¯æ¯”ä¸ä¸Šè‡ªå·±æ‰‹æ“é’ˆå¯¹ç‰¹å®šé¢˜ç›®çš„æ•°æ®ç»“æ„ä¸ç®—æ³•çš„ã€‚å› æ­¤ï¼ŒSTL çš„ä½¿ç”¨ç›¸å½“äºä½¿ç”¨æ›´é•¿çš„è¿è¡Œæ—¶é—´æ¢å–æ›´é«˜çš„ç¼–ç¨‹æ•ˆç‡ã€‚å› æ­¤ï¼Œåœ¨å®é™…æ¯”èµ›ä¸­è¦æƒè¡¡ STL çš„åˆ©å¼Šï¼Œä¸è¿‡è¿™ä¸€ç‚¹å°±å¾—é ç»éªŒäº†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä¼šåˆ†äº«åœ¨ç®—æ³•ç«èµ›ä¸­å¸¸ç”¨çš„ STL å®¹å™¨å’Œç®—æ³•ï¼Œå¯¹äºå‡½æ•°å’Œè¿­ä»£å™¨ï¼Œå°±ä¸ç€é‡å±•å¼€è®²äº†ã€‚</p><h1 id="2-å¸¸ç”¨å®¹å™¨"><a href="#2-å¸¸ç”¨å®¹å™¨" class="headerlink" title="2 å¸¸ç”¨å®¹å™¨"></a>2 å¸¸ç”¨å®¹å™¨</h1><h2 id="2-1-å†…å®¹æ€»è§ˆ"><a href="#2-1-å†…å®¹æ€»è§ˆ" class="headerlink" title="2.1 å†…å®¹æ€»è§ˆ"></a>2.1 å†…å®¹æ€»è§ˆ</h2><p>æ‰“å‹¾çš„æ˜¯æœ¬æ¬¡å°†ä¼šè¯¦ç»†è®²è§£çš„ï¼ŒåŠ ç²—çš„æ˜¯ç®—æ³•ç«èµ›ä¸­æœ‰å¿…è¦å­¦ä¹ çš„ã€‚</p><ul><li><p>é¡ºåºå®¹å™¨</p><ul><li><p>[ ] <strong>array</strong></p></li><li><p>[x] <strong>vector</strong></p></li><li><p>[ ] <strong>deque</strong></p></li><li><p>[ ] forward_list</p></li><li><p>[ ] <strong>list</strong></p></li></ul></li><li><p>å…³è”å®¹å™¨</p><ul><li>[x] <strong>set</strong></li><li>[x] <strong>map</strong></li><li>[ ] <strong>multiset</strong></li><li>[ ] <strong>multimap</strong></li></ul></li><li><p>æ— åºå…³è”å®¹å™¨</p><ul><li>[ ] <strong>unordered_set</strong></li><li>[ ] <strong>unordered_map</strong></li><li>[ ] <strong>unordered_multiset</strong></li><li>[ ] <strong>unordered_multimap</strong></li></ul></li><li><p>å®¹å™¨é€‚é…å™¨</p><ul><li>[x] <strong>stack</strong></li><li>[x] <strong>queue</strong></li><li>[x] <strong>priority_queue</strong></li><li>[ ] flat_set</li><li>[ ] flat_map</li><li>[ ] flat_multiset</li><li>[ ] flat_multimap</li></ul></li><li><p>å­—ç¬¦ä¸²</p><ul><li>[x] <strong>string</strong> (basic_string\<char\>)</li></ul></li><li><p>å¯¹ä¸å…ƒç»„</p><ul><li>[x] <strong>pair</strong></li><li>[ ] <strong>tuple</strong></li></ul></li></ul><h2 id="2-2-å‘é‡-vector"><a href="#2-2-å‘é‡-vector" class="headerlink" title="2.2 å‘é‡ vector"></a>2.2 å‘é‡ <a href="https://zh.cppreference.com/w/cpp/container/vector">vector</a></h2><p><strong><code>#include &lt;vector&gt;</code></strong></p><p>è¿ç»­çš„é¡ºåºçš„å‚¨å­˜ç»“æ„ï¼ˆå’Œæ•°ç»„ä¸€æ ·çš„ç±»åˆ«ï¼‰ï¼Œä½†æ˜¯æœ‰é•¿åº¦å¯å˜çš„ç‰¹æ€§ã€‚</p><h3 id="2-2-1-å¸¸ç”¨æ–¹æ³•"><a href="#2-2-1-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="2.2.1 å¸¸ç”¨æ–¹æ³•"></a>2.2.1 å¸¸ç”¨æ–¹æ³•</h3><h4 id="æ„é€ "><a href="#æ„é€ " class="headerlink" title="æ„é€ "></a>æ„é€ </h4><p><strong><code>vector&lt;ç±»å‹&gt; arr(é•¿åº¦, [åˆå€¼])</code></strong></p><p>æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$</p><p>å¸¸ç”¨çš„ä¸€ç»´å’ŒäºŒç»´æ•°ç»„æ„é€ ç¤ºä¾‹ï¼Œé«˜ç»´ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼ˆå°±æ˜¯ä¼šæœ‰ç‚¹é•¿ï¼‰.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; arr;         <span class="comment">// æ„é€ intæ•°ç»„</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">arr</span><span class="params">(<span class="number">100</span>)</span></span>;    <span class="comment">// æ„é€ åˆå§‹é•¿100çš„intæ•°ç»„</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">arr</span><span class="params">(<span class="number">100</span>, <span class="number">1</span>)</span></span>; <span class="comment">// æ„é€ åˆå§‹é•¿100çš„intæ•°ç»„ï¼Œåˆå€¼ä¸º1</span></span><br><span class="line"></span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">mat</span>(<span class="number">100</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt; ());       <span class="comment">// æ„é€ åˆå§‹100è¡Œï¼Œä¸æŒ‡å®šåˆ—æ•°çš„äºŒç»´æ•°ç»„</span></span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">mat</span>(<span class="number">100</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt; (<span class="number">666</span>, <span class="number">-1</span>)) <span class="comment">// æ„é€ åˆå§‹100è¡Œï¼Œåˆå§‹666åˆ—çš„äºŒç»´æ•°ç»„ï¼Œåˆå€¼ä¸º-1</span></span><br></pre></td></tr></table></figure><p>æ„é€ äºŒç»´æ•°ç»„çš„å¥‡è‘©å†™æ³•ï¼Œåƒä¸‡åˆ«ç”¨ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; arr[<span class="number">100</span>];         <span class="comment">// æ­£ç¡®ï¼Œæ„é€ åˆå§‹100è¡Œï¼Œä¸æŒ‡å®šåˆ—æ•°çš„äºŒç»´æ•°ç»„ï¼Œå¯ç”¨äºé“¾å¼å‰å‘æ˜Ÿå­˜å›¾</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; arr[<span class="number">100</span>](<span class="number">100</span>, <span class="number">1</span>); <span class="comment">// è¯­æ³•é”™è¯¯ï¼</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">arr</span><span class="params">(<span class="number">100</span>, <span class="number">1</span>)</span>[100]</span>; <span class="comment">// è¯­æ³•é”™è¯¯ï¼</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; arr[<span class="number">100</span>] &#123;&#123;<span class="number">100</span>, <span class="number">1</span>&#125;, è¿™é‡Œçœç•¥<span class="number">98</span>ä¸ª ,&#123;<span class="number">100</span>, <span class="number">1</span>&#125;&#125;; <span class="comment">// æ­£ç¡®ä½†å¥‡è‘©ï¼Œä½¿ç”¨åˆ—è¡¨åˆå§‹åŒ–</span></span><br></pre></td></tr></table></figure><h4 id="å°¾æ¥-amp-å°¾åˆ "><a href="#å°¾æ¥-amp-å°¾åˆ " class="headerlink" title="å°¾æ¥ &amp; å°¾åˆ "></a>å°¾æ¥ &amp; å°¾åˆ </h4><ul><li><strong><code>.push_back(å…ƒç´ )</code></strong>ï¼šåœ¨ vector å°¾æ¥ä¸€ä¸ªå…ƒç´ ï¼Œæ•°ç»„é•¿åº¦ $+1$.</li><li><strong><code>.pop_back()</code></strong>ï¼šåˆ é™¤ vector å°¾éƒ¨çš„ä¸€ä¸ªå…ƒç´ ï¼Œæ•°ç»„é•¿åº¦ $-1$</li></ul><p>æ—¶é—´å¤æ‚åº¦ï¼šå‡æ‘Š $O(1)$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// init: arr = []</span></span><br><span class="line">arr.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// after: arr = [1]</span></span><br><span class="line">arr.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// after: arr = [1, 2]</span></span><br><span class="line">arr.<span class="built_in">pop_back</span>();</span><br><span class="line"><span class="comment">// after: arr = [1]</span></span><br><span class="line">arr.<span class="built_in">pop_back</span>();</span><br><span class="line"><span class="comment">// after: arr = []</span></span><br></pre></td></tr></table></figure><h4 id="ä¸­æ‹¬å·è¿ç®—ç¬¦"><a href="#ä¸­æ‹¬å·è¿ç®—ç¬¦" class="headerlink" title="ä¸­æ‹¬å·è¿ç®—ç¬¦"></a>ä¸­æ‹¬å·è¿ç®—ç¬¦</h4><p>å’Œä¸€èˆ¬æ•°ç»„ä¸€æ ·çš„ä½œç”¨</p><p>æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$</p><h4 id="è·å–é•¿åº¦"><a href="#è·å–é•¿åº¦" class="headerlink" title="è·å–é•¿åº¦"></a>è·å–é•¿åº¦</h4><p><strong><code>.size()</code></strong></p><p>è·å–å½“å‰ vector çš„é•¿åº¦</p><p>æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; arr.<span class="built_in">size</span>(); i++)</span><br><span class="line">    cout &lt;&lt; a[i] &lt;&lt; endl;</span><br></pre></td></tr></table></figure><h4 id="æ¸…ç©º"><a href="#æ¸…ç©º" class="headerlink" title="æ¸…ç©º"></a>æ¸…ç©º</h4><p><strong><code>.clear()</code></strong></p><p>æ¸…ç©º vector</p><p>æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$</p><h4 id="åˆ¤ç©º"><a href="#åˆ¤ç©º" class="headerlink" title="åˆ¤ç©º"></a>åˆ¤ç©º</h4><p><strong><code>.empty()</code></strong></p><p>å¦‚æœæ˜¯ç©ºè¿”å› <code>true</code> åä¹‹è¿”å› <code>false</code>.</p><p>æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$</p><h4 id="æ”¹å˜é•¿åº¦"><a href="#æ”¹å˜é•¿åº¦" class="headerlink" title="æ”¹å˜é•¿åº¦"></a>æ”¹å˜é•¿åº¦</h4><p><strong><code>.resize(æ–°é•¿åº¦, [é»˜è®¤å€¼])</code></strong></p><p>ä¿®æ”¹ vector çš„é•¿åº¦</p><ul><li>å¦‚æœæ˜¯ç¼©çŸ­ï¼Œåˆ™åˆ é™¤å¤šä½™çš„å€¼</li><li>å¦‚æœæ˜¯æ‰©å¤§ï¼Œä¸”æŒ‡å®šäº†é»˜è®¤å€¼ï¼Œåˆ™æ–°å…ƒç´ å‡ä¸ºé»˜è®¤å€¼<strong>ï¼ˆæ—§å…ƒç´ ä¸å˜ï¼‰</strong></li></ul><p>æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$</p><h3 id="2-2-2-é€‚ç”¨æƒ…å½¢"><a href="#2-2-2-é€‚ç”¨æƒ…å½¢" class="headerlink" title="2.2.2 é€‚ç”¨æƒ…å½¢"></a>2.2.2 é€‚ç”¨æƒ…å½¢</h3><p>ä¸€èˆ¬æƒ…å†µ <code>vector</code> å¯ä»¥æ›¿æ¢æ‰æ™®é€šæ•°ç»„ï¼Œé™¤éè¯¥é¢˜å¡å¸¸ã€‚</p><p>æœ‰äº›æƒ…å†µæ™®é€šæ•°ç»„æ²¡æ³•è§£å†³ï¼š$n\times m$ çš„çŸ©é˜µï¼Œ$1\leq n,m\leq 10^6$ ä¸” $n\times m \leq 10^6$</p><ul><li>å¦‚æœç”¨æ™®é€šæ•°ç»„ <code>int mat[1000010][1000010]</code>ï¼Œæµªè´¹å†…å­˜ï¼Œä¼šå¯¼è‡´ MLEã€‚</li><li>å¦‚æœä½¿ç”¨ <code>vector&lt;vector&lt;int&gt;&gt; mat(n + 10, vector&lt;int&gt; (m + 10))</code>ï¼Œå®Œç¾è§£å†³è¯¥é—®é¢˜ã€‚</li></ul><p>å¦å¤–ï¼Œ<code>vector</code> çš„æ•°æ®å‚¨å­˜åœ¨å †ç©ºé—´ä¸­ï¼Œä¸ä¼šçˆ†æ ˆã€‚</p><h3 id="2-2-3-æ³¨æ„äº‹é¡¹"><a href="#2-2-3-æ³¨æ„äº‹é¡¹" class="headerlink" title="2.2.3 æ³¨æ„äº‹é¡¹"></a>2.2.3 æ³¨æ„äº‹é¡¹</h3><h4 id="æå‰æŒ‡å®šé•¿åº¦"><a href="#æå‰æŒ‡å®šé•¿åº¦" class="headerlink" title="æå‰æŒ‡å®šé•¿åº¦"></a>æå‰æŒ‡å®šé•¿åº¦</h4><p>å¦‚æœé•¿åº¦å·²ç»ç¡®å®šï¼Œé‚£ä¹ˆåº”å½“ç›´æ¥åœ¨æ„é€ å‡½æ•°æŒ‡å®šé•¿åº¦ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä¸€ä¸ª <code>.push_back()</code>. å› ä¸º <code>vector</code> é¢å¤–å†…å­˜è€—å°½åçš„é‡åˆ†é…æ˜¯æœ‰æ—¶é—´å¼€é”€çš„ï¼Œç›´æ¥æŒ‡å®šé•¿åº¦å°±ä¸ä¼šå‡ºç°é‡åˆ†é…äº†ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼˜åŒ–å‰: 522ms</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; a;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1e8</span>; i++)</span><br><span class="line">    a.<span class="built_in">push_back</span>(i);</span><br><span class="line"><span class="comment">// ä¼˜åŒ–å: 259ms</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(<span class="number">1e8</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a.<span class="built_in">size</span>(); i++)</span><br><span class="line">    a[i] = i;</span><br></pre></td></tr></table></figure><h4 id="å½“å¿ƒ-size-t-æº¢å‡º"><a href="#å½“å¿ƒ-size-t-æº¢å‡º" class="headerlink" title="å½“å¿ƒ size_t æº¢å‡º"></a>å½“å¿ƒ size_t æº¢å‡º</h4><p>vector è·å–é•¿åº¦çš„æ–¹æ³• <code>.size()</code> è¿”å›å€¼ç±»å‹ä¸º <code>size_t</code>ï¼Œé€šå¸¸ OJ å¹³å°ä½¿ç”¨çš„æ˜¯ 32 ä½ç¼–è¯‘å™¨ï¼ˆæœ‰äº›å¹³å°ä¾‹å¦‚ cf å¯é€‰ 64 ä½ï¼‰ï¼Œé‚£ä¹ˆè¯¥ç±»å‹èŒƒå›´ä¸º $[0,2^{32})$.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(<span class="number">65536</span>)</span></span>;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> a = a.<span class="built_in">size</span>() * a.<span class="built_in">size</span>(); <span class="comment">// ç›´æ¥æº¢å‡ºå˜æˆ0äº†</span></span><br></pre></td></tr></table></figure><h2 id="2-3-æ ˆ-stack"><a href="#2-3-æ ˆ-stack" class="headerlink" title="2.3 æ ˆ stack"></a>2.3 æ ˆ <a href="https://zh.cppreference.com/w/cpp/container/stack">stack</a></h2><p><strong><code>#include &lt;stack&gt;</code></strong></p><p>é€šè¿‡äºŒæ¬¡å°è£…åŒç«¯é˜Ÿåˆ— (deque) å®¹å™¨ï¼Œå®ç°å…ˆè¿›åå‡ºçš„æ ˆæ•°æ®ç»“æ„ã€‚</p><h3 id="2-3-1-å¸¸ç”¨æ–¹æ³•"><a href="#2-3-1-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="2.3.1 å¸¸ç”¨æ–¹æ³•"></a>2.3.1 å¸¸ç”¨æ–¹æ³•</h3><div class="table-container"><table><thead><tr><th>ä½œç”¨</th><th>ç”¨æ³•</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>æ„é€ </td><td><code>stack&lt;ç±»å‹&gt; stk</code></td><td><code>stack&lt;int&gt; stk;</code></td></tr><tr><td>è¿›æ ˆ</td><td><code>.push(å…ƒç´ )</code></td><td><code>stk.push(1);</code></td></tr><tr><td>å‡ºæ ˆ</td><td><code>.pop()</code></td><td><code>stk.pop();</code></td></tr><tr><td>å–æ ˆé¡¶</td><td><code>.top()</code></td><td><code>int a = stk.top();</code></td></tr><tr><td>æŸ¥çœ‹å¤§å° / æ¸…ç©º / åˆ¤ç©º</td><td>ç•¥</td><td>ç•¥</td></tr></tbody></table></div><h3 id="2-3-2-é€‚ç”¨æƒ…å½¢"><a href="#2-3-2-é€‚ç”¨æƒ…å½¢" class="headerlink" title="2.3.2 é€‚ç”¨æƒ…å½¢"></a>2.3.2 é€‚ç”¨æƒ…å½¢</h3><p>å¦‚æœä¸å¡å¸¸çš„è¯ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨å®ƒè€Œä¸éœ€è¦æ‰‹å†™æ ˆäº†ã€‚</p><p>å¦å¤–ï¼Œvector ä¹Ÿå¯ä»¥å½“æ ˆç”¨ï¼Œvector çš„ <code>.back()</code> å–å°¾éƒ¨å…ƒç´ ï¼Œå°±ç›¸å½“äºå–æ ˆé¡¶ï¼Œ<code>.push_back()</code> ç›¸å½“äºè¿›æ ˆï¼Œ<code>.pop_back()</code> ç›¸å½“äºå‡ºæ ˆã€‚</p><h3 id="2-3-3-æ³¨æ„äº‹é¡¹"><a href="#2-3-3-æ³¨æ„äº‹é¡¹" class="headerlink" title="2.3.3 æ³¨æ„äº‹é¡¹"></a>2.3.3 æ³¨æ„äº‹é¡¹</h3><p>ä¸å¯è®¿é—®å†…éƒ¨å…ƒç´ ï¼<strong>ä¸‹é¢éƒ½æ˜¯é”™è¯¯ç”¨æ³•</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; stk.<span class="built_in">size</span>(); i++)</span><br><span class="line">    cout &lt;&lt; stk[i] &lt;&lt; endl;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> ele : stk)</span><br><span class="line">    cout &lt;&lt; stk &lt;&lt; endl;</span><br></pre></td></tr></table></figure><h2 id="2-4-é˜Ÿåˆ—-queue"><a href="#2-4-é˜Ÿåˆ—-queue" class="headerlink" title="2.4 é˜Ÿåˆ— queue"></a>2.4 é˜Ÿåˆ— <a href="https://zh.cppreference.com/w/cpp/container/queue">queue</a></h2><p><strong><code>#include &lt;queue&gt;</code></strong></p><p>é€šè¿‡äºŒæ¬¡å°è£…åŒç«¯é˜Ÿåˆ— (deque) å®¹å™¨ï¼Œå®ç°å…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—æ•°æ®ç»“æ„ã€‚</p><h3 id="2-4-1-å¸¸ç”¨æ–¹æ³•"><a href="#2-4-1-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="2.4.1 å¸¸ç”¨æ–¹æ³•"></a>2.4.1 å¸¸ç”¨æ–¹æ³•</h3><div class="table-container"><table><thead><tr><th>ä½œç”¨</th><th>ç”¨æ³•</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>æ„é€ </td><td><code>queue&lt;ç±»å‹&gt; que</code></td><td><code>queue&lt;int&gt; que;</code></td></tr><tr><td>è¿›é˜Ÿ</td><td><code>.push(å…ƒç´ )</code></td><td><code>que.push(1);</code></td></tr><tr><td>å‡ºé˜Ÿ</td><td><code>.pop()</code></td><td><code>que.pop();</code></td></tr><tr><td>å–é˜Ÿé¦–</td><td><code>.front()</code></td><td><code>int a = que.front();</code></td></tr><tr><td>å–é˜Ÿå°¾</td><td><code>.back()</code></td><td><code>int a = que.back();</code></td></tr><tr><td>æŸ¥çœ‹å¤§å° / æ¸…ç©º / åˆ¤ç©º</td><td>ç•¥</td><td>ç•¥</td></tr></tbody></table></div><h3 id="2-4-2-é€‚ç”¨æƒ…å½¢"><a href="#2-4-2-é€‚ç”¨æƒ…å½¢" class="headerlink" title="2.4.2 é€‚ç”¨æƒ…å½¢"></a>2.4.2 é€‚ç”¨æƒ…å½¢</h3><p>å¦‚æœä¸å¡å¸¸çš„è¯ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨å®ƒè€Œä¸éœ€è¦æ‰‹å†™é˜Ÿåˆ—äº†ã€‚</p><h3 id="2-4-3-æ³¨æ„äº‹é¡¹"><a href="#2-4-3-æ³¨æ„äº‹é¡¹" class="headerlink" title="2.4.3 æ³¨æ„äº‹é¡¹"></a>2.4.3 æ³¨æ„äº‹é¡¹</h3><p>ä¸å¯è®¿é—®å†…éƒ¨å…ƒç´ ï¼<strong>ä¸‹é¢éƒ½æ˜¯é”™è¯¯ç”¨æ³•</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; que.<span class="built_in">size</span>(); i++)</span><br><span class="line">    cout &lt;&lt; que[i] &lt;&lt; endl;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> ele : que)</span><br><span class="line">    cout &lt;&lt; ele &lt;&lt; endl;</span><br></pre></td></tr></table></figure><h2 id="2-5-ä¼˜å…ˆé˜Ÿåˆ—-priority-queue"><a href="#2-5-ä¼˜å…ˆé˜Ÿåˆ—-priority-queue" class="headerlink" title="2.5 ä¼˜å…ˆé˜Ÿåˆ— priority_queue"></a>2.5 ä¼˜å…ˆé˜Ÿåˆ— <a href="https://zh.cppreference.com/w/cpp/container/priority_queue">priority_queue</a></h2><p><strong><code>#include &lt;queue&gt;</code></strong></p><p>æä¾›å¸¸æ•°æ—¶é—´çš„æœ€å¤§å…ƒç´ æŸ¥æ‰¾ï¼Œå¯¹æ•°æ—¶é—´çš„æ’å…¥ä¸æå–ï¼Œåº•å±‚åŸç†æ˜¯äºŒå‰å †ã€‚</p><h3 id="2-5-1-å¸¸ç”¨æ–¹æ³•"><a href="#2-5-1-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="2.5.1 å¸¸ç”¨æ–¹æ³•"></a>2.5.1 å¸¸ç”¨æ–¹æ³•</h3><h4 id="æ„é€ -1"><a href="#æ„é€ -1" class="headerlink" title="æ„é€ "></a>æ„é€ </h4><p><strong><code>priority_queue&lt;ç±»å‹, å®¹å™¨, æ¯”è¾ƒå™¨&gt; pque</code></strong></p><ul><li>ç±»å‹ï¼šè¦å‚¨å­˜çš„æ•°æ®ç±»å‹</li><li>å®¹å™¨ï¼šå‚¨å­˜æ•°æ®çš„åº•å±‚å®¹å™¨ï¼Œé»˜è®¤ä¸º <code>vector&lt;ç±»å‹&gt;</code>ï¼Œç«èµ›ä¸­ä¿æŒé»˜è®¤å³å¯</li><li>æ¯”è¾ƒå™¨ï¼šæ¯”è¾ƒå¤§å°ä½¿ç”¨çš„æ¯”è¾ƒå™¨ï¼Œé»˜è®¤ä¸º <code>less&lt;ç±»å‹&gt;</code>ï¼Œå¯è‡ªå®šä¹‰</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">priority_queue&lt;<span class="type">int</span>&gt; pque1;                            <span class="comment">// å‚¨å­˜intçš„å¤§é¡¶å †</span></span><br><span class="line">priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt; pque2; <span class="comment">// å‚¨å­˜intçš„å°é¡¶å †</span></span><br></pre></td></tr></table></figure><blockquote><p>å¯¹äºéœ€è¦è‡ªå®šä¹‰æ¯”è¾ƒå™¨çš„æƒ…å†µï¼Œæ¶‰åŠä¸€äº›åˆå­¦æ—¶å®¹æ˜“çœ‹è¿·ç³Šçš„è¯­æ³•ï¼ˆé‡è½½å°æ‹¬å·è¿ç®—ç¬¦ / lambda è¡¨è¾¾å¼ï¼‰ï¼Œåœ¨æ­¤å°±ä¸å±•å¼€è®²äº†ã€‚å¦‚æœæƒ³è¦äº†è§£ï¼Œå¯ä»¥æŸ¥é˜… cppreference ä¸­çš„ä»£ç ç¤ºä¾‹ã€‚</p></blockquote><h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><div class="table-container"><table><thead><tr><th>ä½œç”¨</th><th>ç”¨æ³•</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>è¿›å †</td><td><code>.push(å…ƒç´ )</code></td><td><code>que.push(1);</code></td></tr><tr><td>å‡ºå †</td><td><code>.pop()</code></td><td><code>que.pop();</code></td></tr><tr><td>å–å †é¡¶</td><td><code>.top()</code></td><td><code>int a = que.top();</code></td></tr><tr><td>æŸ¥çœ‹å¤§å° / åˆ¤ç©º</td><td>ç•¥</td><td>ç•¥</td></tr></tbody></table></div><p>è¿›å‡ºé˜Ÿå¤æ‚åº¦ $O(\log n)$ï¼Œå–å †é¡¶ $O(1)$.</p><h3 id="2-5-2-é€‚ç”¨æƒ…å½¢"><a href="#2-5-2-é€‚ç”¨æƒ…å½¢" class="headerlink" title="2.5.2 é€‚ç”¨æƒ…å½¢"></a>2.5.2 é€‚ç”¨æƒ…å½¢</h3><p>æŒç»­ç»´æŠ¤å…ƒç´ çš„æœ‰åºæ€§ï¼šæ¯æ¬¡å‘é˜Ÿåˆ—æ’å…¥å¤§å°ä¸å®šçš„å…ƒç´ ï¼Œæˆ–è€…æ¯æ¬¡ä»é˜Ÿåˆ—é‡Œå–å‡ºå¤§å°æœ€å°/æœ€å¤§çš„å…ƒç´ ï¼Œå…ƒç´ æ•°é‡ $n$ï¼Œæ’å…¥æ“ä½œæ•°é‡ $k$.</p><ul><li>æ¯æ¬¡æ’å…¥åè¿›è¡Œå¿«é€Ÿæ’åºï¼š$k\cdot n\log n$</li><li>ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤ï¼š$k\cdot\log n$</li></ul><h3 id="2-5-3-æ³¨æ„äº‹é¡¹"><a href="#2-5-3-æ³¨æ„äº‹é¡¹" class="headerlink" title="2.5.3 æ³¨æ„äº‹é¡¹"></a>2.5.3 æ³¨æ„äº‹é¡¹</h3><h4 id="ä»…å †é¡¶å¯è¯»"><a href="#ä»…å †é¡¶å¯è¯»" class="headerlink" title="ä»…å †é¡¶å¯è¯»"></a>ä»…å †é¡¶å¯è¯»</h4><p>åªå¯è®¿é—®å †é¡¶ï¼Œå…¶ä»–å…ƒç´ éƒ½æ— æ³•è¯»å–åˆ°ã€‚<strong>ä¸‹é¢æ˜¯é”™è¯¯ç”¨æ³•ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; pque[<span class="number">1</span>] &lt;&lt; endl;</span><br></pre></td></tr></table></figure><h4 id="æ‰€æœ‰å…ƒç´ ä¸å¯å†™"><a href="#æ‰€æœ‰å…ƒç´ ä¸å¯å†™" class="headerlink" title="æ‰€æœ‰å…ƒç´ ä¸å¯å†™"></a>æ‰€æœ‰å…ƒç´ ä¸å¯å†™</h4><p>å †ä¸­æ‰€æœ‰å…ƒç´ æ˜¯ä¸å¯ä¿®æ”¹çš„ã€‚<strong>ä¸‹é¢æ˜¯é”™è¯¯ç”¨æ³•ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pque[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">pque.<span class="built_in">top</span>() = <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æ°å¥½è¦ä¿®æ”¹çš„æ˜¯å †é¡¶å…ƒç´ ï¼Œé‚£ä¹ˆæ˜¯å¯ä»¥å®Œæˆçš„ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> tp = pque.<span class="built_in">top</span>();</span><br><span class="line">pque.<span class="built_in">pop</span>();</span><br><span class="line">pque.<span class="built_in">push</span>(tp + <span class="number">1</span>);</span><br></pre></td></tr></table></figure><h2 id="2-6-é›†åˆ-set"><a href="#2-6-é›†åˆ-set" class="headerlink" title="2.6 é›†åˆ set"></a>2.6 é›†åˆ <a href="https://zh.cppreference.com/w/cpp/container/set">set</a></h2><p><strong><code>#include &lt;set&gt;</code></strong></p><p>æä¾›å¯¹æ•°æ—¶é—´çš„æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾çš„é›†åˆæ•°æ®ç»“æ„ã€‚åº•å±‚åŸç†æ˜¯çº¢é»‘æ ‘ã€‚</p><div class="table-container"><table><thead><tr><th>é›†åˆä¸‰è¦ç´ </th><th>è§£é‡Š</th><th>set</th><th>multiset</th><th>unordered_set</th></tr></thead><tbody><tr><td>ç¡®å®šæ€§</td><td>ä¸€ä¸ªå…ƒç´ è¦ä¹ˆåœ¨é›†åˆä¸­ï¼Œè¦ä¹ˆä¸åœ¨</td><td>âœ”</td><td>âœ”</td><td>âœ”</td></tr><tr><td>äº’å¼‚æ€§</td><td>ä¸€ä¸ªå…ƒç´ ä»…å¯ä»¥åœ¨é›†åˆä¸­å‡ºç°ä¸€æ¬¡</td><td>âœ”</td><td>âŒï¼ˆä»»æ„æ¬¡ï¼‰</td><td>âœ”</td></tr><tr><td>æ— åºæ€§</td><td>é›†åˆä¸­çš„å…ƒç´ æ˜¯æ²¡æœ‰é¡ºåºçš„</td><td>âŒï¼ˆä»å°åˆ°å¤§ï¼‰</td><td>âŒï¼ˆä»å°åˆ°å¤§ï¼‰</td><td>âœ”</td></tr></tbody></table></div><h3 id="2-6-1-å¸¸ç”¨æ–¹æ³•"><a href="#2-6-1-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="2.6.1 å¸¸ç”¨æ–¹æ³•"></a>2.6.1 å¸¸ç”¨æ–¹æ³•</h3><h4 id="æ„é€ -2"><a href="#æ„é€ -2" class="headerlink" title="æ„é€ "></a>æ„é€ </h4><p><strong><code>set&lt;ç±»å‹, æ¯”è¾ƒå™¨&gt; st</code></strong></p><ul><li>ç±»å‹ï¼šè¦å‚¨å­˜çš„æ•°æ®ç±»å‹</li><li>æ¯”è¾ƒå™¨ï¼šæ¯”è¾ƒå¤§å°ä½¿ç”¨çš„æ¯”è¾ƒå™¨ï¼Œé»˜è®¤ä¸º <code>less&lt;ç±»å‹&gt;</code>ï¼Œå¯è‡ªå®šä¹‰</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set&lt;<span class="type">int</span>&gt; st1;               <span class="comment">// å‚¨å­˜intçš„é›†åˆï¼ˆä»å°åˆ°å¤§ï¼‰</span></span><br><span class="line">set&lt;<span class="type">int</span>, greater&lt;<span class="type">int</span>&gt;&gt; st2; <span class="comment">// å‚¨å­˜intçš„é›†åˆï¼ˆä»å¤§åˆ°å°ï¼‰</span></span><br></pre></td></tr></table></figure><blockquote><p>å¯¹äºéœ€è¦è‡ªå®šä¹‰æ¯”è¾ƒå™¨çš„æƒ…å†µï¼Œæ¶‰åŠä¸€äº›åˆå­¦æ—¶å®¹æ˜“çœ‹è¿·ç³Šçš„è¯­æ³•ï¼ˆé‡è½½å°æ‹¬å·è¿ç®—ç¬¦ / lambda è¡¨è¾¾å¼ï¼‰ï¼Œåœ¨æ­¤å°±ä¸å±•å¼€è®²äº†ã€‚</p></blockquote><h4 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h4><p>å¯ä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œéå†ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (set&lt;<span class="type">int</span>&gt;::iterator it = st.<span class="built_in">begin</span>(); it != st.<span class="built_in">end</span>(); ++it)</span><br><span class="line">    cout &lt;&lt; *it &lt;&lt; endl;</span><br></pre></td></tr></table></figure><p>åŸºäºèŒƒå›´çš„å¾ªç¯ï¼ˆC++ 11ï¼‰ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> &amp;ele : st)</span><br><span class="line">    cout &lt;&lt; ele &lt;&lt; endl;</span><br></pre></td></tr></table></figure><h4 id="å…¶ä»–-1"><a href="#å…¶ä»–-1" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><div class="table-container"><table><thead><tr><th>ä½œç”¨</th><th>ç”¨æ³•</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>æ’å…¥å…ƒç´ </td><td><code>.insert(å…ƒç´ )</code></td><td><code>st.insert(1);</code></td></tr><tr><td>åˆ é™¤å…ƒç´ </td><td><code>.erase(å…ƒç´ )</code></td><td><code>st.erase(2);</code></td></tr><tr><td>æŸ¥æ‰¾å…ƒç´ </td><td><code>.find(å…ƒç´ )</code></td><td><code>auto it = st.find(1);</code></td></tr><tr><td>åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨</td><td><code>.count(å…ƒç´ )</code></td><td><code>st.count(3);</code></td></tr><tr><td>æŸ¥çœ‹å¤§å° / æ¸…ç©º / åˆ¤ç©º</td><td>ç•¥</td><td>ç•¥</td></tr></tbody></table></div><p>å¢åˆ æŸ¥æ—¶é—´å¤æ‚åº¦å‡ä¸º $O(\log n)$</p><h3 id="2-6-2-é€‚ç”¨æƒ…å½¢"><a href="#2-6-2-é€‚ç”¨æƒ…å½¢" class="headerlink" title="2.6.2 é€‚ç”¨æƒ…å½¢"></a>2.6.2 é€‚ç”¨æƒ…å½¢</h3><ul><li>å…ƒç´ å»é‡ï¼š$[1,1,3,2,4,4]\to[1,2,3,4]$</li><li>ç»´æŠ¤é¡ºåºï¼š$[1,5,3,7,9]\to[1,3,5,7,9]$</li><li>å…ƒç´ æ˜¯å¦å‡ºç°è¿‡ï¼šå…ƒç´ å¤§å° $[-10^{18},10^{18}]$ï¼Œå…ƒç´ æ•°é‡ $10^6$ï¼Œvis æ•°ç»„æ— æ³•å®ç°ï¼Œé€šè¿‡ set å¯ä»¥å®Œæˆã€‚</li></ul><h3 id="2-6-3-æ³¨æ„äº‹é¡¹"><a href="#2-6-3-æ³¨æ„äº‹é¡¹" class="headerlink" title="2.6.3 æ³¨æ„äº‹é¡¹"></a>2.6.3 æ³¨æ„äº‹é¡¹</h3><h4 id="ä¸å­˜åœ¨ä¸‹æ ‡ç´¢å¼•"><a href="#ä¸å­˜åœ¨ä¸‹æ ‡ç´¢å¼•" class="headerlink" title="ä¸å­˜åœ¨ä¸‹æ ‡ç´¢å¼•"></a>ä¸å­˜åœ¨ä¸‹æ ‡ç´¢å¼•</h4><p>set è™½è¯´å¯éå†ï¼Œä½†ä»…å¯ä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œéå†ï¼Œå®ƒä¸å­˜åœ¨ä¸‹æ ‡è¿™ä¸€æ¦‚å¿µï¼Œæ— æ³•é€šè¿‡ä¸‹æ ‡è®¿é—®åˆ°æ•°æ®ã€‚<strong>ä¸‹é¢æ˜¯é”™è¯¯ç”¨æ³•ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; st[<span class="number">0</span>] &lt;&lt; endl;</span><br></pre></td></tr></table></figure><h4 id="å…ƒç´ åªè¯»"><a href="#å…ƒç´ åªè¯»" class="headerlink" title="å…ƒç´ åªè¯»"></a>å…ƒç´ åªè¯»</h4><p>set çš„è¿­ä»£å™¨å–åˆ°çš„å…ƒç´ æ˜¯åªè¯»çš„ï¼ˆå› ä¸ºæ˜¯ const è¿­ä»£å™¨ï¼‰ï¼Œä¸å¯ä¿®æ”¹å…¶å€¼ã€‚å¦‚æœè¦æ”¹ï¼Œéœ€è¦å…ˆ erase å† insert. <strong>ä¸‹é¢æ˜¯é”™è¯¯ç”¨æ³•ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; *st.<span class="built_in">begin</span>() &lt;&lt; endl; <span class="comment">// æ­£ç¡®ã€‚å¯è¯»ã€‚</span></span><br><span class="line">*st.<span class="built_in">begin</span>() = <span class="number">1</span>;             <span class="comment">// é”™è¯¯ï¼ä¸å¯å†™ï¼</span></span><br></pre></td></tr></table></figure><h4 id="ä¸å¯ç”¨è¿­ä»£å™¨è®¡ç®—ä¸‹æ ‡"><a href="#ä¸å¯ç”¨è¿­ä»£å™¨è®¡ç®—ä¸‹æ ‡" class="headerlink" title="ä¸å¯ç”¨è¿­ä»£å™¨è®¡ç®—ä¸‹æ ‡"></a>ä¸å¯ç”¨è¿­ä»£å™¨è®¡ç®—ä¸‹æ ‡</h4><p>set çš„è¿­ä»£å™¨ä¸èƒ½åƒ vector ä¸€æ ·ç›¸å‡å¾—åˆ°ä¸‹æ ‡ã€‚<strong>ä¸‹é¢æ˜¯é”™è¯¯ç”¨æ³•ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> it = st.<span class="built_in">find</span>(<span class="number">2</span>);      <span class="comment">// æ­£ç¡®ï¼Œè¿”å›2æ‰€åœ¨ä½ç½®çš„è¿­ä»£å™¨ã€‚</span></span><br><span class="line"><span class="type">int</span> idx = it - st.<span class="built_in">begin</span>(); <span class="comment">// é”™è¯¯ï¼ä¸å¯ç›¸å‡å¾—åˆ°ä¸‹æ ‡ã€‚</span></span><br></pre></td></tr></table></figure><h2 id="2-7-æ˜ å°„-map"><a href="#2-7-æ˜ å°„-map" class="headerlink" title="2.7 æ˜ å°„ map"></a>2.7 æ˜ å°„ <a href="https://zh.cppreference.com/w/cpp/container/map">map</a></h2><p><strong><code>#include &lt;map&gt;</code></strong></p><p>æä¾›å¯¹æ•°æ—¶é—´çš„æœ‰åºé”®å€¼å¯¹ç»“æ„ã€‚åº•å±‚åŸç†æ˜¯çº¢é»‘æ ‘ã€‚</p><p>æ˜ å°„ï¼š</p><script type="math/tex; mode=display">\begin{matrix}1&\to&2\\2&\to&2\\3&\to&1\\4&\to&5\\&\vdots\end{matrix}</script><div class="table-container"><table><thead><tr><th>æ€§è´¨</th><th>è§£é‡Š</th><th>map</th><th>multimap</th><th>unordered_map</th></tr></thead><tbody><tr><td>äº’å¼‚æ€§</td><td>ä¸€ä¸ªé”®ä»…å¯ä»¥åœ¨æ˜ å°„ä¸­å‡ºç°ä¸€æ¬¡</td><td>âœ”</td><td>âŒï¼ˆä»»æ„æ¬¡ï¼‰</td><td>âœ”</td></tr><tr><td>æ— åºæ€§</td><td>é”®æ˜¯æ²¡æœ‰é¡ºåºçš„</td><td>âŒï¼ˆä»å°åˆ°å¤§ï¼‰</td><td>âŒï¼ˆä»å°åˆ°å¤§ï¼‰</td><td>âœ”</td></tr></tbody></table></div><h3 id="2-7-1-å¸¸ç”¨æ–¹æ³•"><a href="#2-7-1-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="2.7.1 å¸¸ç”¨æ–¹æ³•"></a>2.7.1 å¸¸ç”¨æ–¹æ³•</h3><h4 id="æ„é€ -3"><a href="#æ„é€ -3" class="headerlink" title="æ„é€ "></a>æ„é€ </h4><p><strong><code>map&lt;é”®ç±»å‹, å€¼ç±»å‹, æ¯”è¾ƒå™¨&gt; mp</code></strong></p><ul><li>é”®ç±»å‹ï¼šè¦å‚¨å­˜é”®çš„æ•°æ®ç±»å‹</li><li>å€¼ç±»å‹ï¼šè¦å‚¨å­˜å€¼çš„æ•°æ®ç±»å‹</li><li>æ¯”è¾ƒå™¨ï¼šé”®æ¯”è¾ƒå¤§å°ä½¿ç”¨çš„æ¯”è¾ƒå™¨ï¼Œé»˜è®¤ä¸º <code>less&lt;ç±»å‹&gt;</code>ï¼Œå¯è‡ªå®šä¹‰</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp1;               <span class="comment">// int-&gt;int çš„æ˜ å°„ï¼ˆé”®ä»å°åˆ°å¤§ï¼‰</span></span><br><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>, greater&lt;<span class="type">int</span>&gt;&gt; st2; <span class="comment">// int-&gt;int çš„æ˜ å°„ï¼ˆé”®ä»å¤§åˆ°å°ï¼‰</span></span><br></pre></td></tr></table></figure><blockquote><p>å¯¹äºéœ€è¦è‡ªå®šä¹‰æ¯”è¾ƒå™¨çš„æƒ…å†µï¼Œæ¶‰åŠä¸€äº›åˆå­¦æ—¶å®¹æ˜“çœ‹è¿·ç³Šçš„è¯­æ³•ï¼ˆé‡è½½å°æ‹¬å·è¿ç®—ç¬¦ / lambda è¡¨è¾¾å¼ï¼‰ï¼Œåœ¨æ­¤å°±ä¸å±•å¼€è®²äº†ã€‚</p></blockquote><h4 id="éå†-1"><a href="#éå†-1" class="headerlink" title="éå†"></a>éå†</h4><p>å¯ä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œéå†ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;::iterator it = mp.<span class="built_in">begin</span>(); it != mp.<span class="built_in">end</span>(); ++it)</span><br><span class="line">    cout &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br></pre></td></tr></table></figure><p>åŸºäºèŒƒå›´çš„å¾ªç¯ï¼ˆC++ 11ï¼‰ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> &amp;pr : mp)</span><br><span class="line">    cout &lt;&lt; pr.first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; pr.second &lt;&lt; endl;</span><br></pre></td></tr></table></figure><p>ç»“æ„åŒ–ç»‘å®š + åŸºäºèŒƒå›´çš„å¾ªç¯ï¼ˆC++17ï¼‰ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> &amp;[key, val] : mp)</span><br><span class="line">    cout &lt;&lt; key &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; val &lt;&lt; endl;</span><br></pre></td></tr></table></figure><h4 id="å…¶ä»–-2"><a href="#å…¶ä»–-2" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><div class="table-container"><table><thead><tr><th>ä½œç”¨</th><th>ç”¨æ³•</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>å¢ / æ”¹ / æŸ¥å…ƒç´ </td><td>ä¸­æ‹¬å·</td><td><code>mp[1] = 2;</code></td></tr><tr><td>æŸ¥å…ƒç´ ï¼ˆè¿”å›è¿­ä»£å™¨ï¼‰</td><td><code>.find(å…ƒç´ )</code></td><td><code>auto it = mp.find(1);</code></td></tr><tr><td>åˆ é™¤å…ƒç´ </td><td><code>.erase(å…ƒç´ )</code></td><td><code>mp.erase(2);</code></td></tr><tr><td>åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨</td><td><code>.count(å…ƒç´ )</code></td><td><code>mp.count(3);</code></td></tr><tr><td>æŸ¥çœ‹å¤§å° / æ¸…ç©º / åˆ¤ç©º</td><td>ç•¥</td><td>ç•¥</td></tr></tbody></table></div><p>å¢åˆ æ”¹æŸ¥æ—¶é—´å¤æ‚åº¦å‡ä¸º $O(\log n)$</p><h3 id="2-7-2-é€‚ç”¨æƒ…å½¢"><a href="#2-7-2-é€‚ç”¨æƒ…å½¢" class="headerlink" title="2.7.2 é€‚ç”¨æƒ…å½¢"></a>2.7.2 é€‚ç”¨æƒ…å½¢</h3><p>éœ€è¦ç»´æŠ¤æ˜ å°„çš„åœºæ™¯å¯ä»¥ä½¿ç”¨ï¼šè¾“å…¥è‹¥å¹²å­—ç¬¦ä¸²ï¼Œç»Ÿè®¡æ¯ç§å­—ç¬¦ä¸²çš„å‡ºç°æ¬¡æ•°ã€‚(<code>map&lt;string, int&gt; mp</code>)</p><h3 id="2-7-3-æ³¨æ„äº‹é¡¹"><a href="#2-7-3-æ³¨æ„äº‹é¡¹" class="headerlink" title="2.7.3 æ³¨æ„äº‹é¡¹"></a>2.7.3 æ³¨æ„äº‹é¡¹</h3><h4 id="ä¸­æ‹¬å·è®¿é—®æ—¶é»˜è®¤å€¼"><a href="#ä¸­æ‹¬å·è®¿é—®æ—¶é»˜è®¤å€¼" class="headerlink" title="ä¸­æ‹¬å·è®¿é—®æ—¶é»˜è®¤å€¼"></a>ä¸­æ‹¬å·è®¿é—®æ—¶é»˜è®¤å€¼</h4><p>å¦‚æœä½¿ç”¨ä¸­æ‹¬å·è®¿é—® map æ—¶å¯¹åº”çš„é”®ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆä¼šæ–°å¢è¿™ä¸ªé”®ï¼Œå¹¶ä¸”å€¼ä¸ºé»˜è®¤å€¼ï¼Œå› æ­¤ä¸­æ‹¬å·ä¼šå½±å“é”®çš„å­˜åœ¨æ€§ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line">cout &lt;&lt; mp.<span class="built_in">count</span>(<span class="string">&#x27;a&#x27;</span>) &lt;&lt; endl; <span class="comment">// 0</span></span><br><span class="line">mp[<span class="string">&#x27;a&#x27;</span>];                       <span class="comment">// å³ä½¿ä»€ä¹ˆéƒ½æ²¡åšï¼Œæ­¤æ—¶mp[&#x27;a&#x27;]=0å·²ç»æ’å…¥äº†</span></span><br><span class="line">cout &lt;&lt; mp.<span class="built_in">count</span>(<span class="string">&#x27;a&#x27;</span>) &lt;&lt; endl; <span class="comment">// 1</span></span><br><span class="line">cout &lt;&lt; mp[<span class="string">&#x27;a&#x27;</span>] &lt;&lt; endl;       <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><h4 id="ä¸å¯ç”¨è¿­ä»£å™¨è®¡ç®—ä¸‹æ ‡-1"><a href="#ä¸å¯ç”¨è¿­ä»£å™¨è®¡ç®—ä¸‹æ ‡-1" class="headerlink" title="ä¸å¯ç”¨è¿­ä»£å™¨è®¡ç®—ä¸‹æ ‡"></a>ä¸å¯ç”¨è¿­ä»£å™¨è®¡ç®—ä¸‹æ ‡</h4><p>map çš„è¿­ä»£å™¨ä¸èƒ½åƒ vector ä¸€æ ·ç›¸å‡å¾—åˆ°ä¸‹æ ‡ã€‚<strong>ä¸‹é¢æ˜¯é”™è¯¯ç”¨æ³•ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> it = mp.<span class="built_in">find</span>(<span class="string">&#x27;a&#x27;</span>);      <span class="comment">// æ­£ç¡®ï¼Œè¿”å›2æ‰€åœ¨ä½ç½®çš„è¿­ä»£å™¨ã€‚</span></span><br><span class="line"><span class="type">int</span> idx = it - mp.<span class="built_in">begin</span>();   <span class="comment">// é”™è¯¯ï¼ä¸å¯ç›¸å‡å¾—åˆ°ä¸‹æ ‡ã€‚</span></span><br></pre></td></tr></table></figure><h2 id="2-8-å­—ç¬¦ä¸²-string"><a href="#2-8-å­—ç¬¦ä¸²-string" class="headerlink" title="2.8 å­—ç¬¦ä¸² string"></a>2.8 å­—ç¬¦ä¸² <a href="https://zh.cppreference.com/w/cpp/string">string</a></h2><p><strong><code>#include &lt;string&gt;</code></strong></p><p>é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å‚¨å­˜å­—ç¬¦ä¸²çš„ã€‚</p><h3 id="2-8-1-å¸¸ç”¨æ–¹æ³•"><a href="#2-8-1-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="2.8.1 å¸¸ç”¨æ–¹æ³•"></a>2.8.1 å¸¸ç”¨æ–¹æ³•</h3><h4 id="æ„é€ -4"><a href="#æ„é€ -4" class="headerlink" title="æ„é€ "></a>æ„é€ </h4><p>æ„é€ å‡½æ•°ï¼š<code>string(é•¿åº¦, åˆå€¼)</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string s1;           <span class="comment">// æ„é€ å­—ç¬¦ä¸²ï¼Œä¸ºç©º</span></span><br><span class="line">string s2 = <span class="string">&quot;awa!&quot;</span>;  <span class="comment">// æ„é€ å­—ç¬¦ä¸²ï¼Œå¹¶èµ‹å€¼awa!</span></span><br><span class="line"><span class="function">string <span class="title">s3</span><span class="params">(<span class="number">10</span>, <span class="string">&#x27;6&#x27;</span>)</span></span>;  <span class="comment">// æ„é€ å­—ç¬¦ä¸²ï¼Œé€šè¿‡æ„é€ å‡½æ•°æ„é€ ä¸º6666666666</span></span><br></pre></td></tr></table></figure><h4 id="è¾“å…¥è¾“å‡º"><a href="#è¾“å…¥è¾“å‡º" class="headerlink" title="è¾“å…¥è¾“å‡º"></a>è¾“å…¥è¾“å‡º</h4><p>C++</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string s;</span><br><span class="line">cin &gt;&gt; s;</span><br><span class="line">cout &lt;&lt; s;</span><br></pre></td></tr></table></figure><p>C</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">string s;</span><br><span class="line"><span class="type">char</span> buf[<span class="number">100</span>];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, &amp;buf);</span><br><span class="line">s = buf;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, s.<span class="built_in">c_str</span>());</span><br></pre></td></tr></table></figure><h4 id="å…¶ä»–-3"><a href="#å…¶ä»–-3" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><div class="table-container"><table><thead><tr><th>ä½œç”¨</th><th>ç”¨æ³•</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>ä¿®æ”¹ã€æŸ¥è¯¢æŒ‡å®šä¸‹æ ‡å­—ç¬¦</td><td><code>[]</code></td><td><code>s[1] = &#39;a&#39;;</code></td></tr><tr><td>æ˜¯å¦ç›¸åŒ</td><td><code>==</code></td><td><code>if (s1 == s2) ...</code></td></tr><tr><td>å­—ç¬¦ä¸²è¿æ¥</td><td><code>+</code></td><td><code>string s = s1 + s2;</code></td></tr><tr><td>å°¾æ¥å­—ç¬¦ä¸²</td><td><code>+=</code></td><td><code>s += &quot;awa&quot;;</code></td></tr><tr><td>å–å­ä¸²</td><td><code>.substr(èµ·å§‹ä¸‹æ ‡, å­ä¸²é•¿åº¦)</code></td><td><code>string sub = s.substr(2, 10);</code></td></tr><tr><td>æŸ¥æ‰¾å­—ç¬¦ä¸²</td><td><code>.find(å­—ç¬¦ä¸², èµ·å§‹ä¸‹æ ‡)</code></td><td><code>int pos = s.find(&quot;awa&quot;);</code></td></tr></tbody></table></div><h4 id="æ•°å€¼ä¸å­—ç¬¦ä¸²äº’è½¬ï¼ˆC-11ï¼‰"><a href="#æ•°å€¼ä¸å­—ç¬¦ä¸²äº’è½¬ï¼ˆC-11ï¼‰" class="headerlink" title="æ•°å€¼ä¸å­—ç¬¦ä¸²äº’è½¬ï¼ˆC++11ï¼‰"></a>æ•°å€¼ä¸å­—ç¬¦ä¸²äº’è½¬ï¼ˆC++11ï¼‰</h4><div class="table-container"><table><thead><tr><th>æº</th><th>ç›®çš„</th><th>å‡½æ•°</th></tr></thead><tbody><tr><td>int / long long / float / double / long double</td><td>string</td><td>to_string()</td></tr><tr><td>string</td><td>int</td><td>stoi()</td></tr><tr><td>string</td><td>long long</td><td>stoll()</td></tr><tr><td>string</td><td>float</td><td>stof()</td></tr><tr><td>string</td><td>double</td><td>stod()</td></tr><tr><td>string</td><td>long double</td><td>stold()</td></tr></tbody></table></div><h3 id="2-8-2-é€‚ç”¨æƒ…å½¢"><a href="#2-8-2-é€‚ç”¨æƒ…å½¢" class="headerlink" title="2.8.2 é€‚ç”¨æƒ…å½¢"></a>2.8.2 é€‚ç”¨æƒ…å½¢</h3><p>éå¸¸å¥½ç”¨ï¼<del>å»ºè®®ç›´æ¥æŠŠå­—ç¬¦æ•°ç»„æ‰”äº†ï¼Œèµ¶å¿«æŠ•å…¥ string çš„æ€€æŠ±ã€‚</del></p><h3 id="2-8-3-æ³¨æ„äº‹é¡¹"><a href="#2-8-3-æ³¨æ„äº‹é¡¹" class="headerlink" title="2.8.3 æ³¨æ„äº‹é¡¹"></a>2.8.3 æ³¨æ„äº‹é¡¹</h3><h4 id="å°¾æ¥å­—ç¬¦ä¸²ä¸€å®šè¦ç”¨"><a href="#å°¾æ¥å­—ç¬¦ä¸²ä¸€å®šè¦ç”¨" class="headerlink" title="å°¾æ¥å­—ç¬¦ä¸²ä¸€å®šè¦ç”¨ +="></a>å°¾æ¥å­—ç¬¦ä¸²ä¸€å®šè¦ç”¨ <code>+=</code></h4><p>string çš„ += è¿ç®—ç¬¦ï¼Œå°†ä¼šåœ¨åŸå­—ç¬¦ä¸²åŸåœ°å°¾æ¥å­—ç¬¦ä¸²ã€‚è€Œ + äº†å† = èµ‹å€¼ï¼Œä¼šå…ˆç”Ÿæˆä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œåœ¨å¤åˆ¶ç»™ string.</p><p>é€šå¸¸å­—ç¬¦ä¸²é•¿åº¦å¯ä»¥å¾ˆé•¿ï¼Œå¦‚æœä½¿ç”¨ + å­—ç¬¦ä¸²å¾ˆå®¹æ˜“å°± TLE äº†ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼˜åŒ–å‰: 15139ms</span></span><br><span class="line">string s;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5e5</span>; i++)</span><br><span class="line">    s = s + <span class="string">&quot;a&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼˜åŒ–å: &lt; 1ms (è®¡æ—¶å™¨æ˜¾ç¤º0)</span></span><br><span class="line">string s;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5e5</span>; i++)</span><br><span class="line">    s += <span class="string">&quot;a&quot;</span>;</span><br></pre></td></tr></table></figure><h4 id="substr-æ–¹æ³•çš„å¥‡è‘©å‚æ•°"><a href="#substr-æ–¹æ³•çš„å¥‡è‘©å‚æ•°" class="headerlink" title=".substr() æ–¹æ³•çš„å¥‡è‘©å‚æ•°"></a><code>.substr()</code> æ–¹æ³•çš„å¥‡è‘©å‚æ•°</h4><p>ä¸€å®šè¦æ³¨æ„ï¼ŒC++ string çš„å–å­ä¸²çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<strong>å­ä¸²èµ·ç‚¹ä¸‹æ ‡</strong>ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯<strong>å­ä¸²é•¿åº¦</strong>ã€‚</p><p>ç¬¬äºŒä¸ªå‚æ•°ä¸æ˜¯å­ä¸²ç»ˆç‚¹ï¼ä¸æ˜¯å­ä¸²ç»ˆç‚¹ï¼è¦ä¸ java ç­‰å…¶ä»–è¯­è¨€åŒºåˆ†å¼€æ¥ã€‚</p><h4 id="find-æ–¹æ³•çš„å¤æ‚åº¦"><a href="#find-æ–¹æ³•çš„å¤æ‚åº¦" class="headerlink" title=".find() æ–¹æ³•çš„å¤æ‚åº¦"></a><code>.find()</code> æ–¹æ³•çš„å¤æ‚åº¦</h4><p>è¯¥æ–¹æ³•å®ç°ä¸ºæš´åŠ›å®ç°ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(n^2)$.</p><p><del>ä¸è¦å¹»æƒ³ STL å†…ç½®äº†ä¸ª $O(n)$ çš„ KMP ç®—æ³•</del></p><h2 id="2-9-äºŒå…ƒç»„-pair"><a href="#2-9-äºŒå…ƒç»„-pair" class="headerlink" title="2.9 äºŒå…ƒç»„ pair"></a>2.9 äºŒå…ƒç»„ <a href="https://zh.cppreference.com/w/cpp/utility/pair">pair</a></h2><p><strong><code>#include &lt;utility&gt;</code></strong></p><p>é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å‚¨å­˜äºŒå…ƒç»„çš„ã€‚</p><h3 id="2-9-1-å¸¸ç”¨æ–¹æ³•"><a href="#2-9-1-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="2.9.1 å¸¸ç”¨æ–¹æ³•"></a>2.9.1 å¸¸ç”¨æ–¹æ³•</h3><h4 id="æ„é€ -5"><a href="#æ„é€ -5" class="headerlink" title="æ„é€ "></a>æ„é€ </h4><p><strong><code>pair&lt;ç¬¬ä¸€ä¸ªå€¼ç±»å‹, ç¬¬äºŒä¸ªå€¼ç±»å‹&gt; pr</code></strong></p><ul><li>ç¬¬ä¸€ä¸ªå€¼ç±»å‹ï¼šè¦å‚¨å­˜çš„ç¬¬ä¸€ä¸ªå€¼çš„æ•°æ®ç±»å‹</li><li>ç¬¬äºŒä¸ªå€¼ç±»å‹ï¼šè¦å‚¨å­˜çš„ç¬¬äºŒä¸ªå€¼çš„æ•°æ®ç±»å‹</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; p1;</span><br><span class="line">pair&lt;<span class="type">int</span>, <span class="type">long</span> <span class="type">long</span>&gt; p2;</span><br><span class="line">pair&lt;<span class="type">char</span>, <span class="type">int</span>&gt; p3;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure><h4 id="èµ‹å€¼"><a href="#èµ‹å€¼" class="headerlink" title="èµ‹å€¼"></a>èµ‹å€¼</h4><p>è€å¼</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pair&lt;<span class="type">int</span>, <span class="type">char</span>&gt; pr = <span class="built_in">make_pair</span>(<span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>);</span><br></pre></td></tr></table></figure><p>åˆ—è¡¨æ„é€  C++11</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pair&lt;<span class="type">int</span>, <span class="type">char</span>&gt; pr = &#123;<span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>&#125;;</span><br></pre></td></tr></table></figure><h4 id="å–å€¼"><a href="#å–å€¼" class="headerlink" title="å–å€¼"></a>å–å€¼</h4><p>ç›´æ¥å–å€¼</p><ul><li>å–ç¬¬ä¸€ä¸ªå€¼ï¼š<code>.first</code></li><li>å–ç¬¬äºŒä¸ªå€¼ï¼š<code>.second</code></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pair&lt;<span class="type">int</span>, <span class="type">char</span>&gt; pr = &#123;<span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>&#125;;</span><br><span class="line"><span class="type">int</span> awa = pr.first;</span><br><span class="line"><span class="type">char</span> bwb = pr.second;</span><br></pre></td></tr></table></figure><p>ç»“æ„åŒ–ç»‘å®š C++17</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pair&lt;<span class="type">int</span>, <span class="type">char</span>&gt; pr = &#123;<span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">auto</span> &amp;[awa, bwb] = pr;</span><br></pre></td></tr></table></figure><h4 id="åˆ¤åŒ"><a href="#åˆ¤åŒ" class="headerlink" title="åˆ¤åŒ"></a>åˆ¤åŒ</h4><p>ç›´æ¥ç”¨ <code>==</code> è¿ç®—ç¬¦</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; p1 = &#123;<span class="number">1</span>, <span class="number">2</span>&#125;;</span><br><span class="line">pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; p2 = &#123;<span class="number">1</span>, <span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">if</span> (p1 == p2) &#123; ... &#125; <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="2-9-2-é€‚ç”¨åœºæ™¯"><a href="#2-9-2-é€‚ç”¨åœºæ™¯" class="headerlink" title="2.9.2 é€‚ç”¨åœºæ™¯"></a>2.9.2 é€‚ç”¨åœºæ™¯</h3><p>æ‰€æœ‰éœ€è¦äºŒå…ƒç»„çš„åœºæ™¯å‡å¯ä½¿ç”¨ï¼Œæ•ˆç‡å’Œè‡ªå·±å®šä¹‰ç»“æ„ä½“å·®ä¸å¤šã€‚</p><h3 id="2-9-3-æ³¨æ„äº‹é¡¹"><a href="#2-9-3-æ³¨æ„äº‹é¡¹" class="headerlink" title="2.9.3 æ³¨æ„äº‹é¡¹"></a>2.9.3 æ³¨æ„äº‹é¡¹</h3><p>æ— </p><h1 id="3-è¿­ä»£å™¨ç®€ä»‹"><a href="#3-è¿­ä»£å™¨ç®€ä»‹" class="headerlink" title="3 è¿­ä»£å™¨ç®€ä»‹"></a>3 è¿­ä»£å™¨ç®€ä»‹</h1><h2 id="3-1-è¿­ä»£å™¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#3-1-è¿­ä»£å™¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="3.1 è¿­ä»£å™¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>3.1 è¿­ä»£å™¨æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>ä¸ææŠ½è±¡ï¼Œç›´æ¥ä¸¾ä¾‹ã€‚</p><p>å¯¹äºä¸€ä¸ª vectorï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸‹æ ‡éå†ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a.<span class="built_in">size</span>(); i++)</span><br><span class="line">    cout &lt;&lt; a[i] &lt;&lt; endl;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åŒæ—¶ä¹Ÿå¯ä»¥ç”¨è¿­ä»£å™¨æ¥éå†ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;::iterator it = a.<span class="built_in">begin</span>(); it != a.<span class="built_in">end</span>(); ++it)</span><br><span class="line">    cout &lt;&lt; *it &lt;&lt; endl;</span><br></pre></td></tr></table></figure><ul><li><code>a.begin()</code> æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘çš„æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ </li><li><code>a.end()</code> æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘çš„æ˜¯æœ€åä¸€ä¸ªå…ƒç´ <strong>å†åé¢ä¸€ä½</strong></li><li>ä¸Šè¿°è¿­ä»£å™¨å…·æœ‰è‡ªå¢è¿ç®—ç¬¦ï¼Œè‡ªå¢åˆ™è¿­ä»£å™¨å‘ä¸‹ä¸€ä¸ªå…ƒç´ ç§»åŠ¨</li><li>è¿­ä»£å™¨ä¸æŒ‡é’ˆç›¸ä¼¼ï¼Œå¦‚æœå¯¹å®ƒä½¿ç”¨è§£å¼•ç”¨è¿ç®—ç¬¦ï¼Œå³ <code>*it</code>ï¼Œå°±èƒ½å–åˆ°å¯¹åº”å€¼äº†</li></ul><h2 id="3-2-ä¸ºä½•éœ€è¦è¿­ä»£å™¨ï¼Ÿ"><a href="#3-2-ä¸ºä½•éœ€è¦è¿­ä»£å™¨ï¼Ÿ" class="headerlink" title="3.2 ä¸ºä½•éœ€è¦è¿­ä»£å™¨ï¼Ÿ"></a>3.2 ä¸ºä½•éœ€è¦è¿­ä»£å™¨ï¼Ÿ</h2><p>å¾ˆå¤šæ•°æ®ç»“æ„å¹¶ä¸æ˜¯çº¿æ€§çš„ï¼ˆä¾‹å¦‚çº¢é»‘æ ‘ï¼‰ï¼Œå¯¹äºéçº¿æ€§æ•°æ®ç»“æ„ï¼Œä¸‹æ ‡æ˜¯æ— æ„ä¹‰çš„ã€‚æ— æ³•ä½¿ç”¨ä¸‹æ ‡æ¥éå†æ•´ä¸ªæ•°æ®ç»“æ„ã€‚</p><p>è¿­ä»£å™¨çš„ä½œç”¨å°±æ˜¯å®šä¹‰æŸä¸ªæ•°æ®ç»“æ„çš„éå†æ–¹å¼ï¼Œé€šè¿‡è¿­ä»£å™¨çš„å¢å‡ï¼Œä»£è¡¨éå†åˆ°çš„ä½ç½®ï¼Œé€šè¿‡è¿­ä»£å™¨ä¾¿èƒ½æˆåŠŸéå†éçº¿æ€§ç»“æ„äº†ã€‚</p><p>ä¾‹å¦‚ï¼Œset çš„å®ç°æ˜¯çº¢é»‘æ ‘ï¼Œæˆ‘ä»¬æ˜¯æ²¡æ³•ç”¨ä¸‹æ ‡æ¥è®¿é—®å…ƒç´ çš„ã€‚ä½†æ˜¯é€šè¿‡è¿­ä»£å™¨ï¼Œæˆ‘ä»¬å°±èƒ½éå† set ä¸­çš„å…ƒç´ äº†ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (set&lt;<span class="type">int</span>&gt;::iterator it = st.<span class="built_in">begin</span>(); it != st.<span class="built_in">end</span>(); ++it)</span><br><span class="line">    cout &lt;&lt; *it &lt;&lt; endl;</span><br></pre></td></tr></table></figure><h2 id="3-3-è¿­ä»£å™¨ç”¨æ³•"><a href="#3-3-è¿­ä»£å™¨ç”¨æ³•" class="headerlink" title="3.3 è¿­ä»£å™¨ç”¨æ³•"></a>3.3 è¿­ä»£å™¨ç”¨æ³•</h2><p>å¯¹äº vector å®¹å™¨ï¼Œå®ƒçš„è¿­ä»£å™¨åŠŸèƒ½æ¯”è¾ƒå®Œæ•´ï¼Œä»¥å®ƒä¸¾ä¾‹ï¼š</p><ul><li><code>.begin()</code>ï¼šå¤´è¿­ä»£å™¨</li><li><code>.end()</code>ï¼šå°¾è¿­ä»£å™¨</li><li><code>.rbegin()</code>ï¼šåå‘å¤´è¿­ä»£å™¨</li><li><code>.rend()</code>ï¼šåå‘å°¾è¿­ä»£å™¨</li><li>è¿­ä»£å™¨ <code>+</code> æ•´å‹ï¼šå°†è¿­ä»£å™¨å‘åç§»åŠ¨</li><li>è¿­ä»£å™¨ <code>-</code> æ•´å‹ï¼šå°†è¿­ä»£å™¨å‘å‰ç§»åŠ¨</li><li>è¿­ä»£å™¨ <code>++</code>ï¼šå°†è¿­ä»£å™¨å‘åç§»åŠ¨ 1 ä½</li><li>è¿­ä»£å™¨ <code>--</code>ï¼šå°†è¿­ä»£å™¨å‘å‰ç§»åŠ¨ 1 ä½</li><li>è¿­ä»£å™¨ <code>-</code> è¿­ä»£å™¨ï¼šä¸¤ä¸ªè¿­ä»£å™¨çš„è·ç¦»</li><li><code>prev(it)</code>ï¼šè¿”å› it çš„å‰ä¸€ä¸ªè¿­ä»£å™¨</li><li><code>next(it)</code>ï¼šè¿”å› it çš„åä¸€ä¸ªè¿­ä»£å™¨</li></ul><p>å¯¹äºå…¶ä»–å®¹å™¨ï¼Œç”±äºå…¶ç»“æ„ç‰¹æ€§ï¼Œä¸Šé¢çš„åŠŸèƒ½ä¸ä¸€å®šéƒ½æœ‰ï¼ˆä¾‹å¦‚ set çš„è¿­ä»£å™¨æ˜¯ä¸èƒ½ç›¸å‡æ±‚è·ç¦»çš„ï¼‰</p><h2 id="3-4-å¸¸è§é—®é¢˜"><a href="#3-4-å¸¸è§é—®é¢˜" class="headerlink" title="3.4 å¸¸è§é—®é¢˜"></a>3.4 å¸¸è§é—®é¢˜</h2><p><strong><code>.end()</code> å’Œ <code>.rend()</code> æŒ‡å‘çš„ä½ç½®æ˜¯æ— æ„ä¹‰çš„å€¼</strong></p><p>å¯¹äºä¸€ä¸ªé•¿åº¦ä¸º 10 çš„æ•°ç»„ï¼š<code>for (int i = 0; i &lt; 10; i++)</code>ï¼Œç¬¬ 10 ä½æ˜¯ä¸å¯è®¿é—®çš„</p><p>å¯¹äºä¸€ä¸ªé•¿åº¦ä¸º 10 çš„å®¹å™¨ï¼š<code>for (auto it = a.begin(); it != a.end(); ++it)</code>ï¼Œ.end æ˜¯ä¸å¯è®¿é—®çš„</p><p><strong>ä¸åŒå®¹å™¨çš„è¿­ä»£å™¨åŠŸèƒ½å¯èƒ½ä¸ä¸€æ ·</strong></p><p>è¿­ä»£å™¨ç»†åŒ–çš„è¯æœ‰æ­£å‘ã€åå‘ã€åŒå‘ï¼Œæ¯ä¸ªå®¹å™¨çš„è¿­ä»£å™¨æ”¯æŒçš„è¿ç®—ç¬¦ä¹Ÿå¯èƒ½ä¸åŒï¼Œå› æ­¤ä¸åŒå®¹å™¨çš„è¿­ä»£å™¨ç»†èŠ‚å¾ˆæœ‰å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚</p><p><strong>åˆ é™¤æ“ä½œæ—¶éœ€è¦è­¦æƒ•</strong></p><p>ä¸ºä»€ä¹ˆ 3 æ²¡åˆ æ‰ï¼Ÿ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; a&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = a.<span class="built_in">begin</span>(); it != a.<span class="built_in">end</span>(); ++it)</span><br><span class="line">    <span class="keyword">if</span> (*it == <span class="number">2</span> || *it == <span class="number">3</span>)</span><br><span class="line">        a.<span class="built_in">erase</span>(it);</span><br><span class="line"><span class="comment">// a = [1, 3, 4]</span></span><br></pre></td></tr></table></figure><p>ä¸ºå•¥ RE äº†ï¼Ÿ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; a&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = a.<span class="built_in">begin</span>(); it != a.<span class="built_in">end</span>(); ++it)</span><br><span class="line">    <span class="keyword">if</span> (*it == <span class="number">4</span>)</span><br><span class="line">        a.<span class="built_in">erase</span>(it);</span><br></pre></td></tr></table></figure><center><b>å»ºè®®ï¼šå¦‚æ— å¿…è¦ï¼Œåˆ«ç”¨è¿­ä»£å™¨æ“ä½œå®¹å™¨ã€‚ï¼ˆéå†ä¸è®¿é—®æ²¡å…³ç³»ï¼‰</b></center><h1 id="4-å¸¸ç”¨ç®—æ³•"><a href="#4-å¸¸ç”¨ç®—æ³•" class="headerlink" title="4 å¸¸ç”¨ç®—æ³•"></a>4 å¸¸ç”¨ç®—æ³•</h1><h2 id="4-1-å†…å®¹æ€»è§ˆ"><a href="#4-1-å†…å®¹æ€»è§ˆ" class="headerlink" title="4.1 å†…å®¹æ€»è§ˆ"></a>4.1 å†…å®¹æ€»è§ˆ</h2><p>æ‰“å‹¾çš„æ˜¯æœ¬æ¬¡å°†ä¼šè¯¦ç»†è®²è§£çš„ï¼Œå…¶ä»–çš„æ˜¯ç®—æ³•ç«èµ›ä¸­å»ºè®®å­¦ä¹ çš„ï¼Œä¸åœ¨ä¸‹è¡¨åˆ—å‡ºçš„åœ¨æ¯”èµ›ä¸­åŸºæœ¬ç”¨ä¸åˆ°ã€‚</p><p>ï¼ˆå¾ˆå¤šå‡½æ•°çš„åŠŸèƒ½å¾ˆç®€å•ï¼Œè‡ªå·±éƒ½èƒ½å¿«é€Ÿå†™å‡ºæ¥ï¼Œä½†æ˜¯ä½¿ç”¨å‡½æ•°å¯ä»¥è®©ä»£ç å¯è¯»æ€§å˜å¾—æ›´é«˜ï¼Œè¿™åœ¨æ¯”èµ›ä¸­æ˜¯è‡³å…³ç´§è¦çš„ï¼‰</p><ul><li><p>ç®—æ³•åº“ Algorithm</p><ul><li>[ ] <code>count()</code></li><li>[ ] <code>find()</code></li><li>[ ] <code>fill()</code></li><li>[x] <a href="https://zh.cppreference.com/w/cpp/algorithm/swap"><code>swap()</code></a></li><li>[x] <a href="https://zh.cppreference.com/w/cpp/algorithm/reverse"><code>reverse()</code></a></li><li>[ ] <code>shuffle()</code> C++11</li><li>[x] <a href="https://zh.cppreference.com/w/cpp/algorithm/unique"><code>unique()</code></a></li><li>[x] <a href="https://zh.cppreference.com/w/cpp/algorithm/sort"><code>sort()</code></a></li><li>[x] <a href="https://zh.cppreference.com/w/cpp/algorithm/lower_bound"><code>lower_bound()</code></a> / <a href="https://zh.cppreference.com/w/cpp/algorithm/upper_bound"><code>upper_bound()</code></a></li><li>[x] <a href="https://zh.cppreference.com/w/cpp/algorithm/max"><code>max()</code></a> / <a href="https://zh.cppreference.com/w/cpp/algorithm/min"><code>min()</code></a></li><li>[ ] <code>max_element()</code> / <code>min_element()</code></li><li>[ ] <code>prev_permutation()</code> / <code>next_permutation()</code></li></ul></li><li><p>æ•°å­¦å‡½æ•° cmath</p><ul><li>[x] <a href="https://zh.cppreference.com/w/cpp/numeric/math/fabs"><code>abs()</code></a></li><li>[x] <a href="https://zh.cppreference.com/w/cpp/numeric/math/exp"><code>exp()</code></a></li><li>[x] <a href="https://zh.cppreference.com/w/cpp/numeric/math/log"><code>log()</code></a> / <code>log10()</code> / <code>log2()</code></li><li>[x] <a href="https://zh.cppreference.com/w/cpp/numeric/math/pow"><code>pow()</code></a></li><li>[x] <a href="https://zh.cppreference.com/w/cpp/numeric/math/sqrt"><code>sqrt()</code></a></li><li>[ ] <code>sin()</code> / <code>cos()</code> / <code>tan()</code></li><li>[ ] <code>asin()</code> / <code>acos()</code> / <code>atan()</code></li><li>[ ] <code>sinh()</code> / <code>cosh()</code> / <code>tanh()</code></li><li>[ ] <code>asinh()</code> / <code>acosh()</code> / <code>atanh()</code> C++11</li><li>[x] <a href="https://zh.cppreference.com/w/cpp/numeric/math/ceil"><code>ceil()</code></a> / <a href="https://zh.cppreference.com/w/cpp/numeric/math/floor"><code>floor()</code></a></li><li>[x] <a href="https://zh.cppreference.com/w/cpp/numeric/math/round"><code>round()</code></a> C++11</li></ul></li><li><p>æ•°å€¼ç®—æ³• numeric</p><ul><li>[ ] <code>iota()</code> C++11</li><li>[ ] <code>accumulate()</code></li><li>[x] <a href="https://zh.cppreference.com/w/cpp/numeric/gcd"><code>gcd()</code></a> C++17</li><li>[x] <a href="https://zh.cppreference.com/w/cpp/numeric/lcm"><code>lcm()</code></a> C++17</li></ul></li><li><p>ä¼ªéšæœºæ•°ç”Ÿæˆ random</p><ul><li>[ ] <code>mt19937</code></li><li>[ ] <code>random_device()</code></li></ul></li></ul><h2 id="4-2-swap"><a href="#4-2-swap" class="headerlink" title="4.2 swap()"></a>4.2 <code>swap()</code></h2><p>äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼</p><p><strong>ç”¨æ³•ç¤ºä¾‹</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> T &gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">( T&amp; a, T&amp; b )</span></span>;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">0</span>, b = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">swap</span>(a, b);</span><br><span class="line"><span class="comment">// now a = 1, b = 0</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> arr[<span class="number">10</span>] &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line"><span class="built_in">swap</span>(arr[<span class="number">4</span>], arr[<span class="number">6</span>]);</span><br><span class="line"><span class="comment">// now arr = &#123;0, 1, 2, 3, 6, 5, 4, 7, 8, 9&#125;</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„äº‹é¡¹</strong></p><p>è¿™ä¸ª swap å‚æ•°æ˜¯å¼•ç”¨çš„ï¼Œä¸éœ€è¦åƒ C è¯­è¨€ä¸€æ ·å–åœ°å€ã€‚</p><h2 id="4-3-sort"><a href="#4-3-sort" class="headerlink" title="4.3 sort()"></a>4.3 <code>sort()</code></h2><p>ä½¿ç”¨å¿«é€Ÿæ’åºç»™ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡æ’åº</p><p><strong>ç”¨æ³•ç¤ºä¾‹</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> RandomIt, <span class="keyword">class</span> Compare &gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sort</span><span class="params">( RandomIt first, RandomIt last, Compare comp )</span></span>;</span><br></pre></td></tr></table></figure><p>é»˜è®¤æ’åºä»å°åˆ°å¤§</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; arr&#123;<span class="number">1</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">0</span>&#125;;</span><br><span class="line"><span class="built_in">sort</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>());</span><br><span class="line"><span class="comment">// arr = [0, 1, 1, 1, 8, 9, 9]</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¦ä»å¤§åˆ°å°ï¼Œåˆ™éœ€è¦ä¼ æ¯”è¾ƒå™¨è¿›å»ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; arr&#123;<span class="number">1</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">0</span>&#125;;</span><br><span class="line"><span class="built_in">sort</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>(), <span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line"><span class="comment">// arr = [9, 9, 8, 1, 1, 1, 0]</span></span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦å®Œæˆç‰¹æ®Šæ¯”è¾ƒï¼Œåˆ™éœ€è¦æ‰‹å†™æ¯”è¾ƒå™¨ã€‚</p><p>æ¯”è¾ƒå™¨å‡½æ•°è¿”å›å€¼æ˜¯ bool ç±»å‹ï¼Œä¼ å‚æ˜¯éœ€è¦æ¯”è¾ƒçš„ä¸¤ä¸ªå…ƒç´ ã€‚è®°æˆ‘ä»¬å®šä¹‰çš„è¯¥æ¯”è¾ƒæ“ä½œä¸º $\star$ï¼š</p><ul><li>è‹¥ $a\star b$ï¼Œåˆ™æ¯”è¾ƒå™¨å‡½æ•°åº”å½“è¿”å› <code>true</code></li><li>è‹¥ $a\not\star b$ï¼Œåˆ™æ¯”è¾ƒå™¨å‡½æ•°åº”å½“è¿”å› <code>false</code></li></ul><p><strong>æ³¨æ„ï¼š</strong>å¦‚æœ $a=b$ï¼Œæ¯”è¾ƒå™¨å‡½æ•°å¿…é¡»è¿”å› <code>false</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; a, pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.second != b.second)</span><br><span class="line">        <span class="keyword">return</span> a.second &lt; b.second;</span><br><span class="line">    <span class="keyword">return</span> a.first &gt; b.first;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; arr&#123;&#123;<span class="number">1</span>, <span class="number">9</span>&#125;, &#123;<span class="number">2</span>, <span class="number">9</span>&#125;, &#123;<span class="number">8</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">    <span class="built_in">sort</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>(), cmp);</span><br><span class="line">    <span class="comment">// arr = [(0, 0), (8, 1), (2, 9), (1, 9)]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-4-lower-bound-upper-bound"><a href="#4-4-lower-bound-upper-bound" class="headerlink" title="4.4 lower_bound() / upper_bound()"></a>4.4 <code>lower_bound()</code> / <code>upper_bound()</code></h2><p>åœ¨<strong>å·²å‡åºæ’åº</strong>çš„å…ƒç´ ä¸­ï¼Œåº”ç”¨äºŒåˆ†æŸ¥æ‰¾æ£€ç´¢æŒ‡å®šå…ƒç´ ï¼Œè¿”å›å¯¹åº”å…ƒç´ è¿­ä»£å™¨ä½ç½®ã€‚<strong>æ‰¾ä¸åˆ°åˆ™è¿”å›å°¾è¿­ä»£å™¨ã€‚</strong></p><ul><li><code>lower_bound()</code>: å¯»æ‰¾ $\geq x$ çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®</li><li><code>upper_bound()</code>: å¯»æ‰¾ $&gt;x$ çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®</li></ul><p>æ€ä¹ˆæ‰¾ $\leq x$ / $&lt; x$ çš„ç¬¬ä¸€ä¸ªå…ƒç´ å‘¢ï¼Ÿ</p><ul><li>$&gt;x$ çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å‰ä¸€ä¸ªå…ƒç´ ï¼ˆå¦‚æœæœ‰ï¼‰ä¾¿æ˜¯ $\leq x$ çš„ç¬¬ä¸€ä¸ªå…ƒç´ </li><li>$\geq x$ çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å‰ä¸€ä¸ªå…ƒç´ ï¼ˆå¦‚æœæœ‰ï¼‰ä¾¿æ˜¯ $&lt;x$ çš„ç¬¬ä¸€ä¸ªå…ƒç´ </li></ul><p>è¿”å›çš„æ˜¯è¿­ä»£å™¨ï¼Œå¦‚ä½•è½¬æˆä¸‹æ ‡ç´¢å¼•å‘¢ï¼Ÿå‡å»å¤´è¿­ä»£å™¨å³å¯ã€‚</p><p><strong>ç”¨æ³•ç¤ºä¾‹</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> ForwardIt, <span class="keyword">class</span> T &gt;</span></span><br><span class="line"><span class="function">ForwardIt <span class="title">lower_bound</span><span class="params">( ForwardIt first, ForwardIt last, <span class="type">const</span> T&amp; value )</span></span>;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; arr&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">9</span>&#125;;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt;::iterator it = <span class="built_in">lower_bound</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>(), <span class="number">7</span>);</span><br><span class="line"><span class="type">int</span> idx = it - arr.<span class="built_in">begin</span>();</span><br><span class="line"><span class="comment">// idx = 4</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é€šå¸¸å†™æˆä¸€è¡Œï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; arr&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">9</span>&#125;;</span><br><span class="line">idx = <span class="built_in">lower_bound</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>(), <span class="number">7</span>) - arr.<span class="built_in">begin</span>(); <span class="comment">// 4</span></span><br><span class="line">idx = <span class="built_in">lower_bound</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>(), <span class="number">8</span>) - arr.<span class="built_in">begin</span>(); <span class="comment">// 4</span></span><br><span class="line">idx = <span class="built_in">upper_bound</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>(), <span class="number">7</span>) - arr.<span class="built_in">begin</span>(); <span class="comment">// 4</span></span><br><span class="line">idx = <span class="built_in">upper_bound</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>(), <span class="number">8</span>) - arr.<span class="built_in">begin</span>(); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure><h2 id="4-5-reverse"><a href="#4-5-reverse" class="headerlink" title="4.5 reverse()"></a>4.5 <code>reverse()</code></h2><p>åè½¬ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡çš„å…ƒç´ é¡ºåº</p><p><strong>ç”¨æ³•ç¤ºä¾‹</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> BidirIt &gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">reverse</span><span class="params">( BidirIt first, BidirIt last )</span></span>;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">arr</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="built_in">iota</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>(), <span class="number">1</span>);</span><br><span class="line"><span class="comment">// 1, 2, 3, 4, 5, 6, 7, 8, 9, 10</span></span><br><span class="line"><span class="built_in">reverse</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>());</span><br><span class="line"><span class="comment">// 10, 9, 8, 7, 6, 5, 4, 3, 2, 1</span></span><br></pre></td></tr></table></figure><h2 id="4-6-max-min"><a href="#4-6-max-min" class="headerlink" title="4.6 max() / min()"></a>4.6 <code>max()</code> / <code>min()</code></h2><p>è¿”å›æœ€å¤§å€¼ / æœ€å°å€¼çš„<strong>æ•°å€¼</strong></p><p><strong>ç”¨æ³•ç¤ºä¾‹</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> mx = <span class="built_in">max</span>(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// 2</span></span><br><span class="line"><span class="type">int</span> mn = <span class="built_in">min</span>(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><p>åœ¨ C++11 ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨åˆ—è¡¨æ„é€ è¯­æ³•ä¼ å…¥ä¸€ä¸ªåˆ—è¡¨ï¼Œè¿™æ ·å°±èƒ½ä¸€æ¬¡æ€§ç»™å¤šä¸ªå…ƒç´ æ‰¾æœ€å¤§å€¼è€Œä¸ç”¨å¥—å¨ƒäº†ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Before C++11</span></span><br><span class="line"><span class="type">int</span> mx = <span class="built_in">max</span>(<span class="built_in">max</span>(<span class="number">1</span>, <span class="number">2</span>), <span class="built_in">max</span>(<span class="number">3</span>, <span class="number">4</span>)); <span class="comment">// 4</span></span><br><span class="line"><span class="type">int</span> mn = <span class="built_in">min</span>(<span class="built_in">min</span>(<span class="number">1</span>, <span class="number">2</span>), <span class="built_in">min</span>(<span class="number">3</span>, <span class="number">4</span>)); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// After C++11</span></span><br><span class="line"><span class="type">int</span> mx = <span class="built_in">max</span>(&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;); <span class="comment">// 4</span></span><br><span class="line"><span class="type">int</span> mn = <span class="built_in">min</span>(&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><h2 id="4-7-unique"><a href="#4-7-unique" class="headerlink" title="4.7 unique()"></a>4.7 <code>unique()</code></h2><p>æ¶ˆé™¤æ•°ç»„çš„é‡å¤<strong>ç›¸é‚»</strong>å…ƒç´ ï¼Œæ•°ç»„é•¿åº¦ä¸å˜ï¼Œä½†æ˜¯æœ‰æ•ˆæ•°æ®ç¼©çŸ­ï¼Œè¿”å›çš„æ˜¯æœ‰æ•ˆæ•°æ®ä½ç½®çš„ç»“å°¾è¿­ä»£å™¨ã€‚</p><p>ä¾‹å¦‚ï¼š$[1,1,4,5,1,4]\to[1,4,5,1,4,\underline?]$ï¼Œä¸‹åˆ’çº¿ä½ç½®ä¸ºè¿”å›çš„è¿­ä»£å™¨æŒ‡å‘ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt; <span class="keyword">class</span> ForwardIt &gt;</span></span><br><span class="line"><span class="function">ForwardIt <span class="title">unique</span><span class="params">( ForwardIt first, ForwardIt last )</span></span>;</span><br></pre></td></tr></table></figure><p><strong>ç”¨æ³•ç¤ºä¾‹</strong></p><p>å•ç‹¬ä½¿ç”¨ unique å¹¶ä¸èƒ½è¾¾æˆå»é‡æ•ˆæœï¼Œå› ä¸ºå®ƒåªæ¶ˆé™¤<strong>ç›¸é‚»</strong>çš„é‡å¤å…ƒç´ ã€‚ä½†æ˜¯å¦‚æœåºåˆ—æœ‰åºï¼Œé‚£ä¹ˆå®ƒå°±èƒ½å»é‡äº†ã€‚</p><p>ä½†æ˜¯å®ƒå»é‡åï¼Œåºåˆ—å°¾éƒ¨ä¼šäº§ç”Ÿä¸€äº›æ— æ•ˆæ•°æ®ï¼š$[1,1,2,4,4,4,5]\to[1,2,4,5,\underline?,?,?]$ï¼Œä¸ºäº†åˆ æ‰è¿™äº›æ— æ•ˆæ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦ç»“åˆ erase.</p><p>æœ€ç»ˆï¼Œç»™ vector å»é‡çš„å†™æ³•ä¾¿æ˜¯ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; arr&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="built_in">sort</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>());</span><br><span class="line">arr.<span class="built_in">erase</span>(<span class="built_in">unique</span>(arr.<span class="built_in">begin</span>(), arr.<span class="built_in">end</span>()), arr.<span class="built_in">end</span>());</span><br></pre></td></tr></table></figure><h2 id="4-8-æ•°å­¦å‡½æ•°"><a href="#4-8-æ•°å­¦å‡½æ•°" class="headerlink" title="4.8 æ•°å­¦å‡½æ•°"></a>4.8 æ•°å­¦å‡½æ•°</h2><p>æ‰€æœ‰å‡½æ•°å‚æ•°å‡æ”¯æŒ <code>int</code> / <code>long long</code> / <code>float</code> / <code>double</code> / <code>long double</code></p><div class="table-container"><table><thead><tr><th>å…¬å¼</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>$f(x)=\lvert x\rvert$</td><td><code>abs(-1.0)</code></td></tr><tr><td>$f(x)=e^x$</td><td><code>exp(2)</code></td></tr><tr><td>$f(x)=\ln x$</td><td><code>log(3)</code></td></tr><tr><td>$f(x,y)=x^y$</td><td><code>pow(2, 3)</code></td></tr><tr><td>$f(x)=\sqrt x$</td><td><code>sqrt(2)</code></td></tr><tr><td>$f(x)=\lceil x\rceil$</td><td><code>ceil(2.1)</code></td></tr><tr><td>$f(x)=\lfloor x\rfloor$</td><td><code>floor(2.1)</code></td></tr><tr><td>$f(x)=\left<x\right>$</td><td><code>rount(2.1)</code></td></tr></tbody></table></div><p><strong>æ³¨æ„äº‹é¡¹</strong></p><p>ç”±äºæµ®ç‚¹è¯¯å·®ï¼Œæœ‰äº›çš„æ•°å­¦å‡½æ•°çš„è¡Œä¸ºå¯èƒ½ä¸é¢„æœŸä¸ç¬¦ï¼Œå¯¼è‡´ WAã€‚å¦‚æœä½ çš„æ“ä½œæ•°éƒ½æ˜¯æ•´å‹ï¼Œé‚£ä¹ˆç”¨ä¸‹é¢çš„å†™æ³•ä¼šæ›´ç¨³å¦¥ã€‚</p><blockquote><p>åŸæ–‡åœ°å€ï¼š<a href="https://codeforces.com/blog/entry/107717">https://codeforces.com/blog/entry/107717</a></p></blockquote><ul><li>$\lfloor\frac{a}{b}\rfloor$<ul><li>åˆ«ç”¨ï¼š<code>floor(1.0 * a / b)</code></li><li>è¦ç”¨ï¼š<code>a / b</code></li></ul></li><li>$\lceil\frac{a}{b}\rceil$<ul><li>åˆ«ç”¨ï¼š<code>ceil(1.0 * a / b)</code></li><li>è¦ç”¨ï¼š<code>(a + b - 1) / b</code>  ï¼ˆ$\lceil\frac{a}{b}\rceil=\lfloor\frac{a+b-1}{b}\rfloor$ï¼‰</li></ul></li><li>$\lfloor\sqrt a\rfloor$<ul><li>åˆ«ç”¨ï¼š<code>(int) sqrt(a)</code></li><li>è¦ç”¨ï¼šäºŒåˆ†æŸ¥æ‰¾ <a href="https://io.zouht.com/7.html">https://io.zouht.com/7.html</a></li></ul></li><li>$a^b$<ul><li>åˆ«ç”¨ï¼š<code>pow(a, b)</code></li><li>è¦ç”¨ï¼šå¿«é€Ÿå¹‚ <a href="https://io.zouht.com/18.html">https://io.zouht.com/18.html</a></li></ul></li><li>$\lfloor\log_2 a\rfloor$<ul><li>åˆ«ç”¨ï¼š<code>log2(a)</code></li><li>è¦ç”¨ï¼š<code>__lg</code> ï¼ˆä¸è§„èŒƒï¼Œä½†æ˜¯è¿™æ˜¯ç«èµ›ï¼‰/ <code>bit_width</code>ï¼ˆC++20 å¯ç”¨ï¼‰</li></ul></li></ul><h2 id="4-9-gcd-lcm"><a href="#4-9-gcd-lcm" class="headerlink" title="4.9 gcd() / lcm()"></a>4.9 <code>gcd()</code> / <code>lcm()</code></h2><p>ï¼ˆC++17ï¼‰è¿”å›æœ€å¤§å…¬å› æ•° / æœ€å°å…¬å€æ•°</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> x = <span class="built_in">gcd</span>(<span class="number">8</span>, <span class="number">12</span>); <span class="comment">// 4</span></span><br><span class="line"><span class="type">int</span> y = <span class="built_in">lcm</span>(<span class="number">8</span>, <span class="number">12</span>); <span class="comment">// 24</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æ˜¯ C++17ï¼Œä½†æ˜¯æ˜¯ GNU ç¼–è¯‘å™¨ï¼ˆg++ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨å†…ç½®å‡½æ•° <code>__gcd()</code>.</p><p>å½“ç„¶ï¼Œ<code>gcd</code> / <code>lcm</code> å‡½æ•°ä¹ŸæŒºå¥½å†™ï¼Œç›´æ¥å†™ä¹Ÿè¡Œï¼ˆæ¬§å‡ é‡Œå¾—ç®—æ³•ï¼‰ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!b)</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">gcd</span>(b, a % b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lcm</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a / <span class="built_in">gcd</span>(a, b) * b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> leetcodeåˆ·é¢˜ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STL </tag>
            
            <tag> C++ </tag>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¬¢è¿æ¥åˆ°æœ¬ç«™</title>
      <link href="/posts/9b94e219.html"/>
      <url>/posts/9b94e219.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title></title>
      <link href="/manifest.json"/>
      <url>/manifest.json</url>
      
        <content type="html"><![CDATA[{"name":"Sumikiruã®Blog","short_name":"Sumikiruã®Blog","theme_color":"#d9f8ff","background_color":"#d9f8ff","display":"standalone","scope":"/","start_url":"/","icons":[{"src":"/images/siteicon/16.png","sizes":"16x16","type":"image/png"},{"src":"/images/siteicon/32.png","sizes":"32x32","type":"image/png"},{"src":"/images/siteicon/48.png","sizes":"48x48","type":"image/png"},{"src":"/images/siteicon/64.png","sizes":"64x64","type":"image/png"},{"src":"/images/siteicon/128.png","sizes":"128x128","type":"image/png"},{"src":"/images/siteicon/144.png","sizes":"144x144","type":"image/png"},{"src":"/images/siteicon/256.png","sizes":"256x256","type":"image/png"},{"src":"/images/siteicon/512.png","sizes":"512x512","type":"image/png","purpose":"maskable"}],"splash_pages":null}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ†ç±»</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/clock.min.css"/>
      <url>/css/clock.min.css</url>
      
        <content type="html"><![CDATA[@font-face {    font-family: UnidreamLED;    src: url(https://cdn.cbd.int/anzhiyu-blog@1.1.6/fonts/UnidreamLED.ttf);    font-display: swap}@font-face {    font-family: RedditMono;    src: url(https://fonts.gstatic.com/s/redditmono/v1/oPWL_kRmmu4oQ88oo13o4-rLRjs.woff2);    font-display: swap}.card-clock-location,.card-clock-windDir,span.card-clock-weather {    font-family: ZhuZiAYuanJWD}span.temp {    font-family: UnidreamLED}#hexo_electric_clock {    padding: 20px}.card-clock {    padding: 0 !important}.card-background {    height: 153px;    margin: 15px;    border-radius: 8px;    box-shadow: inset 0 0 4px 2px rgb(145 148 154 / 40%);    z-index: 2}.clock-row {    font-family: UnidreamLED;    font-weight: 400;    color: #000;    display: flex;    justify-content: space-between;    flex-wrap: nowrap;    white-space: nowrap}.card-clock-clockdate,.card-clock-ip {    text-align: left}.card-clock-location,.card-clock-weather {    text-align: center}.card-clock-dackorlight,.card-clock-humidity {    text-align: right}.card-clock-time {    flex: 1;    font-family: RedditMono;    font-size: 38px;    text-align: center;    line-height: 1.5}[data-theme=dark] .card-background {    background-color: #212121}[data-theme=dark] .clock-row {    color: #fff}@font-face {    font-family: qweather-icons;    src: url(fonts/qweather-icons.woff2?5bb5b475709c49961682eda055eb3dc5) format("woff2"), url(fonts/qweather-icons.woff?5bb5b475709c49961682eda055eb3dc5) format("woff"), url(fonts/qweather-icons.ttf?5bb5b475709c49961682eda055eb3dc5) format("truetype")}[class*=" qi-"]::before,[class^=qi-]::before {    display: inline-block;    font-family: qweather-icons !important;    font-style: normal;    font-weight: 400 !important;    font-variant: normal;    text-transform: none;    line-height: 1;    vertical-align: -.125em;    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale}@media screen and (min-width:900px) {    .card-clock-humidity {        display: block    }}@media screen and (max-width:1086px) {    .card-clock-humidity {        display: none    }}.qi-100::before {    content: "\f101"}.qi-101::before {    content: "\f102"}.qi-102::before {    content: "\f103"}.qi-103::before {    content: "\f104"}.qi-104::before {    content: "\f105"}.qi-150::before {    content: "\f106"}.qi-151::before {    content: "\f107"}.qi-152::before {    content: "\f108"}.qi-153::before {    content: "\f109"}.qi-300::before {    content: "\f10a"}.qi-301::before {    content: "\f10b"}.qi-302::before {    content: "\f10c"}.qi-303::before {    content: "\f10d"}.qi-304::before {    content: "\f10e"}.qi-305::before {    content: "\f10f"}.qi-306::before {    content: "\f110"}.qi-307::before {    content: "\f111"}.qi-308::before {    content: "\f112"}.qi-309::before {    content: "\f113"}.qi-310::before {    content: "\f114"}.qi-311::before {    content: "\f115"}.qi-312::before {    content: "\f116"}.qi-313::before {    content: "\f117"}.qi-314::before {    content: "\f118"}.qi-315::before {    content: "\f119"}.qi-316::before {    content: "\f11a"}.qi-317::before {    content: "\f11b"}.qi-318::before {    content: "\f11c"}.qi-350::before {    content: "\f11d"}.qi-351::before {    content: "\f11e"}.qi-399::before {    content: "\f11f"}.qi-400::before {    content: "\f120"}.qi-401::before {    content: "\f121"}.qi-402::before {    content: "\f122"}.qi-403::before {    content: "\f123"}.qi-404::before {    content: "\f124"}.qi-405::before {    content: "\f125"}.qi-406::before {    content: "\f126"}.qi-407::before {    content: "\f127"}.qi-408::before {    content: "\f128"}.qi-409::before {    content: "\f129"}.qi-410::before {    content: "\f12a"}.qi-456::before {    content: "\f12b"}.qi-457::before {    content: "\f12c"}.qi-499::before {    content: "\f12d"}.qi-500::before {    content: "\f12e"}.qi-501::before {    content: "\f12f"}.qi-502::before {    content: "\f130"}.qi-503::before {    content: "\f131"}.qi-504::before {    content: "\f132"}.qi-507::before {    content: "\f133"}.qi-508::before {    content: "\f134"}.qi-509::before {    content: "\f135"}.qi-510::before {    content: "\f136"}.qi-511::before {    content: "\f137"}.qi-512::before {    content: "\f138"}.qi-513::before {    content: "\f139"}.qi-514::before {    content: "\f13a"}.qi-515::before {    content: "\f13b"}.qi-800::before {    content: "\f13c"}.qi-801::before {    content: "\f13d"}.qi-802::before {    content: "\f13e"}.qi-803::before {    content: "\f13f"}.qi-804::before {    content: "\f140"}.qi-805::before {    content: "\f141"}.qi-806::before {    content: "\f142"}.qi-807::before {    content: "\f143"}.qi-900::before {    content: "\f144"}.qi-901::before {    content: "\f145"}.qi-999::before {    content: "\f146"}.qi-1001::before {    content: "\f147"}.qi-1002::before {    content: "\f148"}.qi-1003::before {    content: "\f149"}.qi-1004::before {    content: "\f14a"}.qi-1005::before {    content: "\f14b"}.qi-1006::before {    content: "\f14c"}.qi-1007::before {    content: "\f14d"}.qi-1008::before {    content: "\f14e"}.qi-1009::before {    content: "\f14f"}.qi-1010::before {    content: "\f150"}.qi-1011::before {    content: "\f151"}.qi-1012::before {    content: "\f152"}.qi-1013::before {    content: "\f153"}.qi-1014::before {    content: "\f154"}.qi-1015::before {    content: "\f155"}.qi-1016::before {    content: "\f156"}.qi-1017::before {    content: "\f157"}.qi-1018::before {    content: "\f158"}.qi-1019::before {    content: "\f159"}.qi-1020::before {    content: "\f15a"}.qi-1021::before {    content: "\f15b"}.qi-1022::before {    content: "\f15c"}.qi-1023::before {    content: "\f15d"}.qi-1024::before {    content: "\f15e"}.qi-1025::before {    content: "\f15f"}.qi-1026::before {    content: "\f160"}.qi-1027::before {    content: "\f161"}.qi-1028::before {    content: "\f162"}.qi-1029::before {    content: "\f163"}.qi-1030::before {    content: "\f164"}.qi-1031::before {    content: "\f165"}.qi-1032::before {    content: "\f166"}.qi-1033::before {    content: "\f167"}.qi-1034::before {    content: "\f168"}.qi-1035::before {    content: "\f169"}.qi-1036::before {    content: "\f16a"}.qi-1037::before {    content: "\f16b"}.qi-1038::before {    content: "\f16c"}.qi-1039::before {    content: "\f16d"}.qi-1040::before {    content: "\f16e"}.qi-1041::before {    content: "\f16f"}.qi-1042::before {    content: "\f170"}.qi-1043::before {    content: "\f171"}.qi-1044::before {    content: "\f172"}.qi-1045::before {    content: "\f173"}.qi-1046::before {    content: "\f174"}.qi-1047::before {    content: "\f175"}.qi-1048::before {    content: "\f176"}.qi-1049::before {    content: "\f177"}.qi-1050::before {    content: "\f178"}.qi-1051::before {    content: "\f179"}.qi-1052::before {    content: "\f17a"}.qi-1053::before {    content: "\f17b"}.qi-1054::before {    content: "\f17c"}.qi-1055::before {    content: "\f17d"}.qi-1056::before {    content: "\f17e"}.qi-1057::before {    content: "\f17f"}.qi-1058::before {    content: "\f180"}.qi-1059::before {    content: "\f181"}.qi-1061::before {    content: "\f182"}.qi-1064::before {    content: "\f183"}.qi-1101::before {    content: "\f184"}.qi-1302::before {    content: "\f185"}.qi-1402::before {    content: "\f186"}.qi-1601::before {    content: "\f187"}.qi-1602::before {    content: "\f188"}.qi-1603::before {    content: "\f189"}.qi-1604::before {    content: "\f18a"}.qi-1605::before {    content: "\f18b"}.qi-1606::before {    content: "\f18c"}.qi-1607::before {    content: "\f18d"}.qi-2001::before {    content: "\f18e"}.qi-2002::before {    content: "\f18f"}.qi-2003::before {    content: "\f190"}.qi-2004::before {    content: "\f191"}.qi-2005::before {    content: "\f192"}.qi-2006::before {    content: "\f193"}.qi-2007::before {    content: "\f194"}.qi-2008::before {    content: "\f195"}.qi-2009::before {    content: "\f196"}.qi-2010::before {    content: "\f197"}.qi-2011::before {    content: "\f198"}.qi-2012::before {    content: "\f199"}.qi-2013::before {    content: "\f19a"}.qi-2014::before {    content: "\f19b"}.qi-2015::before {    content: "\f19c"}.qi-2016::before {    content: "\f19d"}.qi-2017::before {    content: "\f19e"}.qi-2018::before {    content: "\f19f"}.qi-2019::before {    content: "\f1a0"}.qi-2020::before {    content: "\f1a1"}.qi-2021::before {    content: "\f1a2"}.qi-2022::before {    content: "\f1a3"}.qi-2023::before {    content: "\f1a4"}.qi-2024::before {    content: "\f1a5"}.qi-2025::before {    content: "\f1a6"}.qi-2026::before {    content: "\f1a7"}.qi-2027::before {    content: "\f1a8"}.qi-2028::before {    content: "\f1a9"}.qi-9998::before {    content: "\f1aa"}.qi-9999::before {    content: "\f1ab"}.qi-100-fill::before {    content: "\f1ac"}.qi-101-fill::before {    content: "\f1ad"}.qi-102-fill::before {    content: "\f1ae"}.qi-103-fill::before {    content: "\f1af"}.qi-104-fill::before {    content: "\f1b0"}.qi-150-fill::before {    content: "\f1b1"}.qi-151-fill::before {    content: "\f1b2"}.qi-152-fill::before {    content: "\f1b3"}.qi-153-fill::before {    content: "\f1b4"}.qi-300-fill::before {    content: "\f1b5"}.qi-301-fill::before {    content: "\f1b6"}.qi-302-fill::before {    content: "\f1b7"}.qi-303-fill::before {    content: "\f1b8"}.qi-304-fill::before {    content: "\f1b9"}.qi-305-fill::before {    content: "\f1ba"}.qi-306-fill::before {    content: "\f1bb"}.qi-307-fill::before {    content: "\f1bc"}.qi-308-fill::before {    content: "\f1bd"}.qi-309-fill::before {    content: "\f1be"}.qi-310-fill::before {    content: "\f1bf"}.qi-311-fill::before {    content: "\f1c0"}.qi-312-fill::before {    content: "\f1c1"}.qi-313-fill::before {    content: "\f1c2"}.qi-314-fill::before {    content: "\f1c3"}.qi-315-fill::before {    content: "\f1c4"}.qi-316-fill::before {    content: "\f1c5"}.qi-317-fill::before {    content: "\f1c6"}.qi-318-fill::before {    content: "\f1c7"}.qi-350-fill::before {    content: "\f1c8"}.qi-351-fill::before {    content: "\f1c9"}.qi-399-fill::before {    content: "\f1ca"}.qi-400-fill::before {    content: "\f1cb"}.qi-401-fill::before {    content: "\f1cc"}.qi-402-fill::before {    content: "\f1cd"}.qi-403-fill::before {    content: "\f1ce"}.qi-404-fill::before {    content: "\f1cf"}.qi-405-fill::before {    content: "\f1d0"}.qi-406-fill::before {    content: "\f1d1"}.qi-407-fill::before {    content: "\f1d2"}.qi-408-fill::before {    content: "\f1d3"}.qi-409-fill::before {    content: "\f1d4"}.qi-410-fill::before {    content: "\f1d5"}.qi-456-fill::before {    content: "\f1d6"}.qi-457-fill::before {    content: "\f1d7"}.qi-499-fill::before {    content: "\f1d8"}.qi-500-fill::before {    content: "\f1d9"}.qi-501-fill::before {    content: "\f1da"}.qi-502-fill::before {    content: "\f1db"}.qi-503-fill::before {    content: "\f1dc"}.qi-504-fill::before {    content: "\f1dd"}.qi-507-fill::before {    content: "\f1de"}.qi-508-fill::before {    content: "\f1df"}.qi-509-fill::before {    content: "\f1e0"}.qi-510-fill::before {    content: "\f1e1"}.qi-511-fill::before {    content: "\f1e2"}.qi-512-fill::before {    content: "\f1e3"}.qi-513-fill::before {    content: "\f1e4"}.qi-514-fill::before {    content: "\f1e5"}.qi-515-fill::before {    content: "\f1e6"}.qi-900-fill::before {    content: "\f1e7"}.qi-901-fill::before {    content: "\f1e8"}.qi-999-fill::before {    content: "\f1e9"}.qi-sunny::before {    content: "\f101"}.qi-cloudy::before {    content: "\f102"}.qi-few-clouds::before {    content: "\f103"}.qi-partly-cloudy::before {    content: "\f104"}.qi-overcast::before {    content: "\f105"}.qi-clear-night::before {    content: "\f106"}.qi-cloudy-night::before {    content: "\f107"}.qi-few-clouds-night::before {    content: "\f108"}.qi-partly-cloudy-night::before {    content: "\f109"}.qi-shower-rain::before {    content: "\f10a"}.qi-heavy-shower-rain::before {    content: "\f10b"}.qi-thundershower::before {    content: "\f10c"}.qi-heavy-thunderstorm::before {    content: "\f10d"}.qi-thundershower-with-hail::before {    content: "\f10e"}.qi-light-rain::before {    content: "\f10f"}.qi-moderate-rain::before {    content: "\f110"}.qi-heavy-rain::before {    content: "\f111"}.qi-extreme-rain::before {    content: "\f112"}.qi-drizzle-rain::before {    content: "\f113"}.qi-storm::before {    content: "\f114"}.qi-heavy-storm::before {    content: "\f115"}.qi-severe-storm::before {    content: "\f116"}.qi-freezing-rain::before {    content: "\f117"}.qi-light-to-moderate-rain::before {    content: "\f118"}.qi-moderate-to-heavy-rain::before {    content: "\f119"}.qi-heavy-rain-to-storm::before {    content: "\f11a"}.qi-storm-to-heavy-storm::before {    content: "\f11b"}.qi-heavy-to-severe-storm::before {    content: "\f11c"}.qi-shower-rain-night::before {    content: "\f11d"}.qi-heavy-shower-rain-night::before {    content: "\f11e"}.qi-rain::before {    content: "\f11f"}.qi-light-snow::before {    content: "\f120"}.qi-moderate-snow::before {    content: "\f121"}.qi-heavy-snow::before {    content: "\f122"}.qi-snowstorm::before {    content: "\f123"}.qi-sleet::before {    content: "\f124"}.qi-rain-and-snow::before {    content: "\f125"}.qi-shower-snow::before {    content: "\f126"}.qi-snow-flurry::before {    content: "\f127"}.qi-light-to-moderate-snow::before {    content: "\f128"}.qi-moderate-to-heavy-snow::before {    content: "\f129"}.qi-heavy-snow-to-snowstorm::before {    content: "\f12a"}.qi-shower-snow-night::before {    content: "\f12b"}.qi-snow-flurry-night::before {    content: "\f12c"}.qi-snow::before {    content: "\f12d"}.qi-mist::before {    content: "\f12e"}.qi-foggy::before {    content: "\f12f"}.qi-haze::before {    content: "\f130"}.qi-sand::before {    content: "\f131"}.qi-dust::before {    content: "\f132"}.qi-duststorm::before {    content: "\f133"}.qi-sandstorm::before {    content: "\f134"}.qi-dense-fog::before {    content: "\f135"}.qi-strong-fog::before {    content: "\f136"}.qi-moderate-haze::before {    content: "\f137"}.qi-heavy-haze::before {    content: "\f138"}.qi-severe-haze::before {    content: "\f139"}.qi-heavy-fog::before {    content: "\f13a"}.qi-extra-heavy-fog::before {    content: "\f13b"}.qi-new-moon::before {    content: "\f13c"}.qi-waxing-crescent::before {    content: "\f13d"}.qi-first-quarter::before {    content: "\f13e"}.qi-waxing-gibbous::before {    content: "\f13f"}.qi-full-moon::before {    content: "\f140"}.qi-waning-gibbous::before {    content: "\f141"}.qi-last-quarter::before {    content: "\f142"}.qi-waning-crescent::before {    content: "\f143"}.qi-hot::before {    content: "\f144"}.qi-cold::before {    content: "\f145"}.qi-unknown::before {    content: "\f146"}.qi-typhoon::before {    content: "\f147"}.qi-tornado::before {    content: "\f148"}.qi-rainstorm::before {    content: "\f149"}.qi-snow-storm::before {    content: "\f14a"}.qi-cold-wave::before {    content: "\f14b"}.qi-gale::before {    content: "\f14c"}.qi-sandstorm-warning::before {    content: "\f14d"}.qi-low-temperature-freeze::before {    content: "\f14e"}.qi-high-temperature::before {    content: "\f14f"}.qi-heat-wave::before {    content: "\f150"}.qi-dry-hot-air::before {    content: "\f151"}.qi-downburst::before {    content: "\f152"}.qi-avalanche::before {    content: "\f153"}.qi-lightning::before {    content: "\f154"}.qi-hail::before {    content: "\f155"}.qi-frost::before {    content: "\f156"}.qi-heavy-fog-warning::before {    content: "\f157"}.qi-low-level-wind-shearl::before {    content: "\f158"}.qi-haze-warning::before {    content: "\f159"}.qi-thunder-gust::before {    content: "\f15a"}.qi-road-icing::before {    content: "\f15b"}.qi-drought::before {    content: "\f15c"}.qi-gale-at-sea::before {    content: "\f15d"}.qi-heat-stroke::before {    content: "\f15e"}.qi-wildfire::before {    content: "\f15f"}.qi-grassland-fire::before {    content: "\f160"}.qi-freeze::before {    content: "\f161"}.qi-space-weather::before {    content: "\f162"}.qi-heavy-air-pollution::before {    content: "\f163"}.qi-low-temperature-rain-and-snow::before {    content: "\f164"}.qi-strong-convection::before {    content: "\f165"}.qi-ozone::before {    content: "\f166"}.qi-heavy-snow-warning::before {    content: "\f167"}.qi-cold-warning::before {    content: "\f168"}.qi-continuous-rain::before {    content: "\f169"}.qi-waterlogging::before {    content: "\f16a"}.qi-geological-hazard::before {    content: "\f16b"}.qi-heavy-rainfall::before {    content: "\f16c"}.qi-severely-falling-temperature::before {    content: "\f16d"}.qi-snow-disaster::before {    content: "\f16e"}.qi-wildfire-grassland::before {    content: "\f16f"}.qi-medical-meteorology::before {    content: "\f170"}.qi-thunderstorm::before {    content: "\f171"}.qi-school-closure::before {    content: "\f172"}.qi-factory-closure::before {    content: "\f173"}.qi-maritime-risk::before {    content: "\f174"}.qi-spring-dust::before {    content: "\f175"}.qi-falling-temperature::before {    content: "\f176"}.qi-typhoon-and-rainstorm::before {    content: "\f177"}.qi-severe-cold::before {    content: "\f178"}.qi-sand-dust::before {    content: "\f179"}.qi-sea-thunderstorms::before {    content: "\f17a"}.qi-sea-fog::before {    content: "\f17b"}.qi-sea-thunder::before {    content: "\f17c"}.qi-sea-typhoon::before {    content: "\f17d"}.qi-low-temperature::before {    content: "\f17e"}.qi-road-ice-and-snow::before {    content: "\f17f"}.qi-thunderstorm-and-gale::before {    content: "\f180"}.qi-continuous-low-temperature::before {    content: "\f181"}.qi-strong-dust::before {    content: "\f182"}.qi-short-lived-heavy-shower-rain::before {    content: "\f183"}.qi-flood::before {    content: "\f184"}.qi-mudflow::before {    content: "\f185"}.qi-storm-surge::before {    content: "\f186"}.qi-very-hot-weather::before {    content: "\f187"}.qi-strong-monsoon-signal::before {    content: "\f188"}.qi-landslip::before {    content: "\f189"}.qi-tropical-cyclone::before {    content: "\f18a"}.qi-fire-danger::before {    content: "\f18b"}.qi-flooding-in-the-northern-new-territories::before {    content: "\f18c"}.qi-cold-weather::before {    content: "\f18d"}.qi-wind::before {    content: "\f18e"}.qi-snow-ice::before {    content: "\f18f"}.qi-fog::before {    content: "\f190"}.qi-coastal-event::before {    content: "\f191"}.qi-forest-fire::before {    content: "\f192"}.qi-rain-warning::before {    content: "\f193"}.qi-rain-flood::before {    content: "\f194"}.qi-freezing-rain-icing::before {    content: "\f195"}.qi-ground-frost::before {    content: "\f196"}.qi-dust-raising-winds::before {    content: "\f197"}.qi-strong-surface-winds::before {    content: "\f198"}.qi-hot-day::before {    content: "\f199"}.qi-warm-night::before {    content: "\f19a"}.qi-cold-day::before {    content: "\f19b"}.qi-thunderstorm-and-lightning::before {    content: "\f19c"}.qi-hailstorm::before {    content: "\f19d"}.qi-sea-area-warning::before {    content: "\f19e"}.qi-fishermen-warning::before {    content: "\f19f"}.qi-low-humidity::before {    content: "\f1a0"}.qi-accumulated-rain::before {    content: "\f1a1"}.qi-hazardous-surf-warning::before {    content: "\f1a2"}.qi-marine-wind-warning::before {    content: "\f1a3"}.qi-road-weather-alert::before {    content: "\f1a4"}.qi-thunder-rain::before {    content: "\f1a5"}.qi-thunder-rain-and-fog::before {    content: "\f1a6"}.qi-damaging-winds::before {    content: "\f1a7"}.qi-veld-fire-conditions::before {    content: "\f1a8"}.qi-weather-advisory::before {    content: "\f1a9"}.qi-severe-weather-warning::before {    content: "\f1aa"}.qi-warning-default::before {    content: "\f1ab"}.qi-sunny-fill::before {    content: "\f1ac"}.qi-cloudy-fill::before {    content: "\f1ad"}.qi-few-clouds-fill::before {    content: "\f1ae"}.qi-partly-cloudy-fill::before {    content: "\f1af"}.qi-overcast-fill::before {    content: "\f1b0"}.qi-clear-night-fill::before {    content: "\f1b1"}.qi-cloudy-night-fill::before {    content: "\f1b2"}.qi-few-clouds-night-fill::before {    content: "\f1b3"}.qi-partly-cloudy-night-fill::before {    content: "\f1b4"}.qi-shower-rain-fill::before {    content: "\f1b5"}.qi-heavy-shower-rain-fill::before {    content: "\f1b6"}.qi-thundershower-fill::before {    content: "\f1b7"}.qi-heavy-thunderstorm-fill::before {    content: "\f1b8"}.qi-thundershower-with-hail-fill::before {    content: "\f1b9"}.qi-light-rain-fill::before {    content: "\f1ba"}.qi-moderate-rain-fill::before {    content: "\f1bb"}.qi-heavy-rain-fill::before {    content: "\f1bc"}.qi-extreme-rain-fill::before {    content: "\f1bd"}.qi-drizzle-rain-fill::before {    content: "\f1be"}.qi-storm-fill::before {    content: "\f1bf"}.qi-heavy-storm-fill::before {    content: "\f1c0"}.qi-severe-storm-fill::before {    content: "\f1c1"}.qi-freezing-rain-fill::before {    content: "\f1c2"}.qi-light-to-moderate-rain-fill::before {    content: "\f1c3"}.qi-moderate-to-heavy-rain-fill::before {    content: "\f1c4"}.qi-heavy-rain-to-storm-fill::before {    content: "\f1c5"}.qi-storm-to-heavy-storm-fill::before {    content: "\f1c6"}.qi-heavy-to-severe-storm-fill::before {    content: "\f1c7"}.qi-shower-rain-night-fill::before {    content: "\f1c8"}.qi-heavy-shower-rain-night-fill::before {    content: "\f1c9"}.qi-rain-fill::before {    content: "\f1ca"}.qi-light-snow-fill::before {    content: "\f1cb"}.qi-moderate-snow-fill::before {    content: "\f1cc"}.qi-heavy-snow-fill::before {    content: "\f1cd"}.qi-snowstorm-fill::before {    content: "\f1ce"}.qi-sleet-fill::before {    content: "\f1cf"}.qi-rain-and-snow-fill::before {    content: "\f1d0"}.qi-shower-snow-fill::before {    content: "\f1d1"}.qi-snow-flurry-fill::before {    content: "\f1d2"}.qi-light-to-moderate-snow-fill::before {    content: "\f1d3"}.qi-moderate-to-heavy-snow-fill::before {    content: "\f1d4"}.qi-heavy-snow-to-snowstorm-fill::before {    content: "\f1d5"}.qi-shower-snow-night-fill::before {    content: "\f1d6"}.qi-snow-flurry-night-fill::before {    content: "\f1d7"}.qi-snow-fill::before {    content: "\f1d8"}.qi-mist-fill::before {    content: "\f1d9"}.qi-foggy-fill::before {    content: "\f1da"}.qi-haze-fill::before {    content: "\f1db"}.qi-sand-fill::before {    content: "\f1dc"}.qi-dust-fill::before {    content: "\f1dd"}.qi-duststorm-fill::before {    content: "\f1de"}.qi-sandstorm-fill::before {    content: "\f1df"}.qi-dense-fog-fill::before {    content: "\f1e0"}.qi-strong-fog-fill::before {    content: "\f1e1"}.qi-moderate-haze-fill::before {    content: "\f1e2"}.qi-heavy-haze-fill::before {    content: "\f1e3"}.qi-severe-haze-fill::before {    content: "\f1e4"}.qi-heavy-fog-fill::before {    content: "\f1e5"}.qi-extra-heavy-fog-fill::before {    content: "\f1e6"}.qi-hot-fill::before {    content: "\f1e7"}.qi-cold-fill::before {    content: "\f1e8"}.qi-unknown-fill::before {    content: "\f1e9"}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/custom.css"/>
      <url>/css/custom.css</url>
      
        <content type="html"><![CDATA[/* @font-face {  font-family: Candyhome;  src: url(https://npm.elemecdn.com/anzhiyu-blog@1.1.6/fonts/Candyhome.ttf);  font-display: swap;  font-weight: lighter;} */@font-face {    font-family: ZhuZiAYuanJWD;    src: url(https://npm.elemecdn.com/anzhiyu-blog@1.1.6/fonts/ZhuZiAWan.woff2);    font-display: swap;    font-weight: lighter;}div#menus {    font-family: "ZhuZiAYuanJWD";}h1#site-title {    font-family: ZhuZiAYuanJWD;    font-size: 3em !important;}a.article-title,a.blog-slider__title,a.categoryBar-list-link,h1.post-title {    font-family: ZhuZiAYuanJWD;}.iconfont {    font-family: "iconfont" !important;    font-size: 3em;    /* å¯ä»¥å®šä¹‰å›¾æ ‡å¤§å° */    font-style: normal;    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;}/* æ—¶é—´è½´ç”Ÿè‚–icon */svg.icon {    /* è¿™é‡Œå®šä¹‰svg.iconï¼Œé¿å…å’ŒButterflyè‡ªå¸¦çš„noteæ ‡ç­¾å†²çª */    width: 1em;    height: 1em;    /* widthå’Œheightå®šä¹‰å›¾æ ‡çš„é»˜è®¤å®½åº¦å’Œé«˜åº¦*/    vertical-align: -0.15em;    fill: currentColor;    overflow: hidden;}.icon-zhongbiao::before {    color: #f7c768;}/* bilibliç•ªå‰§æ’ä»¶ */#article-container .bangumi-tab.bangumi-active {    background: var(--anzhiyu-theme);    color: var(--anzhiyu-ahoverbg);    border-radius: 10px;}a.bangumi-tab:hover {    text-decoration: none !important;}.bangumi-button:hover {    background: var(--anzhiyu-theme) !important;    border-radius: 10px !important;    color: var(--anzhiyu-ahoverbg) !important;}a.bangumi-button.bangumi-nextpage:hover {    text-decoration: none !important;}.bangumi-button {    padding: 5px 10px !important;}a.bangumi-tab {    padding: 5px 10px !important;}svg.icon.faa-tada {    font-size: 1.1em;}.bangumi-info-item {    border-right: 1px solid #f2b94b;}.bangumi-info-item span {    color: #f2b94b;}.bangumi-info-item em {    color: #f2b94b;}/* è§£å†³artitalkçš„å›¾æ ‡é—®é¢˜ */#uploadSource>svg {    width: 1.19em;    height: 1.5em;}/*top-imgé»‘è‰²é€æ˜ç»ç’ƒæ•ˆæœç§»é™¤ï¼Œä¸å»ºè®®åŠ ï¼Œé™¤éä½ æ‰§ç€äºå®Œå…¨ä¸€å›¾æµæˆ–è€…èƒŒæ™¯å›¾å¯¹æ¯”è‰²æ˜æ˜¾ */#page-header:not(.not-top-img):before {    background-color: transparent !important;}/* é¦–é¡µæ–‡ç« å¡ç‰‡ */#recent-posts>.recent-post-item {    background: rgba(255, 255, 255, 0.9);}/* é¦–é¡µä¾§æ å¡ç‰‡ */#aside-content .card-widget {    background: rgba(255, 255, 255, 0.9);}/* æ–‡ç« é¡µé¢æ­£æ–‡èƒŒæ™¯ */div#post {    background: rgba(255, 255, 255, 0.9);}/* åˆ†é¡µé¡µé¢ */div#page {    background: rgba(255, 255, 255, 0.9);}/* å½’æ¡£é¡µé¢ */div#archive {    background: rgba(255, 255, 255, 0.9);}/* æ ‡ç­¾é¡µé¢ */div#tag {    background: rgba(255, 255, 255, 0.9);}/* åˆ†ç±»é¡µé¢ */div#category {    background: rgba(255, 255, 255, 0.9);}/*å¤œé—´æ¨¡å¼ä¼ªç±»é®ç½©å±‚é€æ˜*/[data-theme="dark"] #recent-posts>.recent-post-item {    background: #121212;}[data-theme="dark"] .card-widget {    background: #121212 !important;}[data-theme="dark"] div#post {    background: #121212 !important;}[data-theme="dark"] div#tag {    background: #121212 !important;}[data-theme="dark"] div#archive {    background: #121212 !important;}[data-theme="dark"] div#page {    background: #121212 !important;}[data-theme="dark"] div#category {    background: #121212 !important;}[data-theme="dark"] div#category {    background: transparent !important;}/* é¡µè„šé€æ˜ */#footer {    background: transparent !important;}/* å¤´å›¾é€æ˜ */#page-header {    background: transparent !important;}#rightside>div>button {    border-radius: 5px;}/* æ»šåŠ¨æ¡ */::-webkit-scrollbar {    width: 10px;    height: 10px;}::-webkit-scrollbar-thumb {    background-color: #3b70fc;    border-radius: 2em;}::-webkit-scrollbar-corner {    background-color: transparent;}::-moz-selection {    color: #fff;    background-color: #3b70fc;}/* éŸ³ä¹æ’­æ”¾å™¨ *//* .aplayer .aplayer-lrc {    display: none !important;  } */.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {    left: -66px !important;    transition: all 0.3s;    /* é»˜è®¤æƒ…å†µä¸‹ç¼©è¿›å·¦ä¾§66pxï¼Œåªç•™ä¸€ç‚¹ç®­å¤´éƒ¨åˆ† */}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {    left: 0 !important;    transition: all 0.3s;    /* é¼ æ ‡æ‚¬åœæ˜¯å·¦ä¾§ç¼©è¿›å½’é›¶ï¼Œå®Œå…¨æ˜¾ç¤ºæŒ‰é’® */}.aplayer.aplayer-fixed {    z-index: 999999 !important;}/* è¯„è®ºæ¡†  */.vwrap {    box-shadow: 2px 2px 5px #bbb;    background: rgba(255, 255, 255, 0.3);    border-radius: 8px;    padding: 30px;    margin: 30px 0px 30px 0px;}/* è®¾ç½®è¯„è®ºæ¡† */.vcard {    box-shadow: 2px 2px 5px #bbb;    background: rgba(255, 255, 255, 0.3);    border-radius: 8px;    padding: 30px;    margin: 30px 0px 0px 0px;}/* mdç½‘ç«™ä¸‹åˆ’çº¿ */#article-container a:hover {    text-decoration: none !important;}#article-container #hpp_talk p img {    display: inline;}/* 404é¡µé¢ */#error-wrap {    position: absolute;    top: 40%;    right: 0;    left: 0;    margin: 0 auto;    padding: 0 1rem;    max-width: 1000px;    transform: translate(0, -50%);}#error-wrap .error-content {    display: flex;    flex-direction: row;    justify-content: center;    align-items: center;    margin: 0 1rem;    height: 18rem;    border-radius: 8px;    background: var(--card-bg);    box-shadow: var(--card-box-shadow);    transition: all 0.3s;}#error-wrap .error-content .error-img {    box-flex: 1;    flex: 1;    height: 100%;    border-top-left-radius: 8px;    border-bottom-left-radius: 8px;    background-color: #3b70fc;    background-position: center;    background-size: cover;}#error-wrap .error-content .error-info {    box-flex: 1;    flex: 1;    padding: 0.5rem;    text-align: center;    font-size: 14px;    font-family: Titillium Web, "PingFang SC", "Hiragino Sans GB", "Microsoft JhengHei", "Microsoft YaHei", sans-serif;}#error-wrap .error-content .error-info .error_title {    margin-top: -4rem;    font-size: 9em;}#error-wrap .error-content .error-info .error_subtitle {    margin-top: -3.5rem;    word-break: break-word;    font-size: 1.6em;}#error-wrap .error-content .error-info a {    display: inline-block;    margin-top: 0.5rem;    padding: 0.3rem 1.5rem;    background: var(--btn-bg);    color: var(--btn-color);}#body-wrap.error .aside-list {    display: flex;    flex-direction: row;    flex-wrap: nowrap;    bottom: 0px;    position: absolute;    padding: 1rem;    width: 100%;    overflow: scroll;}#body-wrap.error .aside-list .aside-list-group {    display: flex;    flex-direction: row;    flex-wrap: nowrap;    max-width: 1200px;    margin: 0 auto;}#body-wrap.error .aside-list .aside-list-item {    padding: 0.5rem;}#body-wrap.error .aside-list .aside-list-item img {    width: 100%;    object-fit: cover;    border-radius: 12px;}#body-wrap.error .aside-list .aside-list-item .thumbnail {    overflow: hidden;    width: 230px;    height: 143px;    background: var(--anzhiyu-card-bg);    display: flex;}#body-wrap.error .aside-list .aside-list-item .content .title {    -webkit-line-clamp: 2;    overflow: hidden;    display: -webkit-box;    -webkit-box-orient: vertical;    line-height: 1.5;    justify-content: center;    align-items: flex-end;    align-content: center;    padding-top: 0.5rem;    color: white;}#body-wrap.error .aside-list .aside-list-item .content time {    display: none;}/* ä»£ç æ¡†ä¸»é¢˜ */#article-container figure.highlight {    border-radius: 10px;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/ali_font.js"/>
      <url>/js/ali_font.js</url>
      
        <content type="html"><![CDATA[window._iconfont_svg_string_4494647='<svg><symbol id="icon-plane" viewBox="0 0 1048 1024"><path d="M615 692.199l54.446 51.45-245.185 259.621V654.885h74.927V814.83z" fill="#333333" ></path><path d="M424.26 654.885v-29.271L968.955 61.315l53.897 52.05-534.178 553.409-12.313-11.889z" fill="#999999" ></path><path d="M1046.378 19.806L894.851 845.824 18.956 539.948 1046.353 19.806zM209.87 527.236L836.933 746.27l108.494-591.347L209.895 527.31z" fill="#333333" ></path></symbol><symbol id="icon-a-haotianqitaiyang" viewBox="0 0 1146 1024"><path d="M418.449468 418.449468m-230.528002 0a230.528002 230.528002 0 1 0 461.056005 0 230.528002 230.528002 0 1 0-461.056005 0Z" fill="#FFD500" ></path><path d="M418.449468 129.672928a19.768721 19.768721 0 0 1-19.768721-19.768721V19.768721a19.768721 19.768721 0 0 1 39.537443 0v90.130543a19.768721 19.768721 0 0 1-19.768722 19.773664zM200.276917 220.045638a19.739068 19.739068 0 0 1-13.981429-5.787293L122.561131 150.519045a19.768721 19.768721 0 0 1 27.957914-27.957914l63.734358 63.734357a19.768721 19.768721 0 0 1-13.976486 33.75015zM109.904207 438.21819H19.768721a19.768721 19.768721 0 0 1 0-39.537443h90.135486a19.768721 19.768721 0 0 1 0 39.537443zM136.542559 720.120157a19.768721 19.768721 0 0 1-13.981428-33.745208l63.734357-63.734357a19.768721 19.768721 0 0 1 27.957915 27.952972l-63.734358 63.734357a19.709415 19.709415 0 0 1-13.976486 5.792236zM418.449468 836.898936a19.768721 19.768721 0 0 1-19.768721-19.768721V726.99473a19.768721 19.768721 0 0 1 39.537443 0v90.130543a19.768721 19.768721 0 0 1-19.768722 19.773663zM700.346493 720.120157a19.729184 19.729184 0 0 1-13.976486-5.792236l-63.724473-63.734357a19.768721 19.768721 0 1 1 27.952972-27.952972l63.724473 63.734357a19.768721 19.768721 0 0 1-13.976486 33.745208zM817.125273 438.21819H726.99473a19.768721 19.768721 0 0 1 0-39.537443h90.130543a19.768721 19.768721 0 0 1 0 39.537443z" fill="#6E6E96" ></path><path d="M415.039364 184.516303c-127.315508 0-230.52306 103.207552-230.523061 230.528003s103.207552 230.532945 230.523061 230.532945 230.532945-103.212494 230.532944-230.532945-103.217437-230.528002-230.532944-230.528003z m-9.370374 421.864515c-114.609162 0-207.522153-92.917933-207.522153-207.522153s92.912991-207.522153 207.522153-207.522153 207.536979 92.917933 207.536979 207.522153-92.927817 207.522153-207.536979 207.522153z" fill="#E69900" opacity=".46" ></path><path d="M432.168961 642.251163c-116.027568 0-210.082202-94.054634-210.082203-210.087144 0-116.027568 94.059576-210.082202 210.082203-210.082203 116.022626 0 210.082202 94.054634 210.082202 210.082203 0 13.813394-1.368984 27.285778-3.919149 40.357844a230.809707 230.809707 0 0 0 7.23041-57.482499c0-127.32045-103.20261-230.532945-230.528002-230.532945-127.315508 0-230.52306 103.207552-230.523061 230.528003s103.207552 230.532945 230.523061 230.532944c19.847796 0 39.107473-2.51557 57.482499-7.23041-13.05724 2.545223-26.539508 3.914207-40.34796 3.914207z" fill="#FFE97D" ></path><path d="M636.62202 220.045638a19.768721 19.768721 0 0 1-13.976486-33.745207L686.365065 122.566073a19.768721 19.768721 0 0 1 27.962856 27.957914l-63.729415 63.734358a19.679762 19.679762 0 0 1-13.976486 5.787293zM418.449468 668.746192c-138.015328 0-250.296724-112.286338-250.296724-250.301666 0-138.010386 112.281395-250.301666 250.296724-250.301666 138.015328 0 250.301666 112.286338 250.301666 250.301666s-112.286338 250.301666-250.301666 250.301666z m0-461.056005c-116.215371 0-210.759281 94.54391-210.759281 210.764223 0 116.215371 94.54391 210.764223 210.759281 210.764224s210.764223-94.548852 210.764223-210.764224-94.548852-210.764223-210.764223-210.764223z" fill="#6E6E96" ></path><path d="M984.852989 529.480492c0.019769-1.354157 0.103786-2.703373 0.103786-4.072357 0-144.454989-117.109906-261.589606-261.589606-261.589606-124.365026 0-228.388038 86.829167-254.947315 203.143381a162.177648 162.177648 0 0 0-12.355451-0.528813c-85.924748 0-155.579837 69.664974-155.579838 155.574895 0 18.424448 3.217359 36.087801 9.093612 52.485956a208.016371 208.016371 0 0 0-38.351319 120.613911c0 113.907373 91.109095 206.464526 204.418463 208.945501v0.11367h401.898106c137.773162 0 249.461495-111.698218 249.461496-249.47138 0.004942-99.327941-58.085446-185.094539-142.151934-225.215158z" fill="#D9F8FF" ></path><path d="M997.588988 529.164192c0.948899 8.866272 1.477712 17.851155 1.477712 26.969479 0 1.309678-0.069191 2.574876-0.103786 3.874669 61.544972 29.425742 108.386957 84.738624 126.534644 151.86826-11.619066-79.055117-60.353906-146.016718-127.90857-182.712408zM724.523639 257.551845c-124.365026 0-228.383096 86.824224-254.942373 203.143381a162.286376 162.286376 0 0 0-12.355451-0.528814c-85.924748 0-155.579837 69.664974-155.579837 155.574896 0 18.419506 3.222302 36.082859 9.098554 52.481013a208.026255 208.026255 0 0 0-38.35132 120.623796c0 101.235622 72.002626 185.568988 167.579452 204.808896-69.215236-30.96276-117.470685-100.489353-117.470685-181.33354a197.919497 197.919497 0 0 1 36.354678-114.584451 147.87992 147.87992 0 0 1-8.624104-49.861658c0-81.615166 66.032472-147.776135 147.484546-147.776134 3.948802 0 7.838298 0.207572 11.712967 0.513986 25.180409-110.4775 123.776907-192.952605 241.677562-192.952605 101.991776 0 189.56227 61.727833 227.651653 149.916099-27.705863-114.747543-130.982606-200.024865-254.235642-200.024865z" fill="#FFFFFF" opacity=".63" ></path><path d="M877.543427 1023.940694H475.650264c-0.92913 0-1.838491-0.064248-2.728084-0.187803-59.192494-1.878029-114.544914-26.168845-156.088882-68.552984-42.156798-43.001911-65.37022-99.861696-65.37022-160.09699 0-44.202861 12.533369-86.755034 36.339853-123.683005a174.938358 174.938358 0 0 1-7.082145-49.416862c0-95.749802 77.137551-173.816483 172.536458-175.323848 34.708933-120.104867 143.545628-202.629394 270.114867-202.629394 152.441553 0 276.954845 121.864283 281.239715 273.287747 86.764918 46.58005 142.16676 138.395876 142.16676 237.363038 0 148.463098-120.772061 269.240101-269.235159 269.240101z m-399.698835-39.537443h399.698835c126.653256 0 229.697716-103.04446 229.697717-229.702658 0-88.030116-51.378907-169.432769-130.898589-207.37883a19.763779 19.763779 0 0 1-11.24346-18.20205l0.059306-2.026294c0.019769-0.553524 0.04448-1.126817 0.044479-1.695168 0-133.335084-108.480859-241.820885-241.820884-241.820885-113.521883 0-210.428155 77.216626-235.677755 187.773201a19.753895 19.753895 0 0 1-20.806579 15.305932 141.855403 141.855403 0 0 0-10.818433-0.474449c-74.883917 0-135.811116 60.922257-135.811116 135.806174 0 15.706249 2.67372 31.115967 7.937142 45.818954a19.768721 19.768721 0 0 1-2.476032 18.08838 187.951119 187.951119 0 0 0-34.718817 109.192533c0 102.080735 83.02863 186.947856 185.084654 189.181721 0.583177 0.034595 1.166355 0.074133 1.749532 0.133439z" fill="#6E6E96" ></path><path d="M989.612309 526.821599c0.029653-1.364042 0.103786-2.708315 0.103786-4.077299 0-119.412962-80.053437-220.065407-189.389293-251.418599 79.094654 41.761424 133.033611 124.790054 133.03361 220.445955 0 1.31462-0.084017 44.583409-0.103785 45.883202 80.068264 38.203054 135.400915 77.9283 135.400915 172.546343 0 131.239599-106.37549 237.634858-237.629916 237.634858H448.201394v-0.118613c-67.282843-1.467828-126.332014-36.29043-161.278172-88.588583 27.379679 81.32852 103.380529 140.288731 193.486361 142.25572v0.11367h401.893164c137.773162 0 249.466438-111.698218 249.466438-249.47138-0.004942-99.322999-58.100272-185.094539-142.156876-225.205274z" fill="#6E6E96" opacity=".15" ></path></symbol></svg>',function(a){var t=(t=document.getElementsByTagName("script"))[t.length-1],e=t.getAttribute("data-injectcss"),t=t.getAttribute("data-disable-injectsvg");if(!t){var n,i,c,l,o,d=function(t,e){e.parentNode.insertBefore(t,e)};if(e&&!a.__iconfont__svg__cssinject__){a.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}n=function(){var t,e=document.createElement("div");e.innerHTML=a._iconfont_svg_string_4494647,(e=e.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",e=e,(t=document.body).firstChild?d(e,t.firstChild):t.appendChild(e))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(n,0):(i=function(){document.removeEventListener("DOMContentLoaded",i,!1),n()},document.addEventListener("DOMContentLoaded",i,!1)):document.attachEvent&&(c=n,l=a.document,o=!1,h(),l.onreadystatechange=function(){"complete"==l.readyState&&(l.onreadystatechange=null,s())})}function s(){o||(o=!0,c())}function h(){try{l.documentElement.doScroll("left")}catch(t){return void setTimeout(h,50)}s()}}(window);]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>æ ‡ç­¾</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/runtime/runtime.min.js"/>
      <url>/js/runtime/runtime.min.js</url>
      
        <content type="html"><![CDATA[var now = new Date; function createtime() { var t = new Date("04/05/2024 00:00:00"); now.setTime(now.getTime() + 250); var e = (now - t) / 1e3 / 60 / 60 / 24, a = Math.floor(e), n = (now - t) / 1e3 / 60 / 60 - 24 * a, r = Math.floor(n); 1 == String(r).length && (r = "0" + r); var s = (now - t) / 1e3 / 60 - 1440 * a - 60 * r, i = Math.floor(s); 1 == String(i).length && (i = "0" + i); var o = (now - t) / 1e3 - 86400 * a - 3600 * r - 60 * i, l = Math.round(o); 1 == String(l).length && (l = "0" + l); let g = ""; g = r < 18 && r >= 9 ? `<img class='boardsign' src='https://img.shields.io/badge/simukiru-%E6%91%B8%E9%B1%BC%E4%B8%AD-blue?style=social&logo=Youtube%20Gaming' title='ç©å¾—èˆ’å¿ƒä¹‹åï¼Œå­¦çš„æ‰èˆ’å¿ƒ~'><span class='textTip'> <br> æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${a} å¤©</span><span id='runtime'> ${r} å°æ—¶ ${i} åˆ† ${l} ç§’ </span> <i class='fas fa-heartbeat' style='color:red'></i>` : `<img class='boardsign' src='https://img.shields.io/badge/simukiru-%E6%91%B8%E9%B1%BC%E4%B8%AD~-blue?style=social&logo=Youtube%20Gaming' title='å…»ç²¾è“„é”ä¸å¤±ä¸ºä¸€ç§é€‰æ‹©~'><span class='textTip'> <br> æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${a} å¤©</span><span id='runtime'> ${r} å°æ—¶ ${i} åˆ† ${l} ç§’ </span> <i class='fas fa-heartbeat' style='color:red'></i>`, document.getElementById("workboard") && (document.getElementById("workboard").innerHTML = g) } setInterval((() => { createtime() }), 250);]]></content>
      
    </entry>
    
    
  
</search>
